var Vo=Object.defineProperty;var Ko=(e,t,s)=>t in e?Vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var qo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var wt=(e,t,s)=>Ko(e,typeof t!="symbol"?t+"":t,s);var pu=qo((gu,vs)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function di(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Y={},Me=[],qt=()=>{},Xo=()=>!1,Os=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fi=e=>e.startsWith("onUpdate:"),ct=Object.assign,hi=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},zo=Object.prototype.hasOwnProperty,K=(e,t)=>zo.call(e,t),W=Array.isArray,Ie=e=>Ls(e)==="[object Map]",Sn=e=>Ls(e)==="[object Set]",G=e=>typeof e=="function",nt=e=>typeof e=="string",fe=e=>typeof e=="symbol",it=e=>e!==null&&typeof e=="object",xn=e=>(it(e)||G(e))&&G(e.then)&&G(e.catch),Cn=Object.prototype.toString,Ls=e=>Cn.call(e),Yo=e=>Ls(e).slice(8,-1),On=e=>Ls(e)==="[object Object]",pi=e=>nt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ve=di(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ms=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Jo=/-(\w)/g,ue=Ms(e=>e.replace(Jo,(t,s)=>s?s.toUpperCase():"")),Zo=/\B([A-Z])/g,xe=Ms(e=>e.replace(Zo,"-$1").toLowerCase()),Ln=Ms(e=>e.charAt(0).toUpperCase()+e.slice(1)),Fs=Ms(e=>e?`on${Ln(e)}`:""),re=(e,t)=>!Object.is(e,t),Us=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Mn=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},Qo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ji;const Is=()=>ji||(ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function mi(e){if(W(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=nt(i)?il(i):mi(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(nt(e)||it(e))return e}const tl=/;(?![^(]*\))/g,el=/:([^]+)/,sl=/\/\*[^]*?\*\//g;function il(e){const t={};return e.replace(sl,"").split(tl).forEach(s=>{if(s){const i=s.split(el);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function As(e){let t="";if(nt(e))t=e;else if(W(e))for(let s=0;s<e.length;s++){const i=As(e[s]);i&&(t+=i+" ")}else if(it(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const nl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ol=di(nl);function In(e){return!!e||e===""}const An=e=>!!(e&&e.__v_isRef===!0),kt=e=>nt(e)?e:e==null?"":W(e)||it(e)&&(e.toString===Cn||!G(e.toString))?An(e)?kt(e.value):JSON.stringify(e,Dn,2):String(e),Dn=(e,t)=>An(t)?Dn(e,t.value):Ie(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],o)=>(s[js(i,o)+" =>"]=n,s),{})}:Sn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>js(s))}:fe(t)?js(t):it(t)&&!W(t)&&!On(t)?String(t):t,js=(e,t="")=>{var s;return fe(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let It;class ll{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=It,!t&&It&&(this.index=(It.scopes||(It.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=It;try{return It=this,t()}finally{It=s}}}on(){It=this}off(){It=this.parent}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function rl(){return It}let Q;const Bs=new WeakSet;class Nn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,It&&It.active&&It.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bs.has(this)&&(Bs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||kn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bi(this),$n(this);const t=Q,s=Pt;Q=this,Pt=!0;try{return this.fn()}finally{Pn(this),Q=t,Pt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)_i(t);this.deps=this.depsTail=void 0,Bi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qs(this)&&this.run()}get dirty(){return Qs(this)}}let Rn=0,Ke,qe;function kn(e,t=!1){if(e.flags|=8,t){e.next=qe,qe=e;return}e.next=Ke,Ke=e}function gi(){Rn++}function vi(){if(--Rn>0)return;if(qe){let t=qe;for(qe=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ke;){let t=Ke;for(Ke=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function $n(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Pn(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),_i(i),al(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function Qs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Hn(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Hn(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ze))return;e.globalVersion=Ze;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Qs(e)){e.flags&=-3;return}const s=Q,i=Pt;Q=e,Pt=!0;try{$n(e);const n=e.fn(e._value);(t.version===0||re(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Q=s,Pt=i,Pn(e),e.flags&=-3}}function _i(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)_i(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function al(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Pt=!0;const Wn=[];function he(){Wn.push(Pt),Pt=!1}function pe(){const e=Wn.pop();Pt=e===void 0?!0:e}function Bi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Q;Q=void 0;try{t()}finally{Q=s}}}let Ze=0;class cl{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Q||!Pt||Q===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Q)s=this.activeLink=new cl(Q,this),Q.deps?(s.prevDep=Q.depsTail,Q.depsTail.nextDep=s,Q.depsTail=s):Q.deps=Q.depsTail=s,Gn(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=Q.depsTail,s.nextDep=void 0,Q.depsTail.nextDep=s,Q.depsTail=s,Q.deps===s&&(Q.deps=i)}return s}trigger(t){this.version++,Ze++,this.notify(t)}notify(t){gi();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{vi()}}}function Gn(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Gn(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ti=new WeakMap,we=Symbol(""),ei=Symbol(""),Qe=Symbol("");function dt(e,t,s){if(Pt&&Q){let i=ti.get(e);i||ti.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new bi),n.map=i,n.key=s),n.track()}}function Qt(e,t,s,i,n,o){const l=ti.get(e);if(!l){Ze++;return}const r=a=>{a&&a.trigger()};if(gi(),t==="clear")l.forEach(r);else{const a=W(e),c=a&&pi(s);if(a&&s==="length"){const u=Number(i);l.forEach((h,p)=>{(p==="length"||p===Qe||!fe(p)&&p>=u)&&r(h)})}else switch((s!==void 0||l.has(void 0))&&r(l.get(s)),c&&r(l.get(Qe)),t){case"add":a?c&&r(l.get("length")):(r(l.get(we)),Ie(e)&&r(l.get(ei)));break;case"delete":a||(r(l.get(we)),Ie(e)&&r(l.get(ei)));break;case"set":Ie(e)&&r(l.get(we));break}}vi()}function Ce(e){const t=V(e);return t===e?t:(dt(t,"iterate",Qe),Dt(e)?t:t.map(ft))}function Ds(e){return dt(e=V(e),"iterate",Qe),e}const ul={__proto__:null,[Symbol.iterator](){return Vs(this,Symbol.iterator,ft)},concat(...e){return Ce(this).concat(...e.map(t=>W(t)?Ce(t):t))},entries(){return Vs(this,"entries",e=>(e[1]=ft(e[1]),e))},every(e,t){return Jt(this,"every",e,t,void 0,arguments)},filter(e,t){return Jt(this,"filter",e,t,s=>s.map(ft),arguments)},find(e,t){return Jt(this,"find",e,t,ft,arguments)},findIndex(e,t){return Jt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Jt(this,"findLast",e,t,ft,arguments)},findLastIndex(e,t){return Jt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Jt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ks(this,"includes",e)},indexOf(...e){return Ks(this,"indexOf",e)},join(e){return Ce(this).join(e)},lastIndexOf(...e){return Ks(this,"lastIndexOf",e)},map(e,t){return Jt(this,"map",e,t,void 0,arguments)},pop(){return Ge(this,"pop")},push(...e){return Ge(this,"push",e)},reduce(e,...t){return Vi(this,"reduce",e,t)},reduceRight(e,...t){return Vi(this,"reduceRight",e,t)},shift(){return Ge(this,"shift")},some(e,t){return Jt(this,"some",e,t,void 0,arguments)},splice(...e){return Ge(this,"splice",e)},toReversed(){return Ce(this).toReversed()},toSorted(e){return Ce(this).toSorted(e)},toSpliced(...e){return Ce(this).toSpliced(...e)},unshift(...e){return Ge(this,"unshift",e)},values(){return Vs(this,"values",ft)}};function Vs(e,t,s){const i=Ds(e),n=i[t]();return i!==e&&!Dt(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=s(o.value)),o}),n}const dl=Array.prototype;function Jt(e,t,s,i,n,o){const l=Ds(e),r=l!==e&&!Dt(e),a=l[t];if(a!==dl[t]){const h=a.apply(e,o);return r?ft(h):h}let c=s;l!==e&&(r?c=function(h,p){return s.call(this,ft(h),p,e)}:s.length>2&&(c=function(h,p){return s.call(this,h,p,e)}));const u=a.call(l,c,i);return r&&n?n(u):u}function Vi(e,t,s,i){const n=Ds(e);let o=s;return n!==e&&(Dt(e)?s.length>3&&(o=function(l,r,a){return s.call(this,l,r,a,e)}):o=function(l,r,a){return s.call(this,l,ft(r),a,e)}),n[t](o,...i)}function Ks(e,t,s){const i=V(e);dt(i,"iterate",Qe);const n=i[t](...s);return(n===-1||n===!1)&&Ti(s[0])?(s[0]=V(s[0]),i[t](...s)):n}function Ge(e,t,s=[]){he(),gi();const i=V(e)[t].apply(e,s);return vi(),pe(),i}const fl=di("__proto__,__v_isRef,__isVue"),Fn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fe));function hl(e){fe(e)||(e=String(e));const t=V(this);return dt(t,"has",e),t.hasOwnProperty(e)}class Un{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?Tl:Kn:o?Vn:Bn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const l=W(t);if(!n){let a;if(l&&(a=ul[s]))return a;if(s==="hasOwnProperty")return hl}const r=Reflect.get(t,s,pt(t)?t:i);return(fe(s)?Fn.has(s):fl(s))||(n||dt(t,"get",s),o)?r:pt(r)?l&&pi(s)?r:r.value:it(r)?n?qn(r):wi(r):r}}class jn extends Un{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];if(!this._isShallow){const a=Te(o);if(!Dt(i)&&!Te(i)&&(o=V(o),i=V(i)),!W(t)&&pt(o)&&!pt(i))return a?!1:(o.value=i,!0)}const l=W(t)&&pi(s)?Number(s)<t.length:K(t,s),r=Reflect.set(t,s,i,pt(t)?t:n);return t===V(n)&&(l?re(i,o)&&Qt(t,"set",s,i):Qt(t,"add",s,i)),r}deleteProperty(t,s){const i=K(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&Qt(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!fe(s)||!Fn.has(s))&&dt(t,"has",s),i}ownKeys(t){return dt(t,"iterate",W(t)?"length":we),Reflect.ownKeys(t)}}class pl extends Un{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ml=new jn,gl=new pl,vl=new jn(!0),si=e=>e,as=e=>Reflect.getPrototypeOf(e);function _l(e,t,s){return function(...i){const n=this.__v_raw,o=V(n),l=Ie(o),r=e==="entries"||e===Symbol.iterator&&l,a=e==="keys"&&l,c=n[e](...i),u=s?si:t?ii:ft;return!t&&dt(o,"iterate",a?ei:we),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:r?[u(h[0]),u(h[1])]:u(h),done:p}},[Symbol.iterator](){return this}}}}function cs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bl(e,t){const s={get(n){const o=this.__v_raw,l=V(o),r=V(n);e||(re(n,r)&&dt(l,"get",n),dt(l,"get",r));const{has:a}=as(l),c=t?si:e?ii:ft;if(a.call(l,n))return c(o.get(n));if(a.call(l,r))return c(o.get(r));o!==l&&o.get(n)},get size(){const n=this.__v_raw;return!e&&dt(V(n),"iterate",we),Reflect.get(n,"size",n)},has(n){const o=this.__v_raw,l=V(o),r=V(n);return e||(re(n,r)&&dt(l,"has",n),dt(l,"has",r)),n===r?o.has(n):o.has(n)||o.has(r)},forEach(n,o){const l=this,r=l.__v_raw,a=V(r),c=t?si:e?ii:ft;return!e&&dt(a,"iterate",we),r.forEach((u,h)=>n.call(o,c(u),c(h),l))}};return ct(s,e?{add:cs("add"),set:cs("set"),delete:cs("delete"),clear:cs("clear")}:{add(n){!t&&!Dt(n)&&!Te(n)&&(n=V(n));const o=V(this);return as(o).has.call(o,n)||(o.add(n),Qt(o,"add",n,n)),this},set(n,o){!t&&!Dt(o)&&!Te(o)&&(o=V(o));const l=V(this),{has:r,get:a}=as(l);let c=r.call(l,n);c||(n=V(n),c=r.call(l,n));const u=a.call(l,n);return l.set(n,o),c?re(o,u)&&Qt(l,"set",n,o):Qt(l,"add",n,o),this},delete(n){const o=V(this),{has:l,get:r}=as(o);let a=l.call(o,n);a||(n=V(n),a=l.call(o,n)),r&&r.call(o,n);const c=o.delete(n);return a&&Qt(o,"delete",n,void 0),c},clear(){const n=V(this),o=n.size!==0,l=n.clear();return o&&Qt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=_l(n,e,t)}),s}function yi(e,t){const s=bl(e,t);return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(K(s,n)&&n in i?s:i,n,o)}const yl={get:yi(!1,!1)},wl={get:yi(!1,!0)},El={get:yi(!0,!1)},Bn=new WeakMap,Vn=new WeakMap,Kn=new WeakMap,Tl=new WeakMap;function Sl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xl(e){return e.__v_skip||!Object.isExtensible(e)?0:Sl(Yo(e))}function wi(e){return Te(e)?e:Ei(e,!1,ml,yl,Bn)}function Cl(e){return Ei(e,!1,vl,wl,Vn)}function qn(e){return Ei(e,!0,gl,El,Kn)}function Ei(e,t,s,i,n){if(!it(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=n.get(e);if(o)return o;const l=xl(e);if(l===0)return e;const r=new Proxy(e,l===2?i:s);return n.set(e,r),r}function Ae(e){return Te(e)?Ae(e.__v_raw):!!(e&&e.__v_isReactive)}function Te(e){return!!(e&&e.__v_isReadonly)}function Dt(e){return!!(e&&e.__v_isShallow)}function Ti(e){return e?!!e.__v_raw:!1}function V(e){const t=e&&e.__v_raw;return t?V(t):e}function Ol(e){return!K(e,"__v_skip")&&Object.isExtensible(e)&&Mn(e,"__v_skip",!0),e}const ft=e=>it(e)?wi(e):e,ii=e=>it(e)?qn(e):e;function pt(e){return e?e.__v_isRef===!0:!1}function Xn(e){return zn(e,!1)}function Ll(e){return zn(e,!0)}function zn(e,t){return pt(e)?e:new Ml(e,t)}class Ml{constructor(t,s){this.dep=new bi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:V(t),this._value=s?t:ft(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||Dt(t)||Te(t);t=i?t:V(t),re(t,s)&&(this._rawValue=t,this._value=i?t:ft(t),this.dep.trigger())}}function vt(e){return pt(e)?e.value:e}const Il={get:(e,t,s)=>t==="__v_raw"?e:vt(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return pt(n)&&!pt(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Yn(e){return Ae(e)?e:new Proxy(e,Il)}class Al{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new bi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ze-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Q!==this)return kn(this,!0),!0}get value(){const t=this.dep.track();return Hn(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Dl(e,t,s=!1){let i,n;return G(e)?i=e:(i=e.get,n=e.set),new Al(i,n,s)}const us={},_s=new WeakMap;let be;function Nl(e,t=!1,s=be){if(s){let i=_s.get(s);i||_s.set(s,i=[]),i.push(e)}}function Rl(e,t,s=Y){const{immediate:i,deep:n,once:o,scheduler:l,augmentJob:r,call:a}=s,c=y=>n?y:Dt(y)||n===!1||n===0?ne(y,1):ne(y);let u,h,p,m,g=!1,_=!1;if(pt(e)?(h=()=>e.value,g=Dt(e)):Ae(e)?(h=()=>c(e),g=!0):W(e)?(_=!0,g=e.some(y=>Ae(y)||Dt(y)),h=()=>e.map(y=>{if(pt(y))return y.value;if(Ae(y))return c(y);if(G(y))return a?a(y,2):y()})):G(e)?t?h=a?()=>a(e,2):e:h=()=>{if(p){he();try{p()}finally{pe()}}const y=be;be=u;try{return a?a(e,3,[m]):e(m)}finally{be=y}}:h=qt,t&&n){const y=h,b=n===!0?1/0:n;h=()=>ne(y(),b)}const L=rl(),E=()=>{u.stop(),L&&L.active&&hi(L.effects,u)};if(o&&t){const y=t;t=(...b)=>{y(...b),E()}}let M=_?new Array(e.length).fill(us):us;const R=y=>{if(!(!(u.flags&1)||!u.dirty&&!y))if(t){const b=u.run();if(n||g||(_?b.some((w,j)=>re(w,M[j])):re(b,M))){p&&p();const w=be;be=u;try{const j=[b,M===us?void 0:_&&M[0]===us?[]:M,m];a?a(t,3,j):t(...j),M=b}finally{be=w}}}else u.run()};return r&&r(R),u=new Nn(h),u.scheduler=l?()=>l(R,!1):R,m=y=>Nl(y,!1,u),p=u.onStop=()=>{const y=_s.get(u);if(y){if(a)a(y,4);else for(const b of y)b();_s.delete(u)}},t?i?R(!0):M=u.run():l?l(R.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function ne(e,t=1/0,s){if(t<=0||!it(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,pt(e))ne(e.value,t,s);else if(W(e))for(let i=0;i<e.length;i++)ne(e[i],t,s);else if(Sn(e)||Ie(e))e.forEach(i=>{ne(i,t,s)});else if(On(e)){for(const i in e)ne(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&ne(e[i],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function is(e,t,s,i){try{return i?e(...i):e()}catch(n){Ns(n,t,s)}}function zt(e,t,s,i){if(G(e)){const n=is(e,t,s,i);return n&&xn(n)&&n.catch(o=>{Ns(o,t,s)}),n}if(W(e)){const n=[];for(let o=0;o<e.length;o++)n.push(zt(e[o],t,s,i));return n}}function Ns(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Y;if(t){let r=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const u=r.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,a,c)===!1)return}r=r.parent}if(o){he(),is(o,null,10,[e,a,c]),pe();return}}kl(e,s,n,i,l)}function kl(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const gt=[];let Vt=-1;const De=[];let se=null,Le=0;const Jn=Promise.resolve();let bs=null;function $l(e){const t=bs||Jn;return e?t.then(this?e.bind(this):e):t}function Pl(e){let t=Vt+1,s=gt.length;for(;t<s;){const i=t+s>>>1,n=gt[i],o=ts(n);o<e||o===e&&n.flags&2?t=i+1:s=i}return t}function Si(e){if(!(e.flags&1)){const t=ts(e),s=gt[gt.length-1];!s||!(e.flags&2)&&t>=ts(s)?gt.push(e):gt.splice(Pl(t),0,e),e.flags|=1,Zn()}}function Zn(){bs||(bs=Jn.then(to))}function Hl(e){W(e)?De.push(...e):se&&e.id===-1?se.splice(Le+1,0,e):e.flags&1||(De.push(e),e.flags|=1),Zn()}function Ki(e,t,s=Vt+1){for(;s<gt.length;s++){const i=gt[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;gt.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Qn(e){if(De.length){const t=[...new Set(De)].sort((s,i)=>ts(s)-ts(i));if(De.length=0,se){se.push(...t);return}for(se=t,Le=0;Le<se.length;Le++){const s=se[Le];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}se=null,Le=0}}const ts=e=>e.id==null?e.flags&2?-1:1/0:e.id;function to(e){try{for(Vt=0;Vt<gt.length;Vt++){const t=gt[Vt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),is(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Vt<gt.length;Vt++){const t=gt[Vt];t&&(t.flags&=-2)}Vt=-1,gt.length=0,Qn(),bs=null,(gt.length||De.length)&&to()}}let $t=null,eo=null;function ys(e){const t=$t;return $t=e,eo=e&&e.type.__scopeId||null,t}function Wl(e,t=$t,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&tn(-1);const o=ys(t);let l;try{l=e(...n)}finally{ys(o),i._d&&tn(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function ve(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let l=0;l<n.length;l++){const r=n[l];o&&(r.oldValue=o[l].value);let a=r.dir[i];a&&(he(),zt(a,s,8,[e.el,r,e,t]),pe())}}const Gl=Symbol("_vte"),Fl=e=>e.__isTeleport;function xi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,xi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function so(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ns(e){const t=kr(),s=Ll(null);if(t){const n=t.refs===Y?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>s.value,set:o=>s.value=o})}return s}function ws(e,t,s,i,n=!1){if(W(e)){e.forEach((g,_)=>ws(g,t&&(W(t)?t[_]:t),s,i,n));return}if(Xe(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&ws(e,t,s,i.component.subTree);return}const o=i.shapeFlag&4?Ii(i.component):i.el,l=n?null:o,{i:r,r:a}=e,c=t&&t.r,u=r.refs===Y?r.refs={}:r.refs,h=r.setupState,p=V(h),m=h===Y?()=>!1:g=>K(p,g);if(c!=null&&c!==a&&(nt(c)?(u[c]=null,m(c)&&(h[c]=null)):pt(c)&&(c.value=null)),G(a))is(a,r,12,[l,u]);else{const g=nt(a),_=pt(a);if(g||_){const L=()=>{if(e.f){const E=g?m(a)?h[a]:u[a]:a.value;n?W(E)&&hi(E,o):W(E)?E.includes(o)||E.push(o):g?(u[a]=[o],m(a)&&(h[a]=u[a])):(a.value=[o],e.k&&(u[e.k]=a.value))}else g?(u[a]=l,m(a)&&(h[a]=l)):_&&(a.value=l,e.k&&(u[e.k]=l))};l?(L.id=-1,Mt(L,s)):L()}}}Is().requestIdleCallback;Is().cancelIdleCallback;const Xe=e=>!!e.type.__asyncLoader,io=e=>e.type.__isKeepAlive;function Ul(e,t){no(e,"a",t)}function jl(e,t){no(e,"da",t)}function no(e,t,s=ht){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Rs(t,i,s),s){let n=s.parent;for(;n&&n.parent;)io(n.parent.vnode)&&Bl(i,t,s,n),n=n.parent}}function Bl(e,t,s,i){const n=Rs(t,e,i,!0);oo(()=>{hi(i[t],n)},s)}function Rs(e,t,s=ht,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...l)=>{he();const r=os(s),a=zt(t,s,e,l);return r(),pe(),a});return i?n.unshift(o):n.push(o),o}}const ee=e=>(t,s=ht)=>{(!ss||e==="sp")&&Rs(e,(...i)=>t(...i),s)},Vl=ee("bm"),Ht=ee("m"),Kl=ee("bu"),ql=ee("u"),Yt=ee("bum"),oo=ee("um"),Xl=ee("sp"),zl=ee("rtg"),Yl=ee("rtc");function Jl(e,t=ht){Rs("ec",e,t)}const Zl=Symbol.for("v-ndc");function oe(e,t,s,i){let n;const o=s,l=W(e);if(l||nt(e)){const r=l&&Ae(e);let a=!1;r&&(a=!Dt(e),e=Ds(e)),n=new Array(e.length);for(let c=0,u=e.length;c<u;c++)n[c]=t(a?ft(e[c]):e[c],c,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,o)}else if(it(e))if(e[Symbol.iterator])n=Array.from(e,(r,a)=>t(r,a,void 0,o));else{const r=Object.keys(e);n=new Array(r.length);for(let a=0,c=r.length;a<c;a++){const u=r[a];n[a]=t(e[u],u,a,o)}}else n=[];return n}const ni=e=>e?Mo(e)?Ii(e):ni(e.parent):null,ze=ct(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ni(e.parent),$root:e=>ni(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ci(e),$forceUpdate:e=>e.f||(e.f=()=>{Si(e.update)}),$nextTick:e=>e.n||(e.n=$l.bind(e.proxy)),$watch:e=>yr.bind(e)}),qs=(e,t)=>e!==Y&&!e.__isScriptSetup&&K(e,t),Ql={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:l,type:r,appContext:a}=e;let c;if(t[0]!=="$"){const m=l[t];if(m!==void 0)switch(m){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(qs(i,t))return l[t]=1,i[t];if(n!==Y&&K(n,t))return l[t]=2,n[t];if((c=e.propsOptions[0])&&K(c,t))return l[t]=3,o[t];if(s!==Y&&K(s,t))return l[t]=4,s[t];oi&&(l[t]=0)}}const u=ze[t];let h,p;if(u)return t==="$attrs"&&dt(e.attrs,"get",""),u(e);if((h=r.__cssModules)&&(h=h[t]))return h;if(s!==Y&&K(s,t))return l[t]=4,s[t];if(p=a.config.globalProperties,K(p,t))return p[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return qs(n,t)?(n[t]=s,!0):i!==Y&&K(i,t)?(i[t]=s,!0):K(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o}},l){let r;return!!s[l]||e!==Y&&K(e,l)||qs(t,l)||(r=o[0])&&K(r,l)||K(i,l)||K(ze,l)||K(n.config.globalProperties,l)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:K(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function qi(e){return W(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let oi=!0;function tr(e){const t=Ci(e),s=e.proxy,i=e.ctx;oi=!1,t.beforeCreate&&Xi(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:l,watch:r,provide:a,inject:c,created:u,beforeMount:h,mounted:p,beforeUpdate:m,updated:g,activated:_,deactivated:L,beforeDestroy:E,beforeUnmount:M,destroyed:R,unmounted:y,render:b,renderTracked:w,renderTriggered:j,errorCaptured:z,serverPrefetch:et,expose:st,inheritAttrs:xt,components:bt,directives:yt,filters:Gt}=t;if(c&&er(c,i,null),l)for(const J in l){const q=l[J];G(q)&&(i[J]=q.bind(s))}if(n){const J=n.call(s,s);it(J)&&(e.data=wi(J))}if(oi=!0,o)for(const J in o){const q=o[J],Ft=G(q)?q.bind(s,s):G(q.get)?q.get.bind(s,s):qt,ls=!G(q)&&G(q.set)?q.set.bind(s):qt,ge=Fr({get:Ft,set:ls});Object.defineProperty(i,J,{enumerable:!0,configurable:!0,get:()=>ge.value,set:Ut=>ge.value=Ut})}if(r)for(const J in r)lo(r[J],i,s,J);if(a){const J=G(a)?a.call(s):a;Reflect.ownKeys(J).forEach(q=>{rr(q,J[q])})}u&&Xi(u,e,"c");function lt(J,q){W(q)?q.forEach(Ft=>J(Ft.bind(s))):q&&J(q.bind(s))}if(lt(Vl,h),lt(Ht,p),lt(Kl,m),lt(ql,g),lt(Ul,_),lt(jl,L),lt(Jl,z),lt(Yl,w),lt(zl,j),lt(Yt,M),lt(oo,y),lt(Xl,et),W(st))if(st.length){const J=e.exposed||(e.exposed={});st.forEach(q=>{Object.defineProperty(J,q,{get:()=>s[q],set:Ft=>s[q]=Ft})})}else e.exposed||(e.exposed={});b&&e.render===qt&&(e.render=b),xt!=null&&(e.inheritAttrs=xt),bt&&(e.components=bt),yt&&(e.directives=yt),et&&so(e)}function er(e,t,s=qt){W(e)&&(e=li(e));for(const i in e){const n=e[i];let o;it(n)?"default"in n?o=Xt(n.from||i,n.default,!0):o=Xt(n.from||i):o=Xt(n),pt(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[i]=o}}function Xi(e,t,s){zt(W(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function lo(e,t,s,i){let n=i.includes(".")?wo(s,i):()=>s[i];if(nt(e)){const o=t[e];G(o)&&zs(n,o)}else if(G(e))zs(n,e.bind(s));else if(it(e))if(W(e))e.forEach(o=>lo(o,t,s,i));else{const o=G(e.handler)?e.handler.bind(s):t[e.handler];G(o)&&zs(n,o,e)}}function Ci(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,r=o.get(t);let a;return r?a=r:!n.length&&!s&&!i?a=t:(a={},n.length&&n.forEach(c=>Es(a,c,l,!0)),Es(a,t,l)),it(t)&&o.set(t,a),a}function Es(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&Es(e,o,s,!0),n&&n.forEach(l=>Es(e,l,s,!0));for(const l in t)if(!(i&&l==="expose")){const r=sr[l]||s&&s[l];e[l]=r?r(e[l],t[l]):t[l]}return e}const sr={data:zi,props:Yi,emits:Yi,methods:je,computed:je,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:je,directives:je,watch:nr,provide:zi,inject:ir};function zi(e,t){return t?e?function(){return ct(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function ir(e,t){return je(li(e),li(t))}function li(e){if(W(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function mt(e,t){return e?[...new Set([].concat(e,t))]:t}function je(e,t){return e?ct(Object.create(null),e,t):t}function Yi(e,t){return e?W(e)&&W(t)?[...new Set([...e,...t])]:ct(Object.create(null),qi(e),qi(t??{})):t}function nr(e,t){if(!e)return t;if(!t)return e;const s=ct(Object.create(null),e);for(const i in t)s[i]=mt(e[i],t[i]);return s}function ro(){return{app:null,config:{isNativeTag:Xo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let or=0;function lr(e,t){return function(i,n=null){G(i)||(i=ct({},i)),n!=null&&!it(n)&&(n=null);const o=ro(),l=new WeakSet,r=[];let a=!1;const c=o.app={_uid:or++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Ur,get config(){return o.config},set config(u){},use(u,...h){return l.has(u)||(u&&G(u.install)?(l.add(u),u.install(c,...h)):G(u)&&(l.add(u),u(c,...h))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,h){return h?(o.components[u]=h,c):o.components[u]},directive(u,h){return h?(o.directives[u]=h,c):o.directives[u]},mount(u,h,p){if(!a){const m=c._ceVNode||St(i,n);return m.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),h&&t?t(m,u):e(m,u,p),a=!0,c._container=u,u.__vue_app__=c,Ii(m.component)}},onUnmount(u){r.push(u)},unmount(){a&&(zt(r,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return o.provides[u]=h,c},runWithContext(u){const h=Ne;Ne=c;try{return u()}finally{Ne=h}}};return c}}let Ne=null;function rr(e,t){if(ht){let s=ht.provides;const i=ht.parent&&ht.parent.provides;i===s&&(s=ht.provides=Object.create(i)),s[e]=t}}function Xt(e,t,s=!1){const i=ht||$t;if(i||Ne){const n=Ne?Ne._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&G(t)?t.call(i&&i.proxy):t}}const ao={},co=()=>Object.create(ao),uo=e=>Object.getPrototypeOf(e)===ao;function ar(e,t,s,i=!1){const n={},o=co();e.propsDefaults=Object.create(null),fo(e,t,n,o);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=i?n:Cl(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function cr(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:l}}=e,r=V(n),[a]=e.propsOptions;let c=!1;if((i||l>0)&&!(l&16)){if(l&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let p=u[h];if(ks(e.emitsOptions,p))continue;const m=t[p];if(a)if(K(o,p))m!==o[p]&&(o[p]=m,c=!0);else{const g=ue(p);n[g]=ri(a,r,g,m,e,!1)}else m!==o[p]&&(o[p]=m,c=!0)}}}else{fo(e,t,n,o)&&(c=!0);let u;for(const h in r)(!t||!K(t,h)&&((u=xe(h))===h||!K(t,u)))&&(a?s&&(s[h]!==void 0||s[u]!==void 0)&&(n[h]=ri(a,r,h,void 0,e,!0)):delete n[h]);if(o!==r)for(const h in o)(!t||!K(t,h))&&(delete o[h],c=!0)}c&&Qt(e.attrs,"set","")}function fo(e,t,s,i){const[n,o]=e.propsOptions;let l=!1,r;if(t)for(let a in t){if(Ve(a))continue;const c=t[a];let u;n&&K(n,u=ue(a))?!o||!o.includes(u)?s[u]=c:(r||(r={}))[u]=c:ks(e.emitsOptions,a)||(!(a in i)||c!==i[a])&&(i[a]=c,l=!0)}if(o){const a=V(s),c=r||Y;for(let u=0;u<o.length;u++){const h=o[u];s[h]=ri(n,a,h,c[h],e,!K(c,h))}}return l}function ri(e,t,s,i,n,o){const l=e[s];if(l!=null){const r=K(l,"default");if(r&&i===void 0){const a=l.default;if(l.type!==Function&&!l.skipFactory&&G(a)){const{propsDefaults:c}=n;if(s in c)i=c[s];else{const u=os(n);i=c[s]=a.call(null,t),u()}}else i=a;n.ce&&n.ce._setProp(s,i)}l[0]&&(o&&!r?i=!1:l[1]&&(i===""||i===xe(s))&&(i=!0))}return i}const ur=new WeakMap;function ho(e,t,s=!1){const i=s?ur:t.propsCache,n=i.get(e);if(n)return n;const o=e.props,l={},r=[];let a=!1;if(!G(e)){const u=h=>{a=!0;const[p,m]=ho(h,t,!0);ct(l,p),m&&r.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!a)return it(e)&&i.set(e,Me),Me;if(W(o))for(let u=0;u<o.length;u++){const h=ue(o[u]);Ji(h)&&(l[h]=Y)}else if(o)for(const u in o){const h=ue(u);if(Ji(h)){const p=o[u],m=l[h]=W(p)||G(p)?{type:p}:ct({},p),g=m.type;let _=!1,L=!0;if(W(g))for(let E=0;E<g.length;++E){const M=g[E],R=G(M)&&M.name;if(R==="Boolean"){_=!0;break}else R==="String"&&(L=!1)}else _=G(g)&&g.name==="Boolean";m[0]=_,m[1]=L,(_||K(m,"default"))&&r.push(h)}}const c=[l,r];return it(e)&&i.set(e,c),c}function Ji(e){return e[0]!=="$"&&!Ve(e)}const po=e=>e[0]==="_"||e==="$stable",Oi=e=>W(e)?e.map(Kt):[Kt(e)],dr=(e,t,s)=>{if(t._n)return t;const i=Wl((...n)=>Oi(t(...n)),s);return i._c=!1,i},mo=(e,t,s)=>{const i=e._ctx;for(const n in e){if(po(n))continue;const o=e[n];if(G(o))t[n]=dr(n,o,i);else if(o!=null){const l=Oi(o);t[n]=()=>l}}},go=(e,t)=>{const s=Oi(t);e.slots.default=()=>s},vo=(e,t,s)=>{for(const i in t)(s||i!=="_")&&(e[i]=t[i])},fr=(e,t,s)=>{const i=e.slots=co();if(e.vnode.shapeFlag&32){const n=t._;n?(vo(i,t,s),s&&Mn(i,"_",n,!0)):mo(t,i)}else t&&go(e,t)},hr=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,l=Y;if(i.shapeFlag&32){const r=t._;r?s&&r===1?o=!1:vo(n,t,s):(o=!t.$stable,mo(t,n)),l=t}else t&&(go(e,t),l={default:1});if(o)for(const r in n)!po(r)&&l[r]==null&&delete n[r]},Mt=Or;function pr(e){return mr(e)}function mr(e,t){const s=Is();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:l,createText:r,createComment:a,setText:c,setElementText:u,parentNode:h,nextSibling:p,setScopeId:m=qt,insertStaticContent:g}=e,_=(d,f,v,C=null,T=null,x=null,D=void 0,A=null,I=!!f.dynamicChildren)=>{if(d===f)return;d&&!Fe(d,f)&&(C=rs(d),Ut(d,T,x,!0),d=null),f.patchFlag===-2&&(I=!1,f.dynamicChildren=null);const{type:O,ref:P,shapeFlag:N}=f;switch(O){case $s:L(d,f,v,C);break;case Se:E(d,f,v,C);break;case hs:d==null&&M(f,v,C,D);break;case ot:bt(d,f,v,C,T,x,D,A,I);break;default:N&1?b(d,f,v,C,T,x,D,A,I):N&6?yt(d,f,v,C,T,x,D,A,I):(N&64||N&128)&&O.process(d,f,v,C,T,x,D,A,I,He)}P!=null&&T&&ws(P,d&&d.ref,x,f||d,!f)},L=(d,f,v,C)=>{if(d==null)i(f.el=r(f.children),v,C);else{const T=f.el=d.el;f.children!==d.children&&c(T,f.children)}},E=(d,f,v,C)=>{d==null?i(f.el=a(f.children||""),v,C):f.el=d.el},M=(d,f,v,C)=>{[d.el,d.anchor]=g(d.children,f,v,C,d.el,d.anchor)},R=({el:d,anchor:f},v,C)=>{let T;for(;d&&d!==f;)T=p(d),i(d,v,C),d=T;i(f,v,C)},y=({el:d,anchor:f})=>{let v;for(;d&&d!==f;)v=p(d),n(d),d=v;n(f)},b=(d,f,v,C,T,x,D,A,I)=>{f.type==="svg"?D="svg":f.type==="math"&&(D="mathml"),d==null?w(f,v,C,T,x,D,A,I):et(d,f,T,x,D,A,I)},w=(d,f,v,C,T,x,D,A)=>{let I,O;const{props:P,shapeFlag:N,transition:k,dirs:H}=d;if(I=d.el=l(d.type,x,P&&P.is,P),N&8?u(I,d.children):N&16&&z(d.children,I,null,C,T,Xs(d,x),D,A),H&&ve(d,null,C,"created"),j(I,d,d.scopeId,D,C),P){for(const Z in P)Z!=="value"&&!Ve(Z)&&o(I,Z,null,P[Z],x,C);"value"in P&&o(I,"value",null,P.value,x),(O=P.onVnodeBeforeMount)&&Bt(O,C,d)}H&&ve(d,null,C,"beforeMount");const F=gr(T,k);F&&k.beforeEnter(I),i(I,f,v),((O=P&&P.onVnodeMounted)||F||H)&&Mt(()=>{O&&Bt(O,C,d),F&&k.enter(I),H&&ve(d,null,C,"mounted")},T)},j=(d,f,v,C,T)=>{if(v&&m(d,v),C)for(let x=0;x<C.length;x++)m(d,C[x]);if(T){let x=T.subTree;if(f===x||To(x.type)&&(x.ssContent===f||x.ssFallback===f)){const D=T.vnode;j(d,D,D.scopeId,D.slotScopeIds,T.parent)}}},z=(d,f,v,C,T,x,D,A,I=0)=>{for(let O=I;O<d.length;O++){const P=d[O]=A?ie(d[O]):Kt(d[O]);_(null,P,f,v,C,T,x,D,A)}},et=(d,f,v,C,T,x,D)=>{const A=f.el=d.el;let{patchFlag:I,dynamicChildren:O,dirs:P}=f;I|=d.patchFlag&16;const N=d.props||Y,k=f.props||Y;let H;if(v&&_e(v,!1),(H=k.onVnodeBeforeUpdate)&&Bt(H,v,f,d),P&&ve(f,d,v,"beforeUpdate"),v&&_e(v,!0),(N.innerHTML&&k.innerHTML==null||N.textContent&&k.textContent==null)&&u(A,""),O?st(d.dynamicChildren,O,A,v,C,Xs(f,T),x):D||q(d,f,A,null,v,C,Xs(f,T),x,!1),I>0){if(I&16)xt(A,N,k,v,T);else if(I&2&&N.class!==k.class&&o(A,"class",null,k.class,T),I&4&&o(A,"style",N.style,k.style,T),I&8){const F=f.dynamicProps;for(let Z=0;Z<F.length;Z++){const X=F[Z],Ct=N[X],ut=k[X];(ut!==Ct||X==="value")&&o(A,X,Ct,ut,T,v)}}I&1&&d.children!==f.children&&u(A,f.children)}else!D&&O==null&&xt(A,N,k,v,T);((H=k.onVnodeUpdated)||P)&&Mt(()=>{H&&Bt(H,v,f,d),P&&ve(f,d,v,"updated")},C)},st=(d,f,v,C,T,x,D)=>{for(let A=0;A<f.length;A++){const I=d[A],O=f[A],P=I.el&&(I.type===ot||!Fe(I,O)||I.shapeFlag&70)?h(I.el):v;_(I,O,P,null,C,T,x,D,!0)}},xt=(d,f,v,C,T)=>{if(f!==v){if(f!==Y)for(const x in f)!Ve(x)&&!(x in v)&&o(d,x,f[x],null,T,C);for(const x in v){if(Ve(x))continue;const D=v[x],A=f[x];D!==A&&x!=="value"&&o(d,x,A,D,T,C)}"value"in v&&o(d,"value",f.value,v.value,T)}},bt=(d,f,v,C,T,x,D,A,I)=>{const O=f.el=d?d.el:r(""),P=f.anchor=d?d.anchor:r("");let{patchFlag:N,dynamicChildren:k,slotScopeIds:H}=f;H&&(A=A?A.concat(H):H),d==null?(i(O,v,C),i(P,v,C),z(f.children||[],v,P,T,x,D,A,I)):N>0&&N&64&&k&&d.dynamicChildren?(st(d.dynamicChildren,k,v,T,x,D,A),(f.key!=null||T&&f===T.subTree)&&_o(d,f,!0)):q(d,f,v,P,T,x,D,A,I)},yt=(d,f,v,C,T,x,D,A,I)=>{f.slotScopeIds=A,d==null?f.shapeFlag&512?T.ctx.activate(f,v,C,D,I):Gt(f,v,C,T,x,D,I):$e(d,f,I)},Gt=(d,f,v,C,T,x,D)=>{const A=d.component=Rr(d,C,T);if(io(d)&&(A.ctx.renderer=He),$r(A,!1,D),A.asyncDep){if(T&&T.registerDep(A,lt,D),!d.el){const I=A.subTree=St(Se);E(null,I,f,v)}}else lt(A,d,f,v,T,x,D)},$e=(d,f,v)=>{const C=f.component=d.component;if(xr(d,f,v))if(C.asyncDep&&!C.asyncResolved){J(C,f,v);return}else C.next=f,C.update();else f.el=d.el,C.vnode=f},lt=(d,f,v,C,T,x,D)=>{const A=()=>{if(d.isMounted){let{next:N,bu:k,u:H,parent:F,vnode:Z}=d;{const Ot=bo(d);if(Ot){N&&(N.el=Z.el,J(d,N,D)),Ot.asyncDep.then(()=>{d.isUnmounted||A()});return}}let X=N,Ct;_e(d,!1),N?(N.el=Z.el,J(d,N,D)):N=Z,k&&Us(k),(Ct=N.props&&N.props.onVnodeBeforeUpdate)&&Bt(Ct,F,N,Z),_e(d,!0);const ut=Ys(d),Rt=d.subTree;d.subTree=ut,_(Rt,ut,h(Rt.el),rs(Rt),d,T,x),N.el=ut.el,X===null&&Cr(d,ut.el),H&&Mt(H,T),(Ct=N.props&&N.props.onVnodeUpdated)&&Mt(()=>Bt(Ct,F,N,Z),T)}else{let N;const{el:k,props:H}=f,{bm:F,m:Z,parent:X,root:Ct,type:ut}=d,Rt=Xe(f);if(_e(d,!1),F&&Us(F),!Rt&&(N=H&&H.onVnodeBeforeMount)&&Bt(N,X,f),_e(d,!0),k&&Gi){const Ot=()=>{d.subTree=Ys(d),Gi(k,d.subTree,d,T,null)};Rt&&ut.__asyncHydrate?ut.__asyncHydrate(k,d,Ot):Ot()}else{Ct.ce&&Ct.ce._injectChildStyle(ut);const Ot=d.subTree=Ys(d);_(null,Ot,v,C,d,T,x),f.el=Ot.el}if(Z&&Mt(Z,T),!Rt&&(N=H&&H.onVnodeMounted)){const Ot=f;Mt(()=>Bt(N,X,Ot),T)}(f.shapeFlag&256||X&&Xe(X.vnode)&&X.vnode.shapeFlag&256)&&d.a&&Mt(d.a,T),d.isMounted=!0,f=v=C=null}};d.scope.on();const I=d.effect=new Nn(A);d.scope.off();const O=d.update=I.run.bind(I),P=d.job=I.runIfDirty.bind(I);P.i=d,P.id=d.uid,I.scheduler=()=>Si(P),_e(d,!0),O()},J=(d,f,v)=>{f.component=d;const C=d.vnode.props;d.vnode=f,d.next=null,cr(d,f.props,C,v),hr(d,f.children,v),he(),Ki(d),pe()},q=(d,f,v,C,T,x,D,A,I=!1)=>{const O=d&&d.children,P=d?d.shapeFlag:0,N=f.children,{patchFlag:k,shapeFlag:H}=f;if(k>0){if(k&128){ls(O,N,v,C,T,x,D,A,I);return}else if(k&256){Ft(O,N,v,C,T,x,D,A,I);return}}H&8?(P&16&&Pe(O,T,x),N!==O&&u(v,N)):P&16?H&16?ls(O,N,v,C,T,x,D,A,I):Pe(O,T,x,!0):(P&8&&u(v,""),H&16&&z(N,v,C,T,x,D,A,I))},Ft=(d,f,v,C,T,x,D,A,I)=>{d=d||Me,f=f||Me;const O=d.length,P=f.length,N=Math.min(O,P);let k;for(k=0;k<N;k++){const H=f[k]=I?ie(f[k]):Kt(f[k]);_(d[k],H,v,null,T,x,D,A,I)}O>P?Pe(d,T,x,!0,!1,N):z(f,v,C,T,x,D,A,I,N)},ls=(d,f,v,C,T,x,D,A,I)=>{let O=0;const P=f.length;let N=d.length-1,k=P-1;for(;O<=N&&O<=k;){const H=d[O],F=f[O]=I?ie(f[O]):Kt(f[O]);if(Fe(H,F))_(H,F,v,null,T,x,D,A,I);else break;O++}for(;O<=N&&O<=k;){const H=d[N],F=f[k]=I?ie(f[k]):Kt(f[k]);if(Fe(H,F))_(H,F,v,null,T,x,D,A,I);else break;N--,k--}if(O>N){if(O<=k){const H=k+1,F=H<P?f[H].el:C;for(;O<=k;)_(null,f[O]=I?ie(f[O]):Kt(f[O]),v,F,T,x,D,A,I),O++}}else if(O>k)for(;O<=N;)Ut(d[O],T,x,!0),O++;else{const H=O,F=O,Z=new Map;for(O=F;O<=k;O++){const Lt=f[O]=I?ie(f[O]):Kt(f[O]);Lt.key!=null&&Z.set(Lt.key,O)}let X,Ct=0;const ut=k-F+1;let Rt=!1,Ot=0;const We=new Array(ut);for(O=0;O<ut;O++)We[O]=0;for(O=H;O<=N;O++){const Lt=d[O];if(Ct>=ut){Ut(Lt,T,x,!0);continue}let jt;if(Lt.key!=null)jt=Z.get(Lt.key);else for(X=F;X<=k;X++)if(We[X-F]===0&&Fe(Lt,f[X])){jt=X;break}jt===void 0?Ut(Lt,T,x,!0):(We[jt-F]=O+1,jt>=Ot?Ot=jt:Rt=!0,_(Lt,f[jt],v,null,T,x,D,A,I),Ct++)}const Fi=Rt?vr(We):Me;for(X=Fi.length-1,O=ut-1;O>=0;O--){const Lt=F+O,jt=f[Lt],Ui=Lt+1<P?f[Lt+1].el:C;We[O]===0?_(null,jt,v,Ui,T,x,D,A,I):Rt&&(X<0||O!==Fi[X]?ge(jt,v,Ui,2):X--)}}},ge=(d,f,v,C,T=null)=>{const{el:x,type:D,transition:A,children:I,shapeFlag:O}=d;if(O&6){ge(d.component.subTree,f,v,C);return}if(O&128){d.suspense.move(f,v,C);return}if(O&64){D.move(d,f,v,He);return}if(D===ot){i(x,f,v);for(let N=0;N<I.length;N++)ge(I[N],f,v,C);i(d.anchor,f,v);return}if(D===hs){R(d,f,v);return}if(C!==2&&O&1&&A)if(C===0)A.beforeEnter(x),i(x,f,v),Mt(()=>A.enter(x),T);else{const{leave:N,delayLeave:k,afterLeave:H}=A,F=()=>i(x,f,v),Z=()=>{N(x,()=>{F(),H&&H()})};k?k(x,F,Z):Z()}else i(x,f,v)},Ut=(d,f,v,C=!1,T=!1)=>{const{type:x,props:D,ref:A,children:I,dynamicChildren:O,shapeFlag:P,patchFlag:N,dirs:k,cacheIndex:H}=d;if(N===-2&&(T=!1),A!=null&&ws(A,null,v,d,!0),H!=null&&(f.renderCache[H]=void 0),P&256){f.ctx.deactivate(d);return}const F=P&1&&k,Z=!Xe(d);let X;if(Z&&(X=D&&D.onVnodeBeforeUnmount)&&Bt(X,f,d),P&6)Bo(d.component,v,C);else{if(P&128){d.suspense.unmount(v,C);return}F&&ve(d,null,f,"beforeUnmount"),P&64?d.type.remove(d,f,v,He,C):O&&!O.hasOnce&&(x!==ot||N>0&&N&64)?Pe(O,f,v,!1,!0):(x===ot&&N&384||!T&&P&16)&&Pe(I,f,v),C&&Pi(d)}(Z&&(X=D&&D.onVnodeUnmounted)||F)&&Mt(()=>{X&&Bt(X,f,d),F&&ve(d,null,f,"unmounted")},v)},Pi=d=>{const{type:f,el:v,anchor:C,transition:T}=d;if(f===ot){jo(v,C);return}if(f===hs){y(d);return}const x=()=>{n(v),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(d.shapeFlag&1&&T&&!T.persisted){const{leave:D,delayLeave:A}=T,I=()=>D(v,x);A?A(d.el,x,I):I()}else x()},jo=(d,f)=>{let v;for(;d!==f;)v=p(d),n(d),d=v;n(f)},Bo=(d,f,v)=>{const{bum:C,scope:T,job:x,subTree:D,um:A,m:I,a:O}=d;Zi(I),Zi(O),C&&Us(C),T.stop(),x&&(x.flags|=8,Ut(D,d,f,v)),A&&Mt(A,f),Mt(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Pe=(d,f,v,C=!1,T=!1,x=0)=>{for(let D=x;D<d.length;D++)Ut(d[D],f,v,C,T)},rs=d=>{if(d.shapeFlag&6)return rs(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const f=p(d.anchor||d.el),v=f&&f[Gl];return v?p(v):f};let Gs=!1;const Hi=(d,f,v)=>{d==null?f._vnode&&Ut(f._vnode,null,null,!0):_(f._vnode||null,d,f,null,null,null,v),f._vnode=d,Gs||(Gs=!0,Ki(),Qn(),Gs=!1)},He={p:_,um:Ut,m:ge,r:Pi,mt:Gt,mc:z,pc:q,pbc:st,n:rs,o:e};let Wi,Gi;return{render:Hi,hydrate:Wi,createApp:lr(Hi,Wi)}}function Xs({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function _e({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function gr(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _o(e,t,s=!1){const i=e.children,n=t.children;if(W(i)&&W(n))for(let o=0;o<i.length;o++){const l=i[o];let r=n[o];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=n[o]=ie(n[o]),r.el=l.el),!s&&r.patchFlag!==-2&&_o(l,r)),r.type===$s&&(r.el=l.el)}}function vr(e){const t=e.slice(),s=[0];let i,n,o,l,r;const a=e.length;for(i=0;i<a;i++){const c=e[i];if(c!==0){if(n=s[s.length-1],e[n]<c){t[i]=n,s.push(i);continue}for(o=0,l=s.length-1;o<l;)r=o+l>>1,e[s[r]]<c?o=r+1:l=r;c<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,l=s[o-1];o-- >0;)s[o]=l,l=t[l];return s}function bo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:bo(t)}function Zi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _r=Symbol.for("v-scx"),br=()=>Xt(_r);function zs(e,t,s){return yo(e,t,s)}function yo(e,t,s=Y){const{immediate:i,deep:n,flush:o,once:l}=s,r=ct({},s),a=t&&i||!t&&o!=="post";let c;if(ss){if(o==="sync"){const m=br();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!a){const m=()=>{};return m.stop=qt,m.resume=qt,m.pause=qt,m}}const u=ht;r.call=(m,g,_)=>zt(m,u,g,_);let h=!1;o==="post"?r.scheduler=m=>{Mt(m,u&&u.suspense)}:o!=="sync"&&(h=!0,r.scheduler=(m,g)=>{g?m():Si(m)}),r.augmentJob=m=>{t&&(m.flags|=4),h&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const p=Rl(e,t,r);return ss&&(c?c.push(p):a&&p()),p}function yr(e,t,s){const i=this.proxy,n=nt(e)?e.includes(".")?wo(i,e):()=>i[e]:e.bind(i,i);let o;G(t)?o=t:(o=t.handler,s=t);const l=os(this),r=yo(n,o.bind(i),s);return l(),r}function wo(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const wr=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ue(t)}Modifiers`]||e[`${xe(t)}Modifiers`];function Er(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||Y;let n=s;const o=t.startsWith("update:"),l=o&&wr(i,t.slice(7));l&&(l.trim&&(n=s.map(u=>nt(u)?u.trim():u)),l.number&&(n=s.map(Qo)));let r,a=i[r=Fs(t)]||i[r=Fs(ue(t))];!a&&o&&(a=i[r=Fs(xe(t))]),a&&zt(a,e,6,n);const c=i[r+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,zt(c,e,6,n)}}function Eo(e,t,s=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let l={},r=!1;if(!G(e)){const a=c=>{const u=Eo(c,t,!0);u&&(r=!0,ct(l,u))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!r?(it(e)&&i.set(e,null),null):(W(o)?o.forEach(a=>l[a]=null):ct(l,o),it(e)&&i.set(e,l),l)}function ks(e,t){return!e||!Os(t)?!1:(t=t.slice(2).replace(/Once$/,""),K(e,t[0].toLowerCase()+t.slice(1))||K(e,xe(t))||K(e,t))}function Ys(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:l,attrs:r,emit:a,render:c,renderCache:u,props:h,data:p,setupState:m,ctx:g,inheritAttrs:_}=e,L=ys(e);let E,M;try{if(s.shapeFlag&4){const y=n||i,b=y;E=Kt(c.call(b,y,u,h,m,p,g)),M=r}else{const y=t;E=Kt(y.length>1?y(h,{attrs:r,slots:l,emit:a}):y(h,null)),M=t.props?r:Tr(r)}}catch(y){Ye.length=0,Ns(y,e,1),E=St(Se)}let R=E;if(M&&_!==!1){const y=Object.keys(M),{shapeFlag:b}=R;y.length&&b&7&&(o&&y.some(fi)&&(M=Sr(M,o)),R=ke(R,M,!1,!0))}return s.dirs&&(R=ke(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(s.dirs):s.dirs),s.transition&&xi(R,s.transition),E=R,ys(L),E}const Tr=e=>{let t;for(const s in e)(s==="class"||s==="style"||Os(s))&&((t||(t={}))[s]=e[s]);return t},Sr=(e,t)=>{const s={};for(const i in e)(!fi(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function xr(e,t,s){const{props:i,children:n,component:o}=e,{props:l,children:r,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return i?Qi(i,l,c):!!l;if(a&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const p=u[h];if(l[p]!==i[p]&&!ks(c,p))return!0}}}else return(n||r)&&(!r||!r.$stable)?!0:i===l?!1:i?l?Qi(i,l,c):!0:!!l;return!1}function Qi(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!ks(s,o))return!0}return!1}function Cr({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const To=e=>e.__isSuspense;function Or(e,t){t&&t.pendingBranch?W(e)?t.effects.push(...e):t.effects.push(e):Hl(e)}const ot=Symbol.for("v-fgt"),$s=Symbol.for("v-txt"),Se=Symbol.for("v-cmt"),hs=Symbol.for("v-stc"),Ye=[];let At=null;function U(e=!1){Ye.push(At=e?null:[])}function Lr(){Ye.pop(),At=Ye[Ye.length-1]||null}let es=1;function tn(e,t=!1){es+=e,e<0&&At&&t&&(At.hasOnce=!0)}function So(e){return e.dynamicChildren=es>0?At||Me:null,Lr(),es>0&&At&&At.push(e),e}function B(e,t,s,i,n,o){return So(S(e,t,s,i,n,o,!0))}function xo(e,t,s,i,n){return So(St(e,t,s,i,n,!0))}function Co(e){return e?e.__v_isVNode===!0:!1}function Fe(e,t){return e.type===t.type&&e.key===t.key}const Oo=({key:e})=>e??null,ps=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?nt(e)||pt(e)||G(e)?{i:$t,r:e,k:t,f:!!s}:e:null);function S(e,t=null,s=null,i=0,n=null,o=e===ot?0:1,l=!1,r=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Oo(t),ref:t&&ps(t),scopeId:eo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:$t};return r?(Mi(a,s),o&128&&e.normalize(a)):s&&(a.shapeFlag|=nt(s)?8:16),es>0&&!l&&At&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&At.push(a),a}const St=Mr;function Mr(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Zl)&&(e=Se),Co(e)){const r=ke(e,t,!0);return s&&Mi(r,s),es>0&&!o&&At&&(r.shapeFlag&6?At[At.indexOf(e)]=r:At.push(r)),r.patchFlag=-2,r}if(Gr(e)&&(e=e.__vccOpts),t){t=Ir(t);let{class:r,style:a}=t;r&&!nt(r)&&(t.class=As(r)),it(a)&&(Ti(a)&&!W(a)&&(a=ct({},a)),t.style=mi(a))}const l=nt(e)?1:To(e)?128:Fl(e)?64:it(e)?4:G(e)?2:0;return S(e,t,s,i,n,l,o,!0)}function Ir(e){return e?Ti(e)||uo(e)?ct({},e):e:null}function ke(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:l,children:r,transition:a}=e,c=t?Ar(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Oo(c),ref:t&&t.ref?s&&o?W(o)?o.concat(ps(t)):[o,ps(t)]:ps(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ot?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ke(e.ssContent),ssFallback:e.ssFallback&&ke(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&i&&xi(u,a.clone(u)),u}function Li(e=" ",t=0){return St($s,null,e,t)}function Ts(e,t){const s=St(hs,null,e);return s.staticCount=t,s}function Lo(e="",t=!1){return t?(U(),xo(Se,null,e)):St(Se,null,e)}function Kt(e){return e==null||typeof e=="boolean"?St(Se):W(e)?St(ot,null,e.slice()):Co(e)?ie(e):St($s,null,String(e))}function ie(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ke(e)}function Mi(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(W(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Mi(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!uo(t)?t._ctx=$t:n===3&&$t&&($t.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:$t},s=32):(t=String(t),i&64?(s=16,t=[Li(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ar(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=As([t.class,i.class]));else if(n==="style")t.style=mi([t.style,i.style]);else if(Os(n)){const o=t[n],l=i[n];l&&o!==l&&!(W(o)&&o.includes(l))&&(t[n]=o?[].concat(o,l):l)}else n!==""&&(t[n]=i[n])}return t}function Bt(e,t,s,i=null){zt(e,t,7,[s,i])}const Dr=ro();let Nr=0;function Rr(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||Dr,o={uid:Nr++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ll(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ho(i,n),emitsOptions:Eo(i,n),emit:null,emitted:null,propsDefaults:Y,inheritAttrs:i.inheritAttrs,ctx:Y,data:Y,props:Y,attrs:Y,slots:Y,refs:Y,setupState:Y,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Er.bind(null,o),e.ce&&e.ce(o),o}let ht=null;const kr=()=>ht||$t;let Ss,ai;{const e=Is(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(l=>l(o)):n[0](o)}};Ss=t("__VUE_INSTANCE_SETTERS__",s=>ht=s),ai=t("__VUE_SSR_SETTERS__",s=>ss=s)}const os=e=>{const t=ht;return Ss(e),e.scope.on(),()=>{e.scope.off(),Ss(t)}},en=()=>{ht&&ht.scope.off(),Ss(null)};function Mo(e){return e.vnode.shapeFlag&4}let ss=!1;function $r(e,t=!1,s=!1){t&&ai(t);const{props:i,children:n}=e.vnode,o=Mo(e);ar(e,i,o,t),fr(e,n,s);const l=o?Pr(e,t):void 0;return t&&ai(!1),l}function Pr(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ql);const{setup:i}=s;if(i){he();const n=e.setupContext=i.length>1?Wr(e):null,o=os(e),l=is(i,e,0,[e.props,n]),r=xn(l);if(pe(),o(),(r||e.sp)&&!Xe(e)&&so(e),r){if(l.then(en,en),t)return l.then(a=>{sn(e,a,t)}).catch(a=>{Ns(a,e,0)});e.asyncDep=l}else sn(e,l,t)}else Io(e,t)}function sn(e,t,s){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:it(t)&&(e.setupState=Yn(t)),Io(e,s)}let nn;function Io(e,t,s){const i=e.type;if(!e.render){if(!t&&nn&&!i.render){const n=i.template||Ci(e).template;if(n){const{isCustomElement:o,compilerOptions:l}=e.appContext.config,{delimiters:r,compilerOptions:a}=i,c=ct(ct({isCustomElement:o,delimiters:r},l),a);i.render=nn(n,c)}}e.render=i.render||qt}{const n=os(e);he();try{tr(e)}finally{pe(),n()}}}const Hr={get(e,t){return dt(e,"get",""),e[t]}};function Wr(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Hr),slots:e.slots,emit:e.emit,expose:t}}function Ii(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Yn(Ol(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ze)return ze[s](e)},has(t,s){return s in t||s in ze}})):e.proxy}function Gr(e){return G(e)&&"__vccOpts"in e}const Fr=(e,t)=>Dl(e,t,ss),Ur="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ci;const on=typeof window<"u"&&window.trustedTypes;if(on)try{ci=on.createPolicy("vue",{createHTML:e=>e})}catch{}const Ao=ci?e=>ci.createHTML(e):e=>e,jr="http://www.w3.org/2000/svg",Br="http://www.w3.org/1998/Math/MathML",Zt=typeof document<"u"?document:null,ln=Zt&&Zt.createElement("template"),Vr={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Zt.createElementNS(jr,e):t==="mathml"?Zt.createElementNS(Br,e):s?Zt.createElement(e,{is:s}):Zt.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Zt.createTextNode(e),createComment:e=>Zt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const l=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{ln.innerHTML=Ao(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const r=ln.content;if(i==="svg"||i==="mathml"){const a=r.firstChild;for(;a.firstChild;)r.appendChild(a.firstChild);r.removeChild(a)}t.insertBefore(r,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Kr=Symbol("_vtc");function qr(e,t,s){const i=e[Kr];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const rn=Symbol("_vod"),Xr=Symbol("_vsh"),zr=Symbol(""),Yr=/(^|;)\s*display\s*:/;function Jr(e,t,s){const i=e.style,n=nt(s);let o=!1;if(s&&!n){if(t)if(nt(t))for(const l of t.split(";")){const r=l.slice(0,l.indexOf(":")).trim();s[r]==null&&ms(i,r,"")}else for(const l in t)s[l]==null&&ms(i,l,"");for(const l in s)l==="display"&&(o=!0),ms(i,l,s[l])}else if(n){if(t!==s){const l=i[zr];l&&(s+=";"+l),i.cssText=s,o=Yr.test(s)}}else t&&e.removeAttribute("style");rn in e&&(e[rn]=o?i.display:"",e[Xr]&&(i.display="none"))}const an=/\s*!important$/;function ms(e,t,s){if(W(s))s.forEach(i=>ms(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=Zr(e,t);an.test(s)?e.setProperty(xe(i),s.replace(an,""),"important"):e[i]=s}}const cn=["Webkit","Moz","ms"],Js={};function Zr(e,t){const s=Js[t];if(s)return s;let i=ue(t);if(i!=="filter"&&i in e)return Js[t]=i;i=Ln(i);for(let n=0;n<cn.length;n++){const o=cn[n]+i;if(o in e)return Js[t]=o}return t}const un="http://www.w3.org/1999/xlink";function dn(e,t,s,i,n,o=ol(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(un,t.slice(6,t.length)):e.setAttributeNS(un,t,s):s==null||o&&!In(s)?e.removeAttribute(t):e.setAttribute(t,o?"":fe(s)?String(s):s)}function fn(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Ao(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const r=o==="OPTION"?e.getAttribute("value")||"":e.value,a=s==null?e.type==="checkbox"?"on":"":String(s);(r!==a||!("_value"in e))&&(e.value=a),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=In(s):s==null&&r==="string"?(s="",l=!0):r==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(n||t)}function Qr(e,t,s,i){e.addEventListener(t,s,i)}function ta(e,t,s,i){e.removeEventListener(t,s,i)}const hn=Symbol("_vei");function ea(e,t,s,i,n=null){const o=e[hn]||(e[hn]={}),l=o[t];if(i&&l)l.value=i;else{const[r,a]=sa(t);if(i){const c=o[t]=oa(i,n);Qr(e,r,c,a)}else l&&(ta(e,r,l,a),o[t]=void 0)}}const pn=/(?:Once|Passive|Capture)$/;function sa(e){let t;if(pn.test(e)){t={};let i;for(;i=e.match(pn);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):xe(e.slice(2)),t]}let Zs=0;const ia=Promise.resolve(),na=()=>Zs||(ia.then(()=>Zs=0),Zs=Date.now());function oa(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;zt(la(i,s.value),t,5,[i])};return s.value=e,s.attached=na(),s}function la(e,t){if(W(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const mn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ra=(e,t,s,i,n,o)=>{const l=n==="svg";t==="class"?qr(e,i,l):t==="style"?Jr(e,s,i):Os(t)?fi(t)||ea(e,t,s,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):aa(e,t,i,l))?(fn(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&dn(e,t,i,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!nt(i))?fn(e,ue(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),dn(e,t,i,l))};function aa(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&mn(t)&&G(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return mn(t)&&nt(s)?!1:t in e}const ca=["ctrl","shift","alt","meta"],ua={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ca.some(s=>e[`${s}Key`]&&!t.includes(s))},gn=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...o)=>{for(let l=0;l<t.length;l++){const r=ua[t[l]];if(r&&r(n,t))return}return e(n,...o)})},da=ct({patchProp:ra},Vr);let vn;function fa(){return vn||(vn=pr(da))}const ui=(...e)=>{const t=fa().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=pa(i);if(!n)return;const o=t._component;!G(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,ha(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function ha(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pa(e){return nt(e)?document.querySelector(e):e}class ma{constructor(){this.events={}}subscribe(t,s){this.events[t]||(this.events[t]=[]),this.events[t].push(s)}publish(t,s){!this.events[t]||this.events[t].length<1||this.events[t].forEach(i=>i(s))}unsubscribe(t,s){this.events[t]&&(this.events[t]=this.events[t].filter(i=>i!==s))}once(t,s,i){let n=o=>{i&&!i(o)||(s(o),this.unsubscribe(t,n))};this.subscribe(t,n)}onceMulti(t,s,i){let n=o=>{i&&!i(o)||(s(o),t.forEach(l=>this.unsubscribe(l,n)))};t.forEach(o=>this.subscribe(o,n))}async wait(t,s){return new Promise((i,n)=>{this.once(t,i,s)})}}const at=e=>new Promise(t=>setTimeout(t,e)),Ai=e=>{Ht(()=>{console.log("onMounted"),window.addEventListener("popstate",e,!1)}),Yt(()=>{console.log("onBeforeUnmount"),window.removeEventListener("popstate",e,!1)})},ga=async e=>{e.mount("#app"),setTimeout(()=>{_a()},250)},va=async e=>{let t=new Promise(s=>{e.onUnmount(s)});e.unmount(),await t},Do=250;let ds=null,xs=$("#app")[0],No=null;xs.style.opacity=0;xs.style.transition="opacity "+Do+"ms";const rt=async(e,t)=>{ds&&(xs.style.opacity=0,await at(Do),await va(ds)),No=t,ds=ui(e),await ga(ds),xs.style.opacity=1},Ro=()=>No;class Di{constructor(t){this.timer=Date.now(),this.delay=t,this.pending,this.callback}run(t){if(this.callback=t,this.pending)return;let i=Date.now()-this.timer,n=this.delay-i;n<=0?(this.callback(),this.timer=Date.now()):this.pending=setTimeout(()=>{this.callback(),this.timer=Date.now(),this.pending=void 0},n)}}function _a(){var e=document.querySelector('meta[name="viewport"]');e&&(e.content="initial-scale=0.1",e.content="width=500")}function ba(e,t){let s=e.getBoundingClientRect(),i=t.getBoundingClientRect(),n=Math.max(0,Math.min(s.right,i.right)-Math.max(s.left,i.left)),o=Math.max(0,Math.min(s.bottom,i.bottom)-Math.max(s.top,i.top)),l=n*o,r=s.width*s.height,a=i.width*i.height;return l/Math.min(r,a)}class ya{constructor(){this.startTime=0,this.elapsedTimeAtPause=0,this.paused=!1}start(){this.paused?(this.startTime=Date.now()-this.elapsedTimeAtPause,this.paused=!1):this.startTime=this.startTime||Date.now()}pause(){this.paused||(this.elapsedTimeAtPause=Date.now()-this.startTime,this.paused=!0)}set(t){this.paused?this.elapsedTimeAtPause=t*1e3:this.startTime=Date.now()-t*1e3}reset(){this.startTime=0,this.elapsedTimeAtPause=0,this.paused=!1}getElapsedTime(){return this.paused?this.elapsedTimeAtPause/1e3:(Date.now()-this.startTime)/1e3}getElapsedTimeStr(t){let s=t||this.getElapsedTime(),i=Math.floor(s),n=Math.floor(i/60);return i=i%60,`${n}:${i.toString().padStart(2,"0")}`}}const ae=(e,t,s,i,n)=>i+(n-i)*(e-t)/(s-t),Ps="/logic-gate-game-vue/logowhite.png",wa="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-play'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M10.804%208%205%204.633v6.734zm.792-.696a.802.802%200%200%201%200%201.392l-6.363%203.692C4.713%2012.69%204%2012.345%204%2011.692V4.308c0-.653.713-.998%201.233-.696z'%20fill='%23ffffff'/%3e%3c/svg%3e",ko="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-star-fill'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M3.612%2015.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173%206.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927%200l2.184%204.327%204.898.696c.441.062.612.636.282.95l-3.522%203.356.83%204.73c.078.443-.36.79-.746.592L8%2013.187l-4.389%202.256z'%20fill='%23ffffff'/%3e%3c/svg%3e",$o="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-star'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M2.866%2014.85c-.078.444.36.791.746.593l4.39-2.256%204.389%202.256c.386.198.824-.149.746-.592l-.83-4.73%203.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513%200%200%200-.927%200L5.354%205.12l-4.898.696c-.441.062-.612.636-.283.95l3.523%203.356-.83%204.73zm4.905-2.767-3.686%201.894.694-3.957a.56.56%200%200%200-.163-.505L1.71%206.745l4.052-.576a.53.53%200%200%200%20.393-.288L8%202.223l1.847%203.658a.53.53%200%200%200%20.393.288l4.052.575-2.906%202.77a.56.56%200%200%200-.163.506l.694%203.957-3.686-1.894a.5.5%200%200%200-.461%200z'%20fill='%23ffffff'/%3e%3c/svg%3e",Wt=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},Ea={class:"module-container"},Ta={__name:"smarthomevitual",setup(e,{expose:t}){let s=!1,i={x:0,y:0};async function n(p,m){let g=document.getElementById("living-room-person-1");const _=100;for(let L=0;L<1;L+=1/_){if(await new Promise(yt=>requestAnimationFrame(yt)),s)return;let E=document.getElementById("living-room-1"),M=$(E).width(),R=$(E).height(),y,b;m?[y,b]=m(L):(y=Math.sin(L*Math.PI*2)*.4+.5,b=Math.cos(L*Math.PI*2)*.4+.5);let w=Math.abs(y-i.x),j=Math.abs(b-i.y),z=w>.01||j>.01;i={x:y,y:b};let et=y*M,st=b*R;g.style.left=et+"px",g.style.top=st+"px";let xt=document.getElementsByClassName("living-room-motion-sensor"),bt=[];for(let yt=0;yt<xt.length;yt++){let Gt=xt[yt],$e={left:parseFloat(Gt.style.left),top:parseFloat(Gt.style.top)},lt={left:parseFloat(g.style.left),top:parseFloat(g.style.top)},J=$e.left-lt.left,q=$e.top-lt.top,Ft=Math.sqrt(J*J+q*q);Ft<450/2&&z?Gt.classList.remove("sensor-deactivated"):Gt.classList.add("sensor-deactivated"),bt.push(Ft)}if(p&&p({person:{x:et,y:st},distances:z?bt:bt.map(()=>1e4),enoughMovement:z}))return}}function o(){document.querySelector(".living-room").classList.remove("light-off")}function l(){document.querySelector(".living-room").classList.add("light-off")}function r(p,m){let g=document.querySelector(".living-room"),_=document.createElement("div");p<0&&(p+=$(g).width(),p-=30),m<0&&(m+=$(g).height(),m-=30),_.style.left=p+"px",_.style.top=m+"px",_.classList.add("living-room-motion-sensor"),g.appendChild(_)}function a(p,m){let g=document.querySelector(".switch-container"),_=document.createElement("div");_.classList.add("labeled-switch"),_.innerHTML=`
    <label>${p}</label>
    <label class="switch">
      <input type="checkbox" checked>
      <span class="slider round"></span>
    </label>
  `,g.appendChild(_);let L=_.querySelector("input");return L.addEventListener("click",()=>{m&&m(L.checked)}),L}function c(p,m){let g=a(p,_=>{m.setState(_)});return m.world.eventManager.subscribe("TERMINAL_STATE_CHANGED",_=>{_===m&&(g.checked=_.getState())}),g.checked=m.getState(),g}function u(p){p.getState()?o():l(),p.world.eventManager.subscribe("TERMINAL_STATE_CHANGED",m=>{m===p&&(m.getState()?o():l())})}function h(p){let m=document.getElementById("living-room-person-1");if(m.style.zIndex=100,$(m).tooltip("dispose"),!p)return;let g=document.querySelector(".app-outer");$(m).tooltip({title:p,trigger:"manual hover toggle",placement:"top",animation:!0,boundary:g}),$(m).tooltip("show")}return Yt(()=>{s=!0}),t({personCycleTest:n,lightOn:o,lightOff:l,addMotionSensor:r,addSwitch:a,addLinkedSwitch:c,linkLight:u,personPrompt:h}),(p,m)=>(U(),B("div",Ea,m[0]||(m[0]=[S("div",{class:"living-room-container",id:"living-room-1"},[S("div",{class:"living-room light-off"},[Li("LIVING ROOM "),S("div",{class:"living-room-person",id:"living-room-person-1"},"P")])],-1),S("div",{class:"switch-container"},null,-1)])))}},Hs=Wt(Ta,[["__scopeId","data-v-17d7ce16"]]);class _t{}wt(_t,"ON",!0),wt(_t,"OFF",!1);class _n{constructor(t,s,i){this.isSource=i,this.state=_t.OFF,this.parent=s,this.index=-1,this.relatedTerminals=[],this.world=t,t.terminals.push(this),this.world.eventManager.publish("TERMINAL_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("TERMINAL_DOM_SET",this)}setState(t){this.state!==t&&(this.state=t,this.world.eventManager.publish("TERMINAL_STATE_CHANGED",this))}getState(){return this.state}toggle(){this.setState(!this.state)}remove(){this.parent=null,this.relatedTerminals=null,this.domElement&&(this.domElement.remove(),this.domElement=null),this.world.terminals=this.world.terminals.filter(t=>t!==this),this.world.eventManager.publish("TERMINAL_REMOVED",this),this.world=null}}class Sa{constructor(t,s,i){if(s===i){console.error("Cannot connect terminal to itself");return}if(s.isSource&&i.isSource){console.error("Wire cannot connect two sources");return}if(!s.isSource&&!i.isSource){console.error("Wire cannot connect two sinks");return}this.world=t,t.wires.push(this),s.isSource?(this.terminalSrc=s,this.terminalSink=i):(this.terminalSrc=i,this.terminalSink=s),this.state=_t.OFF,this.terminalSrc.relatedTerminals.push(this.terminalSink),this.terminalSink.relatedTerminals.push(this.terminalSrc),this.world.eventManager.publish("WIRE_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("WIRE_DOM_SET",this)}update(){this.state!==this.terminalSrc.state&&(this.world.eventManager.publish("WIRE_STATE_CHANGED",this),this.state=this.terminalSrc.state),this.terminalSink.setState(this.state)}remove(){this.terminalSrc.relatedTerminals=this.terminalSrc.relatedTerminals.filter(t=>t!==this.terminalSink),this.terminalSink.relatedTerminals=this.terminalSink.relatedTerminals.filter(t=>t!==this.terminalSrc),this.terminalSink.setState(_t.OFF),this.world.wires=this.world.wires.filter(t=>t!==this),this.world.eventManager.publish("WIRE_REMOVED",this),this.world=null,this.terminalSrc=null,this.terminalSink=null,this.domElement&&(this.domElement.remove(),this.domElement=null),delete this}getState(){return this.state?_t.ON:_t.OFF}setState(t){t!==this.state&&(this.state=t,this.world.eventManager.publish("WIRE_STATE_CHANGED",this))}}class xa{constructor(t,s){this.world=t,t.gates.push(this),this.funcSpec=s,this.inputTerminals=[],this.outputTerminals=[];for(let i=0;i<s.inputCount;i++)this.inputTerminals.push(new _n(t,this,!1));for(let i=0;i<s.outputCount;i++)this.outputTerminals.push(new _n(t,this,!0));this.terminals().forEach((i,n)=>{i.index=n}),this.world.eventManager.publish("GATE_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("GATE_DOM_SET",this)}update(){if(this.inputTerminals.length===0||this.outputTerminals.length===0)return;let t=this.inputTerminals.map(i=>i.state),s=this.funcSpec.func(...t);s!==void 0&&(s instanceof Array?s.forEach((i,n)=>{this.outputTerminals[n].setState(i)}):this.outputTerminals[0].setState(s))}terminals(){return this.inputTerminals.concat(this.outputTerminals)}getTerminalIndex(t){return this.terminals().indexOf(t)}setTerminalStateByIndex(t,s){this.terminals()[t].state=s}getState(){return this.terminals().map(t=>t.state?_t.ON:_t.OFF)}setState(t){t.forEach((s,i)=>{this.terminals()[i].state=s?_t.ON:_t.OFF})}getTerminalStateByIndex(t){return this.terminals()[t].state}unlinkAll(){this.terminals().forEach(t=>{this.world.getWiresByTerminal(t).forEach(s=>s.remove())})}remove(){this.terminals().some(t=>t===this.world.previousTerminal)&&(this.world.previousTerminal=null),this.unlinkAll(),this.world.inputs=this.world.inputs.filter(t=>t!==this),this.world.outputs=this.world.outputs.filter(t=>t!==this),this.world.gates=this.world.gates.filter(t=>t!==this),this.world.eventManager.publish("GATE_REMOVED",this),this.world=null,this.inputTerminals.forEach(t=>t.remove()),this.outputTerminals.forEach(t=>t.remove()),this.domElement&&(this.domElement.remove(),this.domElement=null),delete this}isFundamental(){return Ee.isSpecFundamental(this.funcSpec)}in(t){return this.inputTerminals[t]}out(t){return this.outputTerminals[t]}}class Nt{constructor(t,s,i,n){this.name=t,this.func=s,this.inputCount=i,this.outputCount=n}}class Re{constructor(t){this.eventManager=t===void 0?new ma:t,this.terminals=[],this.wires=[],this.gates=[],this.inputs=[],this.outputs=[],this.previousState="",this.stableCount=0,this.instableCount=0,this.tickCount=0,this.eventManager.publish("WORLD_CREATED",this)}get numGate(){return this.nonIOGates.length}get nonIOGates(){return this.gates.filter(t=>!this.inputs.includes(t)&&!this.outputs.includes(t))}get in(){return this.inputs}get out(){return this.outputs}setDomElement(t){this.domElement=t,this.eventManager.publish("WORLD_DOM_SET",this)}setParent(t){this.parent=t,this.eventManager.publish("WORLD_PARENT_SET",this)}setInputsState(t){t&&(t=t.map(s=>s?_t.ON:_t.OFF),this.inputs.forEach((s,i)=>{s.out(0).setState(t[i])}))}async evaluate(t,s){if(t&&this.setInputsState(t),s)for(this.notifyInstability();!this.isStable();)this.tick();else await this.waitStable();let i=this.outputs.map(n=>n.in(0).state);return this.eventManager.publish("WORLD_RESULT",{inputs:t,results:i}),i}evaluateSync(t){for(this.setInputsState(t),this.notifyInstability();!this.isStable();)this.tick();let s=this.outputs.map(i=>i.in(0).state);return this.eventManager.publish("WORLD_RESULT",{inputs:t,results:s}),s}notifyInstability(){this.instableCount++,this.stableCount=0}getStateSignature(){let t="";return this.terminals.forEach(s=>{t+=s.state?"1":"0"}),t}checkFinished(){let t=this.getStateSignature();t===this.previousState?(this.stableCount++,this.instableCount=0):(this.stableCount=0,this.instableCount++,this.previousState=t),this.stableCount===3&&this.eventManager.publish("WORLD_STABLE",this),this.instableCount===1&&this.eventManager.publish("WORLD_INSTABLE",this)}isStable(){return this.stableCount>3}async waitStable(){return this.notifyInstability(),new Promise((t,s)=>{this.eventManager.subscribe("WORLD_STABLE",()=>{t()})})}enableAutoSleep(){this.autoSleep=!0,this.sleepSince=Date.now()}tick(){if(this.autoSleep){let t=Date.now(),s=t-this.sleepSince;if(this.stableCount>10){if(s<100)return;this.sleepSince=t}}this.gates.forEach(t=>t.update()),this.wires.forEach(t=>t.update()),this.checkFinished(),this.tickCount++,this.eventManager.publish("WORLD_TICK",this)}makeConnection(t){let s=!1;if(!this.previousTerminal)this.previousTerminal=t,this.eventManager.publish("WORLD_TERMINAL_SELECTED",{from:this.previousTerminal,world:this});else{let i=this.getWiresBetween(this.previousTerminal,t);if(i.length>0)i.forEach(n=>n.remove()),this.eventManager.publish("WORLD_TERMINAL_DISCONNECTED",{from:this.previousTerminal,to:t,world:this});else{let n=t.isSource?this.previousTerminal:t;this.getWiresByTerminal(n).length==0&&(s=new Sa(this,this.previousTerminal,t),this.eventManager.publish("WORLD_TERMINAL_CONNECTED",{from:this.previousTerminal,to:t,world:this}))}this.previousTerminal=null}return s}clearSelection(){this.previousTerminal=null}createLogicGate(t){return new xa(this,t)}addInputGate(t){this.inputs.push(t),this.eventManager.publish("GATE_INPUT_ADDED",t)}removeInputGate(t){this.inputs=this.inputs.filter(s=>s!==t),this.eventManager.publish("GATE_INPUT_REMOVED",t)}addOutputGate(t){this.outputs.push(t),this.eventManager.publish("GATE_OUTPUT_ADDED",t)}removeOutputGate(t){this.outputs=this.outputs.filter(s=>s!==t),this.eventManager.publish("GATE_OUTPUT_REMOVED",t)}getWiresByTerminal(t){return this.wires.filter(s=>s.terminalSrc===t||s.terminalSink===t)}getWiresBetween(t,s){return this.wires.filter(i=>i.terminalSrc===t&&i.terminalSink===s||i.terminalSrc===s&&i.terminalSink===t)}export(){return{inputs:this.inputs,outputs:this.outputs,gates:this.gates,wires:this.wires}}clearNonIO(){this.wires.forEach(t=>t.remove()),this.nonIOGates.forEach(t=>t.remove())}clear(){this.gates.forEach(t=>t.remove()),this.wires.forEach(t=>t.remove()),this.terminals.forEach(t=>t.remove()),this.inputs=[],this.outputs=[]}remove(){this.clear(),this.domElement=null,this.eventManager=null,this.parent=null,delete this}}let Ca=new Nt("NOT",e=>!e,1,1),Oa=new Nt("AND",(e,t)=>e&&t,2,1),La=new Nt("NAND",(e,t)=>!(e&&t),2,1),Ma=new Nt("OR",(e,t)=>e||t,2,1),Ia=new Nt("NOR",(e,t)=>!(e||t),2,1),Aa=new Nt("XOR",(e,t)=>(e||t)&&!(e&&t),2,1),Da=new Nt("XNOR",(e,t)=>!((e||t)&&!(e&&t)),2,1),Na=new Nt("UNKNOWN",(e,t)=>{},2,1),Ra=new Nt("UNKNOWN",e=>{},1,1),Po=new Nt("IN",()=>{},0,1),Ho=new Nt("OUT",()=>{},1,0);const Et=class Et{static isSpecFundamental(t){return Object.values(Et).some(i=>{var n;return((n=i==null?void 0:i.functionSpec)==null?void 0:n.name)===(t==null?void 0:t.name)})}};wt(Et,"AND",{name:"AND",functionSpec:Oa}),wt(Et,"OR",{name:"OR",functionSpec:Ma}),wt(Et,"NOT",{name:"NOT",functionSpec:Ca}),wt(Et,"NAND",{name:"NAND",functionSpec:La}),wt(Et,"NOR",{name:"NOR",functionSpec:Ia}),wt(Et,"XOR",{name:"XOR",functionSpec:Aa}),wt(Et,"XNOR",{name:"XNOR",functionSpec:Da}),wt(Et,"IN",{name:"IN",functionSpec:Po}),wt(Et,"OUT",{name:"OUT",functionSpec:Ho}),wt(Et,"UNKNOWN",{name:"UNKNOWN",functionSpec:Na}),wt(Et,"UNKNOWN1",{name:"UNKNOWN1",functionSpec:Ra});let Ee=Et;console.log("logicgate_back.js loaded");let ka=`
<div id="logic-gate-templates" class="">
  <h3>Logic Gates Preview</h3>
  <div class="logic-gate-div-relative logic-gate logic-and-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-and.png" alt="AND Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
    <div class="logic-gate-terminal"></div>
    <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
    <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-or-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-or.png" alt="OR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-not-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-not.png" alt="NOT Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-xor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-xor.png" alt="XOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-unknown-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-unknown.png" alt="UNKNOWN Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-unknown1-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-unknown.png" alt="UNKNOWN Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-nand-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-nand.png" alt="NAND Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-nor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-nor.png" alt="NOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-xnor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-xnor.png" alt="XNOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-in-template">
    <span class="logic-gate-label">IN</span>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-out-template">
    <span class="logic-gate-label">OUT</span>
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-world-template">
    <span class="logic-gate-label">USER</span>
    <div class="logic-gate-input-terminal logic-gate-terminal-container"></div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container"></div>
    <div class="logic-gate-body"></div>
  </div>
</div>
`;var Je=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function n(l,r){if(!i[l]){i[l]={};for(var a=0;a<l.length;a++)i[l][l.charAt(a)]=a}return i[l][r]}var o={compressToBase64:function(l){if(l==null)return"";var r=o._compress(l,6,function(a){return t.charAt(a)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:o._decompress(l.length,32,function(r){return n(t,l.charAt(r))})},compressToUTF16:function(l){return l==null?"":o._compress(l,15,function(r){return e(r+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:o._decompress(l.length,16384,function(r){return l.charCodeAt(r)-32})},compressToUint8Array:function(l){for(var r=o.compress(l),a=new Uint8Array(2*r.length),c=0,u=r.length;c<u;c++){var h=r.charCodeAt(c);a[2*c]=h>>>8,a[2*c+1]=h%256}return a},decompressFromUint8Array:function(l){if(l==null)return o.decompress(l);for(var r=new Array(l.length/2),a=0,c=r.length;a<c;a++)r[a]=256*l[2*a]+l[2*a+1];var u=[];return r.forEach(function(h){u.push(e(h))}),o.decompress(u.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":o._compress(l,6,function(r){return s.charAt(r)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),o._decompress(l.length,32,function(r){return n(s,l.charAt(r))}))},compress:function(l){return o._compress(l,16,function(r){return e(r)})},_compress:function(l,r,a){if(l==null)return"";var c,u,h,p={},m={},g="",_="",L="",E=2,M=3,R=2,y=[],b=0,w=0;for(h=0;h<l.length;h+=1)if(g=l.charAt(h),Object.prototype.hasOwnProperty.call(p,g)||(p[g]=M++,m[g]=!0),_=L+g,Object.prototype.hasOwnProperty.call(p,_))L=_;else{if(Object.prototype.hasOwnProperty.call(m,L)){if(L.charCodeAt(0)<256){for(c=0;c<R;c++)b<<=1,w==r-1?(w=0,y.push(a(b)),b=0):w++;for(u=L.charCodeAt(0),c=0;c<8;c++)b=b<<1|1&u,w==r-1?(w=0,y.push(a(b)),b=0):w++,u>>=1}else{for(u=1,c=0;c<R;c++)b=b<<1|u,w==r-1?(w=0,y.push(a(b)),b=0):w++,u=0;for(u=L.charCodeAt(0),c=0;c<16;c++)b=b<<1|1&u,w==r-1?(w=0,y.push(a(b)),b=0):w++,u>>=1}--E==0&&(E=Math.pow(2,R),R++),delete m[L]}else for(u=p[L],c=0;c<R;c++)b=b<<1|1&u,w==r-1?(w=0,y.push(a(b)),b=0):w++,u>>=1;--E==0&&(E=Math.pow(2,R),R++),p[_]=M++,L=String(g)}if(L!==""){if(Object.prototype.hasOwnProperty.call(m,L)){if(L.charCodeAt(0)<256){for(c=0;c<R;c++)b<<=1,w==r-1?(w=0,y.push(a(b)),b=0):w++;for(u=L.charCodeAt(0),c=0;c<8;c++)b=b<<1|1&u,w==r-1?(w=0,y.push(a(b)),b=0):w++,u>>=1}else{for(u=1,c=0;c<R;c++)b=b<<1|u,w==r-1?(w=0,y.push(a(b)),b=0):w++,u=0;for(u=L.charCodeAt(0),c=0;c<16;c++)b=b<<1|1&u,w==r-1?(w=0,y.push(a(b)),b=0):w++,u>>=1}--E==0&&(E=Math.pow(2,R),R++),delete m[L]}else for(u=p[L],c=0;c<R;c++)b=b<<1|1&u,w==r-1?(w=0,y.push(a(b)),b=0):w++,u>>=1;--E==0&&(E=Math.pow(2,R),R++)}for(u=2,c=0;c<R;c++)b=b<<1|1&u,w==r-1?(w=0,y.push(a(b)),b=0):w++,u>>=1;for(;;){if(b<<=1,w==r-1){y.push(a(b));break}w++}return y.join("")},decompress:function(l){return l==null?"":l==""?null:o._decompress(l.length,32768,function(r){return l.charCodeAt(r)})},_decompress:function(l,r,a){var c,u,h,p,m,g,_,L=[],E=4,M=4,R=3,y="",b=[],w={val:a(0),position:r,index:1};for(c=0;c<3;c+=1)L[c]=c;for(h=0,m=Math.pow(2,2),g=1;g!=m;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=r,w.val=a(w.index++)),h|=(p>0?1:0)*g,g<<=1;switch(h){case 0:for(h=0,m=Math.pow(2,8),g=1;g!=m;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=r,w.val=a(w.index++)),h|=(p>0?1:0)*g,g<<=1;_=e(h);break;case 1:for(h=0,m=Math.pow(2,16),g=1;g!=m;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=r,w.val=a(w.index++)),h|=(p>0?1:0)*g,g<<=1;_=e(h);break;case 2:return""}for(L[3]=_,u=_,b.push(_);;){if(w.index>l)return"";for(h=0,m=Math.pow(2,R),g=1;g!=m;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=r,w.val=a(w.index++)),h|=(p>0?1:0)*g,g<<=1;switch(_=h){case 0:for(h=0,m=Math.pow(2,8),g=1;g!=m;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=r,w.val=a(w.index++)),h|=(p>0?1:0)*g,g<<=1;L[M++]=e(h),_=M-1,E--;break;case 1:for(h=0,m=Math.pow(2,16),g=1;g!=m;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=r,w.val=a(w.index++)),h|=(p>0?1:0)*g,g<<=1;L[M++]=e(h),_=M-1,E--;break;case 2:return b.join("")}if(E==0&&(E=Math.pow(2,R),R++),L[_])y=L[_];else{if(_!==M)return null;y=u+u.charAt(0)}b.push(y),L[M++]=u+y.charAt(0),u=y,--E==0&&(E=Math.pow(2,R),R++)}}};return o}();typeof define=="function"&&define.amd?define(function(){return Je}):typeof vs<"u"&&vs!=null?vs.exports=Je:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Je});const $a=()=>{let e=document.createElement("div");e.id="logic-gate-default-template",e.style.display="none",document.body.appendChild(e),e.innerHTML=ka};$a();const ye=(e,t)=>{let s={top:0,left:0};return!e||(s.top+=$(e).offset().top,s.left+=$(e).offset().left,!t)||(s.top-=$(t).offset().top,s.left-=$(t).offset().left),s};function Wo(e,t){let s=e.getBoundingClientRect(),i=t.getBoundingClientRect();return s.top>=i.top&&s.left>=i.left&&s.bottom<=i.bottom&&s.right<=i.right}let gs=0;const Pa=(e,t,s)=>{let i=0;const n=o=>{if(o.preventDefault(),o.stopPropagation(),o.type.includes("touch")&&(gs=3),o.type.includes("mouse")&&gs){gs--;return}let l=Date.now();l-i<100||(i=l,t(o))};["mousedown","touchstart"].forEach(o=>{e.addEventListener(o,n,s)})};class le{constructor(t,s,i,n){n=n===void 0?!0:n,t.setDomElement(s),t.setParent(this),this.world=t,this.domElement=s,this.eventManager=this.world.eventManager,this.loadTemplate(i||"logic-gate-templates"),$(s).addClass("logic-gate-div"),this.canvas=document.createElement("canvas"),this.domElement.appendChild(this.canvas),this.updateCanvas(!0),this.clearCanvas(),this.drawGrid();let o=new Di(100);this.onResize=()=>{o.run(()=>{this.updateCanvas(),this.visualTick()})},window.addEventListener("resize",this.onResize),this.mousePos={x:0,y:0},this.onMouseMove=l=>{let r=this.domElement.getBoundingClientRect();this.mousePos={x:l.clientX-r.left,y:l.clientY-r.top}},this.domElement.addEventListener("mousemove",this.onMouseMove,!0),this.canvas.addEventListener("contextmenu",l=>{console.log(JSON.stringify(this.export()))}),this.slowVisualTick=setInterval(()=>{this.visualTick()},100),this.eventManager.subscribe("TERMINAL_STATE_CHANGED",l=>{l.state===_t.ON?$(l.domElement).addClass("logic-gate-terminal-on"):$(l.domElement).removeClass("logic-gate-terminal-on")}),n&&this.createEditModeButton(),this.scaleX=1,this.scaleY=1,this.scaleTrackerInterval=setInterval(()=>{let l=this.canvas.getBoundingClientRect(),r=this.canvas.width/l.width,a=this.canvas.height/l.height;this.scaleX=r,this.scaleY=a},1e3/15),this.domElement.addEventListener("dragover",l=>{let r=this.domElement.getBoundingClientRect();this.mousePos={x:l.clientX-r.left,y:l.clientY-r.top}})}createEditModeButton(){let t=document.createElement("div");t.classList.add("logic-gate-edit-mode-button"),t.innerHTML="Edit Mode: Wiring",this.domElement.appendChild(t),this.moveMode=!1,t.addEventListener("click",()=>{this.moveMode=!this.moveMode,this.moveMode?(t.innerHTML="Edit Mode: Moving",$(this.domElement).addClass("logic-gate-move-mode"),this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING")):(t.innerHTML="Edit Mode: Wiring",$(this.domElement).removeClass("logic-gate-move-mode"),this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","WIRING"))})}showingModeSelector(){return!matchMedia("(pointer:fine)").matches}updateCanvas(t){if(!t){let s=this.domElement.clientWidth/this.canvas.width,i=this.domElement.clientHeight/this.canvas.height;(s!==1||i!==1)&&this.world.gates.forEach(n=>{let o=parseInt(n.domElement.style.left)*s,l=parseInt(n.domElement.style.top)*i;n.domElement.style.left=o+"px",n.domElement.style.top=l+"px"})}this.canvas.width=this.domElement.clientWidth,this.canvas.height=this.domElement.clientHeight,this.canvas.style.width=this.domElement.clientWidth+"px",this.canvas.style.height=this.domElement.clientHeight+"px",$(this.canvas).addClass("logic-gate-canvas"),this.ctx=this.canvas.getContext("2d"),this.arrangeIOGates()}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawGrid(){let t=this.ctx;t.strokeStyle="rgba(0, 0, 0, 0.1)",t.lineWidth=1,t.beginPath();let s=0;for(;s<this.canvas.width;)t.moveTo(s,0),t.lineTo(s,this.canvas.height),s+=20;let i=0;for(;i<this.canvas.height;)t.moveTo(0,i),t.lineTo(this.canvas.width,i),i+=20;t.stroke()}drawWires(){let t=this.ctx,s=this.world.terminals.map(i=>i);if(this.world.wires.forEach(i=>{let n=i.terminalSrc,o=i.terminalSink;s=s.filter(E=>E!==n&&E!==o);let l=$(n.domElement),r=$(o.domElement),a=ye(n.domElement,this.domElement),c=ye(o.domElement,this.domElement);a.top+=l.height()/2/this.scaleY,a.left+=l.width()/2/this.scaleX,c.top+=r.height()/2/this.scaleY,c.left+=r.width()/2/this.scaleX;let u=(a.left+c.left)/2;(a.top+c.top)/2;let h=Math.abs(a.left-c.left);t.beginPath(),t.strokeStyle=i.state===_t.ON?"white":"#0096d2",t.lineWidth=2/this.scaleX;const p={"self-connecting":()=>{let E=50/this.scaleY,M=30/this.scaleX,R;c.top>a.top?R=a.top-E:R=a.top+E,t.moveTo(a.left,a.top),t.lineTo(a.left+M,a.top),t.lineTo(a.left+M,R),t.lineTo(c.left-M,R),t.lineTo(c.left-M,c.top),t.lineTo(c.left,c.top)},"src-right-of-sink":()=>{let E=30/this.scaleY,M=30/this.scaleX;t.moveTo(a.left,a.top),t.lineTo(a.left+M,a.top),a.top<c.top?(t.lineTo(a.left+M,a.top+E),t.lineTo(c.left-M,c.top-E),t.lineTo(c.left-M,c.top),t.lineTo(c.left,c.top)):(t.lineTo(a.left+M,a.top-E),t.lineTo(c.left-M,c.top+E),t.lineTo(c.left-M,c.top),t.lineTo(c.left,c.top))},"default-grid":()=>{t.moveTo(a.left,a.top),t.lineTo(u,a.top),t.lineTo(u,c.top),t.lineTo(c.left,c.top)},"default-steep":()=>{t.moveTo(a.left,a.top),t.lineTo(a.left+h*.3,a.top),t.lineTo(c.left-h*.3,c.top),t.lineTo(c.left,c.top)},default:()=>{t.moveTo(a.left,a.top),t.lineTo(c.left,c.top)}};let m=c.left-a.left,g=Math.abs(a.top-c.top);m*=this.scaleX,g*=this.scaleY;let _=a.left>c.left;if(n.parent===o.parent||_&&g<70)p["self-connecting"]();else if(m<50&&g>70)p["src-right-of-sink"]();else{let E;m==0?E=999:E=Math.abs(g/m),E>.5,p["default-steep"]()}t.stroke()}),!gs&&this.world.previousTerminal){let i=this.world.previousTerminal,n=ye(i.domElement,this.domElement),o=$(i.domElement);n.top+=o.height()/2,n.left+=o.width()/2,t.beginPath(),t.strokeStyle="red",t.moveTo(n.left,n.top),t.lineTo(this.mousePos.x,this.mousePos.y),t.stroke()}s.forEach(i=>{let n=ye(i.domElement,this.domElement),o=$(i.domElement);n.top+=o.height()/2/this.scaleY,n.left+=o.width()/2/this.scaleX,t.beginPath(),t.strokeStyle=i.state?"white":"#0096d2",t.lineWidth=3/this.scaleX,t.moveTo(n.left,n.top);let l=15/this.scaleX;i.isSource?t.lineTo(n.left+l,n.top):t.lineTo(n.left-l,n.top),t.stroke()})}drawIndicators(){let t=this.indicatorSize||10,s=this.ctx;s.fillStyle=this.world.isStable()?"#4f4":"#f44",s.fillRect(0,t,t,t),s.fillStyle=this.world.tickCount%2===0?"#fff":"#ccc",s.fillRect(t,0,t,t)}createGateElement(t,s,i,n,o,l){i=i||100,n=n||100,o=o===void 0?!0:o,l=l===void 0?!0:l;let r=t.cloneNode(!0);$(r).removeClass("logic-gate-div-relative"),$(r).addClass("logic-gate-div-absolute"),r.style.left=`${i}px`,r.style.top=`${n}px`,this.domElement.appendChild(r);let a=this.world.createLogicGate(s);a.setDomElement(r),a._removeable=l,a._draggable=o;function c(){a.domElement.style.transition="all 0.1s",a.domElement.style.left=i+"px",a.domElement.style.top=n+"px",setTimeout(()=>{a.domElement.style.transition=""},500)}o&&($(r).draggable({handle:".logic-gate-body",distance:15,start:()=>{this.eventManager.publish("CANVAS_GATE_MOVE_START",a)},stop:()=>{this.eventManager.publish("CANVAS_GATE_MOVE_END",a);let g=Wo(a.domElement,this.domElement),_=a._removeable;g||(_?a.remove():c()),a.funcSpec.name;let L=this.world.gates;L=L.filter(M=>M._removeable&&M!==a),L=L.filter(M=>M.funcSpec.inputCount===a.funcSpec.inputCount),L=L.filter(M=>M.funcSpec.outputCount===a.funcSpec.outputCount);let E=L.map(M=>({gate:M,intersectionRatio:ba(M.domElement,a.domElement)}));if(E=E.filter(M=>M.intersectionRatio>.5),E.length>0){let M=E[0].gate;this.replaceGate(M,a)}}}),$(r).find(".logic-gate-body").addClass("logic-gate-body-active")),l&&a.domElement.addEventListener("contextmenu",g=>{a._removeable&&(this.eventManager.publish("CANVAS_GATE_REMOVED",a),g.preventDefault(),a.remove())});let u=$(r).find(".logic-gate-input-terminal")[0],h=$(r).find(".logic-gate-output-terminal")[0],p=$(u).children(),m=$(h).children();if(p.length!==s.inputCount)throw new Error("Input count does not match");if(m.length!==s.outputCount)throw new Error("Output count does not match");return a.setLabel=g=>{let _=a.domElement,L=$(_).find(".logic-gate-label")[0];L.innerHTML=g},a.inputTerminals.forEach((g,_)=>{g.setDomElement(p[_])}),a.outputTerminals.forEach((g,_)=>{g.setDomElement(m[_])}),a.terminals().forEach(g=>{g.domElement.addEventListener("click",_=>{_.stopPropagation(),this.world.makeConnection(g),this.showConnectableTerminals()}),g.domElement.draggable=!0,g.domElement.addEventListener("dragstart",_=>{_.dataTransfer.dropEffect="link",_.dataTransfer.setData("text","terminal"),this.world.clearSelection(),this.world.makeConnection(g),this.showConnectableTerminals()}),g.domElement.addEventListener("dragend",_=>{this.world.clearSelection(),this.showConnectableTerminals()}),g.domElement.addEventListener("dragover",_=>{this.mousePos={x:_.clientX,y:_.clientY},_.preventDefault()}),g.domElement.addEventListener("drop",_=>{_.dataTransfer.getData("text")==="terminal"&&(this.world.makeConnection(g),this.world.clearSelection(),this.showConnectableTerminals())})}),this.eventManager.publish("CANVAS_GATE_CREATED",a),a}replaceGate(t,s){let i=t.terminals().map(n=>this.world.getWiresByTerminal(n).map(o=>n.isSource?o.terminalSink:o.terminalSrc));s.domElement.style.left=t.domElement.style.left,s.domElement.style.top=t.domElement.style.top,t.remove(),this.world.clearSelection(),i.forEach((n,o)=>{n.forEach(l=>{this.world.makeConnection(l),this.world.makeConnection(s.terminals()[o])})}),this.eventManager.publish("CANVAS_GATE_REPLACED",{oldGate:t,newGate:s})}showConnectableTerminals(){let t=this.world.previousTerminal,s=t==null?void 0:t.isSource;if(t){if(t.domElement.classList.add("logic-gate-terminal-selected"),t.relatedTerminals.forEach(i=>{$(i.domElement).addClass("logic-gate-terminal-removeable")}),!s&&t.relatedTerminals.length>0)return;this.world.terminals.forEach(i=>{s!==i.isSource&&$(i.domElement).addClass("logic-gate-terminal-connectable")}),this.world.wires.forEach(i=>{$(i.terminalSink.domElement).removeClass("logic-gate-terminal-connectable")})}else this.world.terminals.forEach(i=>{let n=$(i.domElement);n.removeClass("logic-gate-terminal-connectable"),n.removeClass("logic-gate-terminal-removeable"),n.removeClass("logic-gate-terminal-selected")})}createInput(t){t=t||this.templates.IN;let s=this.createGateElement(t,Po,0,100,!1,!1);this.world.addInputGate(s);let i=$(s.domElement).find(".logic-gate-body")[0];return Pa(i,()=>{s.out(0).toggle()}),this.arrangeIOGates(),s}createOutput(t){t=t||this.templates.OUT;let s=this.createGateElement(t,Ho,500,100,!1,!1);return this.world.addOutputGate(s),this.arrangeIOGates(),s}removeInput(){this.world.inputs.pop().remove(),this.arrangeIOGates()}removeOutput(){this.world.outputs.pop().remove(),this.arrangeIOGates()}arrangeIOGates(){let t=this.world.inputs,s=this.world.outputs;{let i=this.canvas.height/(t.length+1),n=i-25;t.forEach(o=>{o.domElement.style.left="0px",o.domElement.style.right="",o.domElement.style.top=`${n}px`,n+=i})}{let i=this.canvas.height/(s.length+1),n=i-25;s.forEach(o=>{o.domElement.style.right="0px",o.domElement.style.left="",o.domElement.style.top=`${n}px`,n+=i})}}connect(t,s){return this.world.clearSelection(),this.world.makeConnection(t),this.world.makeConnection(s)}linkWorld(t,s,i){let n=this.templates.WORLD.cloneNode(!0),o=$(n).find(".logic-gate-input-terminal")[0],l=$(n).find(".logic-gate-output-terminal")[0],r=document.createElement("div");r.classList.add("logic-gate-terminal"),t.inputs.forEach(m=>{o.appendChild(r.cloneNode(!0))}),t.outputs.forEach(m=>{l.appendChild(r.cloneNode(!0))});let c=(Math.max(t.inputs.length,t.outputs.length)-3)*15;if(c>0){let m=$(n).height();$(n).height(m+c)}r.remove(),r=null;let u=new Nt("WORLD",()=>{},t.inputs.length,t.outputs.length),h=this.createGateElement(n,u,s,i,!0,!1);h._linkedWorld=t;let p=()=>{t.inputs.forEach((m,g)=>{m.outputTerminals[0].setState(h.inputTerminals[g].state)}),t.outputs.forEach((m,g)=>{h.outputTerminals[g].setState(m.inputTerminals[0].state)}),t.tick(),t.isStable()||this.world.notifyInstability()};return u.func=p,h.domElement.addEventListener("contextmenu",m=>{m.preventDefault(),h._linkedWorld.parent.remove(),h.remove()}),o=null,l=null,h}worldTick(){this.world.tick()}visualTick(){this.clearCanvas(),this.drawGrid(),this.drawIndicators(),this.ctx.scale(this.scaleX,this.scaleY),this.drawWires(),this.ctx.setTransform(1,0,0,1,0,0)}startVisualTick(){clearInterval(this.slowVisualTick),this.visualTickRunning=!0;const t=()=>{this.visualTickRunning&&(this.visualTick(),requestAnimationFrame(t))};requestAnimationFrame(t)}stopVisualTick(){this.slowVisualTick=setInterval(()=>{},100),this.visualTickRunning=!1}startWorldTick(t){t=t||60,this.worldTickInterval&&clearInterval(this.worldTickInterval),this.worldTickInterval=setInterval(()=>{this.worldTick()},1e3/t)}stopWorldTick(){clearInterval(this.worldTickInterval)}loadTemplate(t){let s=$(`#${t}`)[0],i={NOT:"logic-not-template",AND:"logic-and-template",NAND:"logic-nand-template",OR:"logic-or-template",NOR:"logic-nor-template",XOR:"logic-xor-template",XNOR:"logic-xnor-template",UNKNOWN:"logic-unknown-template",UNKNOWN1:"logic-unknown1-template",IN:"logic-in-template",OUT:"logic-out-template",WORLD:"logic-world-template"},n={};for(const[o,l]of Object.entries(i))n[o]=$(s).find(`.${l}`)[0];return this.templates=n,n}getGateTemplate(t){return this.templates[t]}createGate(t,s,i,n,o){if(this.world.clearSelection(),this.showConnectableTerminals(),s>=0&&s<=1&&(s=s*this.domElement.clientWidth),i>=0&&i<=1&&(i=i*this.domElement.clientHeight),s===void 0&&(s=this.domElement.clientWidth/2-25),i===void 0&&(i=this.domElement.clientHeight/2-25),Ee[t]===void 0){console.error("Invalid fundamental gate type");return}let l=this.templates[t],r=Ee[t].functionSpec;return this.createGateElement(l,r,s,i,n,o)}showWireFrame(t){t=t===void 0?this.domElement:t;let s=$(t).children();for(let i=0;i<s.length;i++){let n=s[i];$(n).addClass("show-wireframe"),this.showWireFrame(n)}}hideWireFrame(t){t=t===void 0?this.domElement:t;let s=$(t).find(".show-wireframe");for(let i=0;i<s.length;i++){let n=s[i];$(n).removeClass("show-wireframe")}}async evaluate(t){return await this.world.evaluate(t)}export(){let t=this.world.export(),s=[];t.gates.forEach((o,l)=>{if(o._exportID=l,o.funcSpec.name==="WORLD")s.push({type:o.funcSpec.name,x:o.domElement.style.left,y:o.domElement.style.top,id:o._exportID,state:o.getState(),worldExport:o._linkedWorld.parent.export(),canvasSize:{width:o._linkedWorld.domElement.clientWidth,height:o._linkedWorld.domElement.clientHeight}});else if(o.isFundamental())s.push({type:o.funcSpec.name,x:o.domElement.style.left,y:o.domElement.style.top,id:o._exportID,state:o.getState(),isWorldInput:this.world.inputs.includes(o),isWorldOutput:this.world.outputs.includes(o)});else{console.error("Unknown gate type");return}});let i=[];return t.wires.forEach(o=>{let l=o.terminalSrc,r=o.terminalSink,a=l.parent,c=r.parent,u=a.terminals().indexOf(l),h=c.terminals().indexOf(r);i.push({t1:{gateID:a._exportID,terminalID:u},t2:{gateID:c._exportID,terminalID:h},state:o.state})}),{gates:s,wires:i,canvasSize:{width:this.domElement.clientWidth,height:this.domElement.clientHeight}}}load(t){this.updateCanvas();let s=this.domElement.clientWidth/t.canvasSize.width,i=this.domElement.clientHeight/t.canvasSize.height;this.clear();let n={};t.gates.forEach(o=>{if(o.type==="WORLD"){let l=new Re,r=document.createElement("div");r.style.width=o.canvasSize.width+"px",r.style.height=o.canvasSize.height+"px",document.body.appendChild(r),new le(l,r).load(o.worldExport);let c=parseInt(o.x),u=parseInt(o.y),h=this.linkWorld(l,c,u);n[o.id]=h,n[o.id].setState(o.state)}else if(Ee[o.type]!==void 0){let l=parseInt(o.x)*s,r=parseInt(o.y)*i;o.isWorldInput?n[o.id]=this.createInput():o.isWorldOutput?n[o.id]=this.createOutput():n[o.id]=this.createGate(o.type,l,r),n[o.id].setState(o.state)}else{console.error("Unknown gate type",o);return}}),t.wires.forEach(o=>{let l=n[o.t1.gateID].terminals()[o.t1.terminalID],r=n[o.t2.gateID].terminals()[o.t2.terminalID];this.connect(l,r).setState(o.state)}),this.visualTick()}exportAsStr(){return Je.compressToBase64(JSON.stringify(this.export()))}loadFromStr(t){let s=JSON.parse(Je.decompressFromBase64(t));this.load(s)}clone(){let t=this.export(),s=this.domElement.cloneNode(!1),i=new le(new Re,s);return i.load(t),i}clear(t){this.world.gates.forEach(s=>{s.funcSpec.name==="WORLD"&&s._linkedWorld.parent.remove()}),t?(this.world.gates.forEach(s=>{let i=this.world.inputs.includes(s),n=this.world.outputs.includes(s);i||n||s.remove()}),this.world.wires.forEach(s=>{s.remove()})):this.world.clear()}remove(){this.clear(),window.removeEventListener("resize",this.onResize),clearInterval(this.slowVisualTick),this.stopVisualTick(),this.stopWorldTick(),this.domElement.remove(),this.domElement=null,this.world.remove(),this.world=null}importAsGate(t,s,i){t instanceof le&&(t=t.export());let n=document.createElement("div");n.style.width=`${t.canvasSize.width}px`,n.style.height=`${t.canvasSize.height}px`,document.body.appendChild(n);let o=new Re,l=new le(o,n);return l.load(t),s=s||100,i=i||100,this.linkWorld(l.world,s,i)}}console.log("logicgate_front.js loaded");const Ha="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-info-circle'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M8%2015A7%207%200%201%201%208%201a7%207%200%200%201%200%2014m0%201A8%208%200%201%200%208%200a8%208%200%200%200%200%2016'%20fill='%23ffffff'/%3e%3cpath%20d='m8.93%206.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738%203.468c-.194.897.105%201.319.808%201.319.545%200%201.178-.252%201.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275%200-.375-.193-.304-.533zM9%204.5a1%201%200%201%201-2%200%201%201%200%200%201%202%200'%20fill='%23ffffff'/%3e%3c/svg%3e";class Wa{constructor(t){if(this.name=t.name,this.description=t.description,this.availableGates=t.availableGates,this.maxGateCount=t.maxGateCount,this.timeLimit=t.timeLimit,this.onCreated=t.onCreated,this.onSubmit=t.onSubmit,this.initialCanvas=t.initialState,this.knownSolution=t.knownSolution,this.hints=t.hints,!t.name)throw new Error("Level must have a name");if(!t.description)throw new Error("Level must have a description");if(!t.availableGates)throw new Error("Level must have availableGates")}onCreated(){}async onSubmit(){return!0}}class Ni extends Wa{constructor(t){super(t),this.inputs=t.inputs,this.outputs=t.outputs,this.truthTableFn=t.truthTable,typeof this.truthTableFn!="function"?this.truthTableFn=()=>t.truthTable:this.truthTableFn=this.truthTableFn}get truthTable(){return console.log(this.truthTableFn()),this.truthTableFn()}}const Ga={class:"test-case-table-container"},Fa={class:"table table-dark table-hover text-center table-striped table-test-case"},Ua={class:"col-1"},ja=["onClick"],Ba={__name:"truthtableleveltemplate",setup(e,{expose:t}){const s=Xt("logicCanvas"),i=s.world,n=Xt("truthTableLevelData"),o=n.inputs,l=n.outputs,r=[...o,...l],a=Xn(n.truthTable.map(m=>[...m.outputs]));Ht(()=>{s.clear(),n.inputs.forEach(m=>{s.createInput().setLabel(m)}),n.outputs.forEach(m=>{s.createOutput().setLabel(m)})});const c=async m=>{let g=n.truthTable[m],_=g.inputs,L=g.outputs,E=await i.evaluate(_);E=E.map(R=>R?1:0);let M=!0;return E.forEach((R,y)=>{let b=L[y];R==b?a.value[m][y]=b:(a.value[m][y]=`${b} (got: ${R})`,M=!1)}),M?$(".table-test-case").find("tbody tr").eq(m).addClass("table-success"):$(".table-test-case").find("tbody tr").eq(m).addClass("table-danger"),console.log("result",_,L,E),M},u=async()=>{h();let m=!0;for(let g=0;g<n.truthTable.length;g++)await c(g)||(m=!1);return m},h=()=>{$(".table-test-case").find("tr").removeClass("table-primary"),$(".table-test-case").find("tr").removeClass("table-success"),$(".table-test-case").find("tr").removeClass("table-danger")},p=async(m,g)=>{let _=g.target.parentElement;h(),n.truthTable.forEach((L,E)=>{L.outputs.forEach((M,R)=>{a.value[E][R]=M})}),_.classList.toggle("table-primary"),await c(m)};return t({onSubmit:u,onCreated:n.onCreated}),(m,g)=>(U(),B(ot,null,[S("p",null,kt(vt(n).description),1),vt(n).render?(U(),xo(vt(n),{key:0})):Lo("",!0),S("div",Ga,[S("table",Fa,[S("thead",null,[S("tr",null,[(U(),B(ot,null,oe(r,_=>S("th",Ua,kt(_),1)),64))])]),S("tbody",null,[(U(!0),B(ot,null,oe(vt(n).truthTable,(_,L)=>(U(),B("tr",{class:"table-test-case-row",onClick:E=>{p(L,E)}},[(U(!0),B(ot,null,oe(_.inputs,E=>(U(),B("td",null,kt(E),1))),256)),(U(!0),B(ot,null,oe(a.value[L],E=>(U(),B("td",null,kt(E),1))),256))],8,ja))),256))])])])],64))}},Va=Wt(Ba,[["__scopeId","data-v-7e5e0c2c"]]);class Ka{constructor(){this.data={},this.loadFromLocalStorage()}loadFromLocalStorage(){try{if(this.data=JSON.parse(localStorage.getItem("userData")),console.log("Loaded user data from local storage",this.data),typeof this.data!="object"||this.data===null)throw new Error("Invalid data in local storage")}catch{console.error("Error loading user data from local storage"),this.data={},this.saveToLocalStorage()}}saveToLocalStorage(){localStorage.setItem("userData",JSON.stringify(this.data))}set(t,s){this.data[t]=s,this.saveToLocalStorage()}get(t){return this.data[t]}clear(){localStorage.removeItem("userData"),this.data={}}hasAttempted(t){var s,i;return(i=(s=this.data)==null?void 0:s.attempts)==null?void 0:i.hasOwnProperty(t)}getAttempt(t,s){var i,n;if((i=this.data)!=null&&i.attempts&&(n=this.data)!=null&&n.attempts[t])return this.data.attempts[t][s]}setAttempt(t,s,i){this.data.attempts||(this.data.attempts={}),this.data.attempts[t]||(this.data.attempts[t]={}),this.data.attempts[t][s]=i,this.saveToLocalStorage()}}const Tt=new Ka,qa={class:"app-container"},Xa={class:"back-button"},za={class:"app-outer"},Ya={class:"w-100 text-center"},Ja={class:"app-inner"},Za={class:"d-flex justify-content-center m-1 logic-canvas-container"},Qa={class:"logic-gate-deck"},tc={class:"d-flex deck-btns flex-column justify-content-around"},ec={class:"challenge-container"},sc={class:"modal fade",tabindex:"-1","data-bs-backdrop":"static",id:"reviewPopup","data-bs-theme":"dark"},ic={class:"modal-dialog modal-dialog-centered"},nc={class:"modal-content"},oc={class:"modal-body d-flex justify-content-around"},lc={class:"d-flex flex-column align-items-center"},rc={key:0,src:ko,alt:"star",class:"star result-star result-star-fill"},ac={key:1,src:$o,alt:"star",class:"star result-star"},cc={class:"mt-3"},Go=(e,t)=>{t=[...t,"UNKNOWN","UNKNOWN1"];let s=document.querySelector(".logic-gate-deck");t.forEach(i=>{let o=e.getGateTemplate(i).cloneNode(!0);o.classList.add("gate-deck-item"),o.classList.add(`add-${i.toLowerCase()}-btn`);let l=document.createElement("div");l.classList.add("gate-deck-item-container"),l.appendChild(o);let r=document.createElement("span");r.classList.add("gate-deck-item-title"),r.innerText=i,l.appendChild(r),s.appendChild(l),o.addEventListener("click",async a=>{let c=e.createGate(i),u=$(c.domElement).offset(),h=$(o).offset(),p=c.domElement.style.transition,m=c.domElement.style.zIndex,g=c.domElement.style.pointerEvents;c.domElement.style.zIndex=1e3,c.domElement.style.pointerEvents="none",$(c.domElement).offset(h),await at(30),c.domElement.style.transition="top 0.2s, left 0.2s, transform 0.2s, opacity 0.2s",await at(30),$(c.domElement).offset(u),await at(200),c.domElement.style.transition=p,c.domElement.style.zIndex=m,c.domElement.style.pointerEvents=g}),o.draggable=!0,o.ondragstart=a=>{a.dataTransfer.setData("gate",i)}}),e.domElement.ondragover=i=>{i.preventDefault()},e.domElement.ondrop=i=>{if(!i.dataTransfer.getData("gate"))return;let n=i.dataTransfer.getData("gate"),o=e.domElement.getBoundingClientRect(),l=i.clientX-o.left,r=i.clientY-o.top;l-=25,r-=25,e.createGate(n,l,r)}},uc={__name:"Play",setup(e){const t=()=>{console.log("back"),tt.clear(),rt(ce,{currentLevelID:o==null?void 0:o.id})};Ai(t);const s=()=>{let y=window.location.hash.split("?")[1];y=y?decodeURI(y):void 0;let b=Ro(),j=de[y||b];if(!j){rt(ce);return}return j};let i,n,o=s(),l,r=new ya,a,c=Xn([{star:!0,text:"Level Solved!"},{star:!0,text:"Time"},{star:!1,text:"# of Gates"}]);const u=()=>{let y=r.getElapsedTimeStr(),b=o.timeLimit?r.getElapsedTimeStr(o.timeLimit):"∞",w=document.querySelector(".level-timer");w.innerText=`${y} / ${b}`},h=()=>{let y=["GATE_CREATED","WIRE_CREATED","GATE_REMOVED","WIRE_REMOVED","CANVAS_GATE_MOVE_START"];i.eventManager.onceMulti(y,()=>{r.start()})};Ht(async()=>{if(!o)return;let b=window.location.href.split("#")[0]+`#play?${o.id}`;if(window.history.pushState({},"",b),!o.hideCanvas){let z=document.querySelector(".logic-canvas-here"),et=new Re;i=new le(et,z),i.startVisualTick(),i.startWorldTick(20),i.world.enableAutoSleep(),a=setInterval(u,100),Go(i,o.availableGates||["AND","OR","NOT","NAND","NOR","XOR","XNOR"]);const st=document.querySelector(".logic-canvas-container"),xt=.95,bt=new IntersectionObserver(([yt])=>{let Gt=yt.intersectionRatio<xt&&yt.boundingClientRect.y<=10;yt.target.classList.toggle("is-pinned",Gt)},{threshold:[xt]});bt.observe(st),l=bt,st.getBoundingClientRect().top<=10&&st.classList.add("is-pinned"),$('[data-toggle="tooltip"]').tooltip()}o instanceof Ni?(console.log(o),n=ui(Va),n.provide("logicCanvas",i),n.provide("truthTableLevelData",o),n.mount("#challenge")):(n=ui(o),n.provide("logicCanvas",i),n.mount("#challenge")),o.onCreated&&setTimeout(()=>{o.onCreated(i)},200);let w=Tt.getAttempt(o.id,"canvas"),j=Tt.getAttempt(o.id,"time");w?setTimeout(()=>{i.load(w),r.set(j),r.pause(),h()},500):r.start()}),Yt(()=>{$("#reviewPopup").modal("hide"),clearInterval(a),l==null||l.disconnect(),i==null||i.remove(),console.log("logic canvas removed"),n==null||n.unmount()});let p=null;const m=async()=>{if(!p)return;i.load(p),r.set(p.timeElapsed),p=null;let y=document.querySelector(".undo-btn");y.style.display="none"},g=async y=>{let b=document.querySelector(".clear-btn"),w=document.querySelector(".undo-btn");b.disabled=!0,p=i.export(),p.timeElapsed=r.getElapsedTime(),E(),b.disabled=!1,w.style.display="block",i.eventManager.onceMulti(["GATE_CREATED","WIRE_CREATED","TERMINAL_STATE_CHANGED"],()=>{let j=document.querySelector(".undo-btn");j.style.display="none"})},_=ns("test"),L=async()=>{let y=_.value._vnode.component.exposed;if(r.pause(),await y.onSubmit()){c.value[0].star=!1,c.value[1].star=!1,c.value[2].star=!1;let w=r.getElapsedTime(),j=r.getElapsedTimeStr(),z=o.timeLimit?r.getElapsedTimeStr(o.timeLimit):"∞";c.value[1].text=`Time: ${j} / ${z}`;let et=o.timeLimit?w<=o.timeLimit:!0,st=i.world.nonIOGates.length,xt=o.maxGateCount==null?"∞":o.maxGateCount;c.value[2].text=`# of Gates: ${st} / ${xt}`;let bt=o.maxGateCount==null?!0:st<=o.maxGateCount;Tt.setAttempt(o.id,"stars",[!0,et,bt]),Tt.setAttempt(o.id,"time",w),Tt.setAttempt(o.id,"canvas",i.export()),Tt.setAttempt(o.id,"animate_world_select",!0),h(),$("#reviewPopup").modal("show"),await at(200),c.value[0].star=!0,await at(200),c.value[1].star=et,await at(200),c.value[2].star=bt}else r.start()},E=()=>{$("#reviewPopup").modal("hide"),i.world.clearNonIO(),r.reset(),r.start()},M=async()=>{let y=o.next;rt(ce,{currentLevelID:o==null?void 0:o.id,nextLevelID:y==null?void 0:y.id}),await at(2e3),rt(Ws,y==null?void 0:y.id),$("html, body").animate({scrollTop:0},100)},R=()=>{if($("#export-textarea").length){$("#export-textarea").remove();return}console.log("exporting canvas");let y=i.exportAsStr(),b=document.createElement("textarea");b.id="export-textarea",b.value=y,b.style.position="fixed",b.style.width="90%",b.style.height="90%",b.style.zIndex=1e3,b.style.top="5%",b.style.left="5%",document.body.appendChild(b),b.select()};return(y,b)=>{var w,j,z,et;return U(),B(ot,null,[S("button",{onClick:R,style:{opacity:"0.1"},class:"position-fixed bottom-0 start-50 m-3 translate-middle-x z-3"},"Export Canvas"),S("div",qa,[b[5]||(b[5]=S("img",{class:"logo",src:Ps},null,-1)),S("div",Xa,[S("button",{class:"btn btn-outline-secondary",onClick:b[0]||(b[0]=st=>t())},"Back")]),S("div",za,[S("h1",Ya,kt((j=(w=vt(o))==null?void 0:w.world)==null?void 0:j.name)+" - "+kt((z=vt(o))==null?void 0:z.name),1),S("div",Ja,[S("div",Za,[b[1]||(b[1]=Ts('<div class="logic-canvas-scale" data-v-32ac6906><div class="logic-canvas-here" data-v-32ac6906><div class="level-timer" data-v-32ac6906></div><img src="'+Ha+'" class="canvas-info-icon position-absolute top-0 end-0 m-3 z-3" alt="info" data-v-32ac6906><div class="canvas-info-tooltip position-absolute top-50 start-50 translate-middle" data-v-32ac6906><p data-v-32ac6906><b data-v-32ac6906>Adding a Gate:</b> Click or tap on a gate in the gate deck to add it to the canvas. Alternatively, drag the gate from the deck onto the canvas.</p><div class="logic-canvas-and-demo" data-v-32ac6906></div><p data-v-32ac6906><b data-v-32ac6906>Removing a Gate:</b> Right-click on the gate or drag it outside the canvas to remove it.</p><p data-v-32ac6906><b data-v-32ac6906>Moving a Gate:</b> Drag the gate to reposition it on the canvas.</p><p data-v-32ac6906><b data-v-32ac6906>Adding or Removing a Wire:</b> Click or tap on a terminal of one gate, then on the terminal of another gate. You can also drag one terminal to another to connect or disconnect them.</p></div></div></div>',1)),S("div",Qa,[S("div",tc,[S("button",{class:"btn btn-secondary clear-btn m-1",onClick:gn(g,["prevent"])},"Clear"),S("button",{class:"btn btn-secondary undo-btn m-1",onClick:gn(m,["prevent"])},"Undo")])]),(et=vt(o))!=null&&et.hideSubmit?Lo("",!0):(U(),B("button",{key:0,class:"btn btn-primary mt-0 mb-2",id:"submit-btn",onClick:L},"Submit"))]),S("div",ec,[b[2]||(b[2]=S("h2",null,"Chellenge:",-1)),S("div",{id:"challenge",ref_key:"test",ref:_},null,512),b[3]||(b[3]=S("div",{class:"testdummy"},null,-1))])])]),S("div",sc,[S("div",ic,[S("div",nc,[b[4]||(b[4]=S("div",{class:"modal-header"},[S("h5",{class:"modal-title"},"Result"),S("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),S("div",oc,[(U(!0),B(ot,null,oe(vt(c),st=>(U(),B("div",lc,[st.star?(U(),B("img",rc)):(U(),B("img",ac)),S("p",cc,kt(st.text),1)]))),256))]),S("div",{class:"modal-footer"},[S("button",{type:"button",class:"btn btn-primary",onClick:t},"World Selection"),S("button",{type:"button",class:"btn btn-primary",onClick:E},"Restart"),S("button",{type:"button",class:"btn btn-primary",onClick:M},"Next Level")])])])])])],64)}}},Ws=Wt(uc,[["__scopeId","data-v-32ac6906"]]),dc={class:"app-container"},fc={class:"back-button"},hc={class:"app-outer"},pc={class:"app-inner"},mc={class:"challenge"},gc={class:"mech-current-step"},vc={__name:"Tutorial",setup(e){const t=()=>{console.log("back"),$("html, body").animate({scrollTop:0},10),rt(ce)};let s;Object.keys(de).forEach(r=>{let a=de[r];a.goToPage==Ri&&(s=a)}),console.log("level",s),Ai(t);let i=[],n=null,o=null,l=null;return Ht(async()=>{console.log("mounted");let a=window.location.href.split("#")[0]+"#tutorial";window.history.pushState({},"",a);let c=["AND","OR","XOR","NOT","NAND","NOR","XNOR"];for(let u of c){let h=document.querySelector(`.${u.toLowerCase()}-demo`),p=new Re,m=new le(p,h,null,!1);i.push(m),m.startVisualTick(),m.startWorldTick(10),m.indicatorSize=5,m.world.enableAutoSleep();let g=Ee[u].functionSpec;for(let E=0;E<g.inputCount;E++)m.createInput().setLabel(["A","B","C","D"][E]);m.createOutput().setLabel("OUT");let _=m.createGate(u);for(let E=0;E<g.inputCount;E++){let M=m.world.in[E];m.world.makeConnection(M.out(0)),m.world.makeConnection(_.in(E))}let L=m.world.out[0];m.world.makeConnection(_.out(0)),m.world.makeConnection(L.in(0))}{let u=i[0];tt.clear(),tt.setCanvas(u),o=setInterval(()=>{let h=u.world.in[0].domElement.getBoundingClientRect();h.y+h.height<0&&(clearInterval(o),tt.skip())},100),l=setInterval(()=>{let h=u.world.in[1].domElement.getBoundingClientRect();h.y+h.height<0&&(clearInterval(l),tt.skip())},100),await tt.toggleInput(u.world.in[0]),clearInterval(o),await tt.toggleInput(u.world.in[1]),clearInterval(l)}{let u=document.querySelector(".main-logic-canvas"),h=new Re,p=new le(h,u);i.push(p),p.startVisualTick(),p.startWorldTick(10),p.createInput().setLabel("A"),p.createInput().setLabel("B"),p.createInput().setLabel("C"),p.createOutput().setLabel("OUT"),Go(p,["AND","OR","XOR","NOT","NAND","NOR","XNOR"]);let m=document.querySelector(".mech-add"),g=document.querySelector(".mech-remove"),_=document.querySelector(".mech-move"),L=document.querySelector(".mech-conneect"),E=document.querySelector(".mech-toggle"),M=document.querySelector(".mech-complete-text"),R=document.querySelector(".skip-btn"),y=null,b=new Di(100);const w=()=>{b.run(()=>{let et=document.querySelector(".mech-current-step");if(y){let st=$(y).offset();$(et).offset(st),et.style.display="block",et.style.width=$(y).outerWidth()+"px",et.style.height=$(y).outerHeight()+"px"}else et.style.display="none"})},j=et=>{y&&y.classList.add("mech-complete"),y=et,w()};n=setInterval(w,100),tt.setCanvas(p),j(g);let z=p.createGate("AND");await tt.removeGate(z),j(m),z=await tt.addGate("AND"),await at(100),setTimeout(async()=>{tt.skip()},100),await tt.moveGate(z,.5,.8),j(_),await tt.moveGate(z,.33,.33),j(L),await tt.addWire(p.world.in[0].out(0),z.in(0)),await tt.addWire(p.world.in[1].out(0),z.in(1)),await tt.addWire(z.out(0),p.world.out[0].in(0)),j(E),await tt.toggleInput(p.world.in[0]),await tt.toggleInput(p.world.in[1]),j(M),M.style.opacity=1,R.style.display="none",Tt.setAttempt(s.id,"stars",[!0,!0,!0]),Tt.setAttempt(s.id,"animate_world_select",!0)}}),Yt(()=>{tt.clear(),clearInterval(n),clearInterval(o),clearInterval(l),i.forEach(r=>r.remove())}),(r,a)=>(U(),B("div",dc,[a[6]||(a[6]=S("img",{class:"logo",src:Ps},null,-1)),S("div",fc,[S("button",{class:"btn btn-outline-secondary",onClick:a[0]||(a[0]=c=>t())},"Back")]),S("div",hc,[S("div",pc,[S("div",mc,[a[4]||(a[4]=Ts('<h1 data-v-93d8959f>What is a Logic Gate?</h1><p data-v-93d8959f> A <strong data-v-93d8959f>logic gate</strong> is a fundamental building block of digital circuits. It is an electronic device or circuit that performs a basic logical operation on one or more input signals and produces a single output signal. Logic gates are based on <strong data-v-93d8959f>Boolean algebra</strong>, a mathematical system of logic used in computing and electronics. </p><h2 data-v-93d8959f>Common Types of Logic Gates:</h2><ul data-v-93d8959f><li data-v-93d8959f><strong data-v-93d8959f>AND Gate:</strong> Outputs <code data-v-93d8959f>1</code> (true) only if <em data-v-93d8959f>all</em> inputs are <code data-v-93d8959f>1</code>. </li><div class="and-demo gate-demo" data-v-93d8959f></div><li data-v-93d8959f><strong data-v-93d8959f>OR Gate:</strong> Outputs <code data-v-93d8959f>1</code> if <em data-v-93d8959f>at least one</em> input is <code data-v-93d8959f>1</code>. </li><div class="or-demo gate-demo" data-v-93d8959f></div><li data-v-93d8959f><strong data-v-93d8959f>XOR Gate:</strong> Outputs <code data-v-93d8959f>1</code> if <em data-v-93d8959f>only one</em> of the inputs is <code data-v-93d8959f>1</code>. </li><div class="xor-demo gate-demo" data-v-93d8959f></div><li data-v-93d8959f><strong data-v-93d8959f>NOT Gate:</strong> Inverts the input signal </li><div class="not-demo gate-demo" data-v-93d8959f></div><li data-v-93d8959f><strong data-v-93d8959f>NAND Gate:</strong> Outputs the opposite of an AND gate.</li><div class="nand-demo gate-demo" data-v-93d8959f></div><li data-v-93d8959f><strong data-v-93d8959f>NOR Gate:</strong> Outputs the opposite of an OR gate.</li><div class="nor-demo gate-demo" data-v-93d8959f></div><li data-v-93d8959f><strong data-v-93d8959f>XNOR Gate:</strong> Outputs the opposite of an XOR gate.</li><div class="xnor-demo gate-demo" data-v-93d8959f></div></ul><h2 data-v-93d8959f>Why Are Logic Gates Important?</h2><ol data-v-93d8959f><li data-v-93d8959f><strong data-v-93d8959f>Foundation of Digital Electronics:</strong><p data-v-93d8959f>Logic gates are the basic components of digital circuits. They are used in designing microprocessors, memory devices, and control systems.</p></li><li data-v-93d8959f><strong data-v-93d8959f>Decision Making:</strong><p data-v-93d8959f>Logic gates enable devices to make logical decisions by processing binary data (1s and 0s).</p></li><li data-v-93d8959f><strong data-v-93d8959f>Binary Operations:</strong><p data-v-93d8959f>Since computers work in binary (0s and 1s), logic gates are essential for enabling computers to execute instructions.</p></li></ol><p data-v-93d8959f> Logic gates serve as the &quot;brain&quot; of digital systems, making them a cornerstone of modern technology. </p><h2 data-v-93d8959f>Game Mechanics</h2><div class="main-logic-canvas" data-v-93d8959f></div><div class="logic-gate-deck" data-v-93d8959f></div>',10)),S("div",gc,[a[3]||(a[3]=S("div",{class:"mech-current-step-highlighter"},null,-1)),S("button",{class:"btn btn-primary skip-btn",onClick:a[1]||(a[1]=c=>vt(tt).skip())},"Skip")]),a[5]||(a[5]=Ts('<p class="mech-remove mech-demo" data-v-93d8959f><b data-v-93d8959f>Remove Gate:</b> Right-click or drag the gate outside the canvas </p><p class="mech-add mech-demo" data-v-93d8959f><b data-v-93d8959f>Add Gate:</b> Click / Tap the gate you want to add from the gate deck. You can also drag the gate from the gate deck</p><p class="mech-move mech-demo" data-v-93d8959f><b data-v-93d8959f>Move Gate:</b> Drag the gate.</p><p class="mech-conneect mech-demo" data-v-93d8959f><b data-v-93d8959f>Connect Gates:</b> Click / Tap on the terminal of one gate, then on the terminal of another gate. Or drag one of the terminal to another terminal</p><p class="mech-toggle mech-demo" data-v-93d8959f><b data-v-93d8959f>Toggle Input:</b> Click / Tap on the input gate to toggle it on or off</p><p class="mech-complete-text mech-demo" data-v-93d8959f><b data-v-93d8959f>Congratulations!</b> You&#39;ve completed the tutorial. Feel free to experiment with the circuit now.</p>',6)),S("button",{class:"btn btn-secondary",onClick:a[2]||(a[2]=c=>t())},"Go Back To World Selector")])])])]))}},Ri=Wt(vc,[["__scopeId","data-v-93d8959f"]]),_c=new Ni({name:"NAND 1",description:"Create a NAND gate using AND and NOT gates",inputs:["A","B"],outputs:["OUT"],availableGates:["AND","NOT"],truthTable:[{inputs:[0,0],outputs:[1]},{inputs:[0,1],outputs:[1]},{inputs:[1,0],outputs:[1]},{inputs:[1,1],outputs:[0]}],maxGateCount:2,timeLimit:3*60,knownSolution:{gates:[{type:"IN",x:"0px",y:"108.333px",id:0,state:[!1],isWorldInput:!0,isWorldOutput:!1},{type:"IN",x:"0px",y:"241.667px",id:1,state:[!1],isWorldInput:!0,isWorldOutput:!1},{type:"OUT",x:"",y:"175px",id:2,state:[!0],isWorldInput:!1,isWorldOutput:!0},{type:"AND",x:"126px",y:"175.016px",id:3,state:[!1,!1,!1],isWorldInput:!1,isWorldOutput:!1},{type:"NOT",x:"229.75px",y:"175.766px",id:4,state:[!1,!0],isWorldInput:!1,isWorldOutput:!1}],wires:[{t1:{gateID:3,terminalID:2},t2:{gateID:4,terminalID:0},state:!1},{t1:{gateID:4,terminalID:1},t2:{gateID:2,terminalID:0},state:!0},{t1:{gateID:0,terminalID:0},t2:{gateID:3,terminalID:0},state:!1},{t1:{gateID:1,terminalID:0},t2:{gateID:3,terminalID:1},state:!1}],canvasSize:{width:400,height:400}}}),bc=new Ni({name:"Nothing",description:"Just connect the input to the output",inputs:["IN"],outputs:["OUT"],availableGates:["AND","NOT"],truthTable:[{inputs:[0],outputs:[0]},{inputs:[1],outputs:[1]}],maxGateCount:0,timeLimit:60,onCreated:e=>{}}),yc=bc;function wc(e,t,s,i,n,o){return U(),B("div",null,t[0]||(t[0]=[S("h1",null,"Test Template",-1)]))}const Fo=Wt(yc,[["render",wc]]),Ec={class:"challenge"},Tc={class:"mobile-scale"},bn={name:"Smart Home 1",description:"Basic Motion Control - Set up a single motion sensor to automate the lighting system.",availableGates:["NOT","AND","OR","XOR","NAND","NOR","XNOR"],hideSubmit:!1,timeLimit:60,maxGateCount:0},Sc={...bn,data(){return{...bn}}},xc=Object.assign(Sc,{__name:"smarthome1",setup(e,{expose:t}){let s=Xt("logicCanvas"),i=s.world,n=ns("smvitual"),o;return Ht(async()=>{o=n.value,o.addMotionSensor(10,10),s.createInput().setLabel("M1"),s.createOutput().setLabel("Light"),setTimeout(()=>{o.linkLight(i.outputs[0].in(0)),["M1"].forEach((r,a)=>{s.world.gates[a].setLabel(r)})},1e3)}),Yt(()=>{o.personPrompt()}),t({onSubmit:async()=>{o.personPrompt(),$("#submit-btn").prop("disabled",!0);let r=!0,a;return await n.value.personCycleTest(c=>{let u=c.distances.map((m,g)=>m<225),h=i.evaluateSync([...u])[0],p=u.some(m=>m);if(h!=p)return r=!1,a=`Hmm... It seems like there's an issue with the system. The light should ${p?"turn on":"stay off"}. Can you double-check your configuration?`,!0}),r?o.personPrompt("Great job! The system is now working perfectly. Thank you for your help!"):o.personPrompt(a),$("#submit-btn").prop("disabled",!1),r}}),(r,a)=>(U(),B("div",Ec,[S("div",Tc,[St(Hs,{ref_key:"smvitual",ref:n},null,512)]),a[0]||(a[0]=S("div",{class:"story"},[S("p",null," Welcome to your first Smart Home Challenge! The homeowner has installed a single motion sensor (M1) in their living room to automate their lighting system. They want the light to turn on automatically whenever motion is detected and turn off when no motion is detected. "),S("p",null," Your task is to configure the system so that the motion sensor (M1) controls the light: "),S("ul",null,[S("li",null,"When M1 detects motion, the light should turn on."),S("li",null,"When M1 stops detecting motion, the light should turn off.")]),S("p",null," Set up and test the system to ensure it works as expected! ")],-1))]))}}),Cc=Wt(xc,[["__scopeId","data-v-213bfbf9"]]),Oc={class:"challenge"},Lc={class:"mobile-scale"},yn={name:"Smart Home 2",description:"Comprehensive Coverage - Integrate multiple motion sensors for complete room coverage.",availableGates:["NOT","AND","OR","XOR","NAND","NOR","XNOR"],hideSubmit:!1,timeLimit:60,maxGateCount:3},Mc={...yn,data(){return{...yn}}},Ic=Object.assign(Mc,{__name:"smarthome2",setup(e,{expose:t}){let s=Xt("logicCanvas"),i=s.world,n=ns("smvitual"),o;return Ht(async()=>{o=n.value,o.addMotionSensor(10,10),o.addMotionSensor(-10,10),o.addMotionSensor(-10,-10),o.addMotionSensor(10,-10),s.createInput(),s.createInput(),s.createInput(),s.createInput(),s.createOutput(),setTimeout(()=>{o.linkLight(i.outputs[0].in(0)),["M1","M2","M3","M4"].forEach((r,a)=>{s.world.gates[a].setLabel(r)})},1e3)}),Yt(()=>{o.personPrompt()}),t({onSubmit:async()=>{o.personPrompt(),$("#submit-btn").prop("disabled",!0);let r=!0,a;const c=u=>u<.5?[.5,ae(u,0,.5,2,.8)]:(u=ae(u,.5,1,0,1),[Math.sin(u*Math.PI*2)*.4+.5,Math.cos(u*Math.PI*2)*.4+.5]);return await n.value.personCycleTest(u=>{let h=u.distances.map((g,_)=>g<225),p=i.evaluateSync([...h])[0],m=h.some(g=>g);if(p!=m)return r=!1,a=`Hmm... It seems like there's an issue with the system. The light should ${m?"turn on":"stay off"}. Can you double-check your configuration?`,!0},c),r?o.personPrompt("Great job! The system is now working perfectly. Thank you for your help!"):o.personPrompt(a),$("#submit-btn").prop("disabled",!1),r}}),(r,a)=>(U(),B("div",Oc,[S("div",Lc,[St(Hs,{ref_key:"smvitual",ref:n},null,512)]),a[0]||(a[0]=S("div",{class:"story"},[S("p",null," In this challenge, the homeowner has expanded their living room's smart lighting system. The single motion sensor (M1) wasn't enough to cover the entire room, so they’ve installed four motion sensors (M1, M2, M3, and M4) to ensure complete coverage. "),S("p",null," Your task is to configure the system so that the light behaves as follows: "),S("ul",null,[S("li",null,"The light should turn on if any one of the four motion sensors detects motion."),S("li",null,"The light should turn off only when none of the motion sensors detect motion.")]),S("p",null," Design and test the system to ensure all sensors work together to control the light effectively! ")],-1))]))}}),Ac=Wt(Ic,[["__scopeId","data-v-7e6c3e31"]]),Dc={class:"challenge"},Nc={class:"mobile-scale"},wn={name:"Smart Home 3",description:"Override Mode - Add a switch to ensure the light stays on continuously when desired.",availableGates:["NOT","AND","OR","XOR","NAND","NOR","XNOR"],hideSubmit:!1,timeLimit:60,maxGateCount:4},Rc={...wn,data(){return{...wn}}},kc=Object.assign(Rc,{__name:"smarthome3",setup(e,{expose:t}){let s=Xt("logicCanvas"),i=s.world,n=ns("smvitual"),o;return Ht(async()=>{o=n.value,o.addMotionSensor(10,10),o.addMotionSensor(-10,10),o.addMotionSensor(-10,-10),o.addMotionSensor(10,-10),s.createInput().setLabel("M1"),s.createInput().setLabel("M2"),s.createInput().setLabel("M3"),s.createInput().setLabel("M4"),s.createInput().setLabel("S"),s.createOutput().setLabel("Light"),setTimeout(()=>{o.addLinkedSwitch("S",i.inputs[4].out(0)),o.linkLight(i.outputs[0].in(0)),["M1","M2","M3","M4","S"].forEach((r,a)=>{s.world.gates[a].setLabel(r)})},1e3)}),Yt(()=>{o.personPrompt()}),t({onSubmit:async()=>{o.personPrompt(),$("#submit-btn").prop("disabled",!0);let r=!0,a;const c=p=>p<.25?[.5,ae(p,0,.25,.2,.8)]:p<.5?[.5,ae(p,.25,.5,.8,.8)]:(p=ae(p,.5,1,0,1),[Math.sin(p*Math.PI*2)*.4+.5,Math.cos(p*Math.PI*2)*.4+.5]),u=[[!1],[!0]],h=p=>{let[m,g,_,L,E]=p;return E||[m,g,_,L].some(y=>y)};for(let p=0;p<u.length;p++){let[m]=u[p];if(await n.value.personCycleTest(g=>{let _=g.distances.map((M,R)=>M<225),L=i.evaluateSync([..._,m])[0],E=h([..._,m]);if(L!=E)return r=!1,a=`Hmm... It seems like there's an issue with the system. The light should ${E?"turn on":"stay off"}.${g.enoughMovement?"":" I was sitting still."} Can you double-check your configuration?`,!0},c),!r)break}return r?o.personPrompt("Great job! The system is now working perfectly. Thank you for your help!"):o.personPrompt(a),$("#submit-btn").prop("disabled",!1),r}}),(r,a)=>(U(),B("div",Dc,[S("div",Nc,[St(Hs,{ref_key:"smvitual",ref:n},null,512)]),a[0]||(a[0]=S("div",{class:"story"},[S("p",null," The homeowner has noticed an issue with their smart lighting system: the light sometimes turns off while they are sitting still in the living room because the motion sensors does not detect movement. To address this, they’ve installed a new switch labeled S. "),S("p",null," Your task is to update the circuit so that the light behaves as follows: "),S("ul",null,[S("li",null,"If switch S is on, the light stays on continuously, regardless of motion."),S("li",null,"If switch S is off, the light only turns on when the motion sensors detects movement.")]),S("p",null," Design and test the system to ensure it meets these requirements! ")],-1))]))}}),$c=Wt(kc,[["__scopeId","data-v-37e643cb"]]),Pc={class:"challenge"},Hc={class:"mobile-scale"},En={name:"Smart Home 4",description:"Movie Time Setup - Introduce a switch to deactivate motion sensors while maintaining an override for continuous light.",availableGates:["NOT","AND","OR","XOR","NAND","NOR","XNOR"],hideSubmit:!1,timeLimit:120,maxGateCount:5},Wc={...En,data(){return{...En}}},Gc=Object.assign(Wc,{__name:"smarthome4",setup(e,{expose:t}){let s=Xt("logicCanvas"),i=s.world,n=ns("smvitual"),o;return Ht(async()=>{o=n.value,o.addMotionSensor(10,10),o.addMotionSensor(-10,10),o.addMotionSensor(-10,-10),o.addMotionSensor(10,-10),s.createInput().setLabel("M1"),s.createInput().setLabel("M2"),s.createInput().setLabel("M3"),s.createInput().setLabel("M4"),s.createInput().setLabel("A"),s.createInput().setLabel("S"),s.createOutput().setLabel("Light"),setTimeout(()=>{o.addLinkedSwitch("A",i.inputs[4].out(0)),o.addLinkedSwitch("S",i.inputs[5].out(0)),o.linkLight(i.outputs[0].in(0)),["M1","M2","M3","M4","A","S"].forEach((r,a)=>{s.world.gates[a].setLabel(r)})},1e3)}),Yt(()=>{o.personPrompt()}),t({onSubmit:async()=>{o.personPrompt(),$("#submit-btn").prop("disabled",!0);let r=!0,a;const c=p=>p<.25?[.5,ae(p,0,.25,.2,.8)]:p<.5?[.5,ae(p,.25,.5,.8,.8)]:(p=ae(p,.5,1,0,1),[Math.sin(p*Math.PI*2)*.4+.5,Math.cos(p*Math.PI*2)*.4+.5]),u=[[!1,!1],[!1,!0],[!0,!1],[!0,!0]],h=p=>{let[m,g,_,L,E,M]=p;return M||[m,g,_,L].some(b=>b)&&E};for(let p=0;p<u.length;p++){let[m,g]=u[p];if(await n.value.personCycleTest(_=>{let L=_.distances.map((R,y)=>R<225),E=i.evaluateSync([...L,m,g])[0],M=h([...L,m,g]);if(E!=M)return r=!1,a=`Hmm... It seems like there's an issue with the system.${_.enoughMotion?" I was moving.":" I was siting still."}${m?" Motion Sensing was active.":" Motion Sensing was deactivated."}${g?" The light switch was on..":" The light switch was off"} The light should ${M?"turn on":"stay off"}. Can you double-check your configuration?`,!0},c),!r)break}return r?o.personPrompt("Great job! The system is now working perfectly. Thank you for your help!"):o.personPrompt(a),$("#submit-btn").prop("disabled",!1),r}}),(r,a)=>(U(),B("div",Pc,[S("div",Hc,[St(Hs,{ref_key:"smvitual",ref:n},null,512)]),a[0]||(a[0]=Ts('<div class="story" data-v-ca0e575f><p data-v-ca0e575f> The homeowner enjoys watching movies in their living room and needs a way to deactivate the motion sensors during movie time. To address this, they’ve installed a new switch labeled <b data-v-ca0e575f>A</b> (for activation). </p><p data-v-ca0e575f> Your task is to configure the system so that it behaves as follows: </p><ul data-v-ca0e575f><li data-v-ca0e575f>If switch <b data-v-ca0e575f>S</b> is ON, the light will remain ON continuously, regardless of the state of the motion sensors or switch <b data-v-ca0e575f>A</b>.</li><li data-v-ca0e575f>If switch <b data-v-ca0e575f>S</b> is OFF and switch <b data-v-ca0e575f>A</b> is ON, the motion sensors (M1, M2, M3, M4) will control the light. The light should turn ON if any motion sensor detects motion and turn OFF only when none of the sensors detect motion.</li><li data-v-ca0e575f>If both switch <b data-v-ca0e575f>S</b> and switch <b data-v-ca0e575f>A</b> are OFF, the light will remain OFF, regardless of any detected motion.</li></ul><p data-v-ca0e575f> Design and test the system to ensure it accommodates the homeowner&#39;s need for a distraction-free movie experience while preserving normal functionality in other scenarios! </p></div>',1))]))}}),Fc=Wt(Gc,[["__scopeId","data-v-ca0e575f"]]);console.log("vue",Fo);const ki=[{name:"Basic",description:"Basic level",levels:[{name:"Tutorial",description:"Learn the basics of logic gates and game mechanics",goToPage:Ri},Fo,_c]},{name:"Intermediate",description:"Intermediate level",levels:[Cc,Ac,$c,Fc]},{name:"Advanced",description:"Advanced level",levels:[{name:"Level 4",description:"Level 4Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 5",description:"Level 5Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"}]},{name:"Expert",description:"Expert level",levels:[{name:"Level 7",description:"Level 7Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 8",description:"Level 8Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 9",description:"Level 9Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 7",description:"Level 7Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 8",description:"Level 8Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 9",description:"Level 9Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 7",description:"Level 7Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 8",description:"Level 8Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 9",description:"Level 9Level 3Level 3Level 3Level 3Level 3Level 3"}]}],de={};let fs;ki.forEach(e=>{e.levels.forEach(t=>{let s=`${e.name}.${t.name}`;t.world=e,t.id=s,t.cardID=s.replace(/\W/g,"-"),de[s]=t,fs&&(fs.next=t,t.previous=fs),fs=t})});const Uo=[];Object.keys(de).forEach(e=>{Uo.push(de[e])});const Uc={class:"app-container"},jc={class:"back-button"},Bc={class:"app-inner"},Vc={id:"world-selection",class:"world-selection-container","data-bs-theme":"dark"},Kc={class:"world"},qc={class:"world-title"},Xc={class:"level-container"},zc={class:"level"},Yc=["id"],Jc={class:"card-body"},Zc={class:"card-title"},Qc={class:"star-spin"},tu={key:0,src:ko,alt:"star",class:"star result-star result-star-fill"},eu={key:1,src:$o,alt:"star",class:"star result-star"},su={class:"card-text"},iu=["onClick"],nu={__name:"WorldSelection",setup(e){const t=Ro(),s=t==null?void 0:t.currentLevelID,i=t==null?void 0:t.nextLevelID;Ai(()=>{rt(Cs)}),Ht(()=>{let l=window.location.href.split("#")[0]+"#world-selection";if(window.history.pushState({},"",l),tt.clear(),!Tt.getAttempt("Basic.Tutorial","stars")){const r=$(".go-to-play")[0];tt.add({element:r,animation:"click"})}if(s){const r=de[s],a=de[i];let c=$("#card-"+(r==null?void 0:r.cardID)),u=$("#card-"+(a==null?void 0:a.cardID)),h=window.innerHeight/4;$("html, body").animate({scrollTop:c.offset().top-h},100);let p=$(c).css("background-color");a?setTimeout(()=>{$("html, body").animate({scrollTop:u.offset().top-h},100)},1e3):$(c).animate({backgroundColor:"rgba(200, 200, 200, 0.5)"},1e3,()=>{$(c).animate({backgroundColor:p},5e3)})}Uo.forEach(r=>{Tt.getAttempt(r.id,"animate_world_select")&&Tt.setAttempt(r.id,"animate_world_select",!1)})}),Yt(()=>{tt.clear()});const n=o=>{o.goToPage?rt(o.goToPage):($("html, body").animate({scrollTop:0},10),rt(Ws,o.id))};return(o,l)=>(U(),B("div",Uc,[S("div",jc,[S("button",{class:"btn btn-outline-secondary",onClick:l[0]||(l[0]=r=>vt(rt)(Cs))},"Back")]),S("div",Bc,[l[1]||(l[1]=S("img",{class:"logo wsimg",src:Ps},null,-1)),S("div",Vc,[(U(!0),B(ot,null,oe(vt(ki),r=>(U(),B("div",Kc,[S("h1",qc,kt(r.name),1),S("div",Xc,[(U(!0),B(ot,null,oe(r.levels,a=>(U(),B("div",zc,[S("div",{class:"card",style:{width:"18rem"},id:"card-"+a.cardID},[S("div",Jc,[S("h5",Zc,[Li(kt(a.name)+" ",1),S("div",{class:As(["star-container",vt(Tt).getAttempt(a.id,"animate_world_select")?"star-animate":""])},[(U(!0),B(ot,null,oe(vt(Tt).getAttempt(a.id,"stars")||[!1,!1,!1],c=>(U(),B("div",Qc,[c?(U(),B("img",tu)):(U(),B("img",eu))]))),256))],2)]),S("p",su,kt(a.description),1),S("button",{class:"btn btn-primary go-to-play float-right",onClick:c=>n(a)},"Start",8,iu)])],8,Yc)]))),256))])]))),256))])])]))}},ce=Wt(nu,[["__scopeId","data-v-2c43c387"]]),ou={class:"app-inner"},lu={class:"d-flex justify-content-center"},ru={__name:"MainMenu",setup(e){return Ht(()=>{console.log("mounted");let s=window.location.href.split("#")[0]+"#main-menu";window.history.pushState({},"",s);const i=$(".start-btn")[0];tt.clear(),tt.add({element:i,animation:"click"})}),(t,s)=>(U(),B("div",ou,[s[2]||(s[2]=S("img",{alt:"Vue logo",class:"logo",src:Ps},null,-1)),S("div",lu,[S("a",{class:"start-btn",id:"start-btn",onClick:s[0]||(s[0]=i=>vt(rt)(ce))},s[1]||(s[1]=[S("img",{src:wa,class:"start-btn-img",viewBox:"0 0 16 16"},null,-1)]))])]))}},Cs=Wt(ru,[["__scopeId","data-v-659addd0"]]);function Oe(e,t){let s=document.createElement("div");s.style.position=e.style.position,s.style.top=e.style.top,s.style.left=e.style.left,s.style.width=e.style.width,s.style.height=e.style.height,s.style.zIndex=e.style.zIndex,s.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",s.classList.add(t),s.classList.add("hintcursor-animation-stacked"),e.replaceWith(s),s.appendChild(e)}function Be(e){let t=e.parentElement;t.classList.contains("hintcursor-animation-stacked")&&(e.style.top=t.style.top,e.style.left=t.style.left,t.parentElement.appendChild(e),t.remove(),Be(e))}function $i(e){let t=e==null?void 0:e.parentElement;return t==null?e:t.classList.contains("hintcursor-animation-stacked")?$i(t):e}function au(e,t,s){let i=$i(e);i.style.top=`${s}px`,i.style.left=`${t}px`}class cu{constructor(t,s,i){this.transitionDuration=s||500,this.target={},this.hintElement=null,this.creatDomElement(i),this.currentAnimation=null,this.animations={click:()=>{Be(this.hintElement),Oe(this.hintElement,"hintcursor-animation-fadeinfromright"),Oe(this.hintElement,"hintcursor-animation-jiggle"),Oe(this.hintElement,"hintcursor-animation-blink"),this.setTransitionDuration(this.transitionDuration)},drag:()=>{Be(this.hintElement),Oe(this.hintElement,"hintcursor-animation-drag"),this.setTransitionDuration(this.transitionDuration)},point:()=>{Be(this.hintElement),Oe(this.hintElement,"hintcursor-animation-fadeinfromright"),Oe(this.hintElement,"hintcursor-animation-point"),this.setTransitionDuration(this.transitionDuration)}},this.setAnimation("click"),this.moveTo(t,s);let n=new Di(100);this._onWindowResizeProxy=()=>{n.run(()=>{this.moveToTarget()})},window.addEventListener("resize",this._onWindowResizeProxy),this.followInterval=setInterval(()=>{n.run(()=>{this.moveToTarget()})},200)}creatDomElement(t){let s=document.createElement("img");s.src="hintcursor_click.png",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.width="40px",s.style.height="40px",s.style.zIndex=3e3,s.style.pointerEvents="none",this.hintElement=s,t=t||document.documentElement,t.appendChild(s)}setAnimation(t,s){(s||t!=this.currentAnimation)&&(this.currentAnimation=t,this.animations[t]())}setTarget(t){this.target=t}moveToTarget(){let t=this.target;if(this.hidden)return;let s=ye(t,document.documentElement),i=s.left,n=s.top;i+=$(t).outerWidth()*.6,n+=$(t).outerHeight()*.6,au(this.hintElement,i,n)}moveTo(t,s){this.setTransitionDuration(s),this.setTarget(t),this.moveToTarget()}setTransitionDuration(t){if(t==null)return;this.transitionDuration=t;let s=$i(this.hintElement);s.style.transition=`top ${t}ms, left ${t}ms`,s.style.transitionTimingFunction="ease-in-out"}hide(){this.hintElement.style.transition="opacity 0.5s",this.hintElement.style.opacity=0,this.hidden=!0}unhide(){this.hintElement.style.transition="opacity 0.5s",this.hintElement.style.opacity=1,this.hidden=!1}remove(){this.hide(),setTimeout(()=>{this._remove()},500)}_remove(){clearInterval(this.followInterval),window.removeEventListener("resize",this._onWindowResizeProxy),Be(this.hintElement),this.hintElement.remove(),this.hintElement=null,this.target=null}}class uu{constructor(t,s,i){this.elements=t||[],this.cursorHint=new cu(void 0,void 0,i),this._finished=!1,this.next()}next(){if(this.current=this.elements.splice(0,1)[0],!this.current){this.cursorHint.hide(),this._finished=!0;return}this.current.animation&&this.cursorHint.setAnimation(this.current.animation),this.current.element&&this.cursorHint.moveTo(this.current.element)}add(t){this.elements.push(t),this._finished&&(this._finished=!1,this.cursorHint.unhide(),this.next())}clear(){this.elements=[],this.next()}}class du{constructor(t,s){this.logicCanvas=t,this.world=t==null?void 0:t.world,this.eventManager=t==null?void 0:t.eventManager,this.cursorHintSeries=new uu([],500,s),this.currentHintSolution=null}setCanvas(t){this.cursorHintSeries.clear(),this.logicCanvas=t,this.world=t==null?void 0:t.world,this.eventManager=t==null?void 0:t.eventManager}next(){this.cursorHintSeries.next()}add(t){this.cursorHintSeries.add(t)}clear(){this.cursorHintSeries.clear()}async addGate(t,s){s=s||$(`.add-${t.toLowerCase()}-btn`)[0],this.setSolution("addGate",{gateType:t}),this.add({element:s,animation:"click"});let i=await this.eventManager.wait("CANVAS_GATE_CREATED",n=>n.funcSpec.name===t);return this.next(),i}async removeGate(t){if(this.setSolution("removeGate",{gate:t}),this.logicCanvas.showingModeSelector()){let s=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(s),this.logicCanvas.moveMode||(this.add({element:s,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",i=>i==="MOVING"),this.next())}this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("GATE_REMOVED",s=>s===t),this.next(),this.currentHintSolution=null}async addWire(t,s,i){if(this.setSolution("addWire",{terminal1:t,terminal2:s}),this.logicCanvas.showingModeSelector()){let n=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(n),this.logicCanvas.moveMode&&(this.add({element:n,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",o=>o==="WIRING"),this.next())}this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("WORLD_TERMINAL_SELECTED",n=>{if(n.from===s){this.cursorHintSeries.cursorHint.setAnimation("click",!0);let l=t;t=s,s=l}let o=n.from===t||n.from===s;return o||setTimeout(()=>{this.world.clearSelection(),this.logicCanvas.showConnectableTerminals(),this.cursorHintSeries.cursorHint.setAnimation("click",!0)},500),o}),this.next(),this.add({element:s.domElement,animation:"click"}),await this.eventManager.wait(i||"WORLD_TERMINAL_CONNECTED",n=>{let o=n.from===t&&n.to===s,l=n.from===s&&n.to===t;return o||l}),this.next()}async removeWire(t,s){await this.addWire(t,s,"WORLD_TERMINAL_DISCONNECTED")}async toggleInput(t){this.setSolution("toggleInput",{gate:t}),this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("TERMINAL_STATE_CHANGED",s=>s===t.out(0)),this.next()}async moveGate(t,s,i,n,o,l){n=n??100,o=o??100;const r=$(this.logicCanvas.domElement).width(),a=$(this.logicCanvas.domElement).height();console.log(a,r),s>=0&&s<=1&&(s=s*r-n/2),i>=0&&i<=1&&(i=i*a-o/2),this.setSolution("moveGate",{gate:t,x:s,y:i,width:n,height:o});let c=document.createElement("div");if(c.style.position="absolute",c.style.top=`${i/a*100}%`,c.style.left=`${s/r*100}%`,c.style.width=`${n}px`,c.style.height=`${o}px`,c.style.pointerEvents="none",c.style.zIndex=1e3,c.style.border="2px solid rgba(0,0,0,0.5)",c.style.borderRadius="5px",c.style.backgroundColor="rgba(100,0,0,0.1)",c.style.opacity=0,c.style.transition="opacity 0.5s",requestAnimationFrame(()=>{c.style.opacity=.5}),this.logicCanvas.domElement.appendChild(c),this.logicCanvas.showingModeSelector()){let u=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(u),this.logicCanvas.moveMode||(this.add({element:u,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",h=>h==="MOVING"),this.next())}this.add({element:t.domElement,animation:"drag"}),await this.eventManager.wait("CANVAS_GATE_MOVE_START",u=>u===t),l=l||$(t.domElement).offset(),c.style.opacity=1,this.next(),this.add({element:c,animation:"point"}),await this.eventManager.wait("CANVAS_GATE_MOVE_END",u=>u===t),this.next(),c.style.opacity=0,setTimeout(()=>{c.remove()},500),Wo(t.domElement,c)||($(t.domElement)[0].style.transition="top 0.5s, left 0.5s",$(t.domElement).offset(l),setTimeout(()=>{$(t.domElement)[0].style.transition=""},500),await this.moveGate(t,s,i,n,o,l))}setSolution(t,s){({addGate:()=>{let n=s.gateType;this.currentHintSolution=()=>{this.logicCanvas.createGate(n)}},removeGate:()=>{let n=s.gate;this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING"),await at(100),n.remove()}},addWire:()=>{let n=s.terminal1,o=s.terminal2,l=ye(n.domElement,this.logicCanvas.domElement),r=ye(o.domElement,this.logicCanvas.domElement);this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","WIRING"),await at(100),this.world.clearSelection(),this.world.makeConnection(n),this.logicCanvas.mousePos={x:(l.left+r.left)/2,y:(l.top+r.top)/2},await at(100),this.world.makeConnection(o)}},toggleInput:()=>{let n=s.gate;this.currentHintSolution=()=>{n.out(0).toggle()}},moveGate:()=>{let n=s.gate,o=s.x,l=s.y,r=s.width-$(n.domElement).outerWidth(),a=s.height-$(n.domElement).outerHeight();this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING"),await at(100),this.eventManager.publish("CANVAS_GATE_MOVE_START",n),n.domElement.style.transition="top 0.1s, left 0.1s",n.domElement.style.top=`${l+r/2}px`,n.domElement.style.left=`${o+a/2}px`,await at(100),n.domElement.style.transition="",this.eventManager.publish("CANVAS_GATE_MOVE_END",n)}}})[t]()}skip(){this.currentHintSolution&&(this.currentHintSolution(),this.currentHintSolution=null)}}console.log("HintCursor loaded");/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */(function(e){function t(l,r){if(!(l.originalEvent.touches.length>1)){l.preventDefault();var a=l.originalEvent.changedTouches[0],c=document.createEvent("MouseEvents");c.initMouseEvent(r,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),l.target.dispatchEvent(c)}}if(e.support.touch="ontouchend"in document,e.support.touch){var s,i=e.ui.mouse.prototype,n=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(l){var r=this;!s&&r._mouseCapture(l.originalEvent.changedTouches[0])&&(s=!0,r._touchMoved=!1,t(l,"mouseover"),t(l,"mousemove"),t(l,"mousedown"))},i._touchMove=function(l){s&&(this._touchMoved=!0,t(l,"mousemove"))},i._touchEnd=function(l){s&&(t(l,"mouseup"),t(l,"mouseout"),this._touchMoved||t(l,"click"),s=!1)},i._mouseInit=function(){var l=this;l.element.bind({touchstart:e.proxy(l,"_touchStart"),touchmove:e.proxy(l,"_touchMove"),touchend:e.proxy(l,"_touchEnd")}),n.call(l)},i._mouseDestroy=function(){var l=this;l.element.unbind({touchstart:e.proxy(l,"_touchStart"),touchmove:e.proxy(l,"_touchMove"),touchend:e.proxy(l,"_touchEnd")}),o.call(l)}}})(jQuery);var Tn;(function(e){var t=function(){function i(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(i.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(n){this._dropEffect=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(n){this._effectAllowed=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),i.prototype.clearData=function(n){n!=null?delete this._data[n]:this._data=null},i.prototype.getData=function(n){return this._data[n]||""},i.prototype.setData=function(n,o){this._data[n]=o},i.prototype.setDragImage=function(n,o,l){var r=s._instance;r._imgCustom=n,r._imgOffset={x:o,y:l}},i}();e.DataTransfer=t;var s=function(){function i(){if(this._lastClick=0,i._instance)throw"DragDropTouch instance already created.";var n=!1;if(document.addEventListener("test",function(){},{get passive(){return n=!0,!0}}),"ontouchstart"in document){var o=document,l=this._touchstart.bind(this),r=this._touchmove.bind(this),a=this._touchend.bind(this),c=n?{passive:!1,capture:!1}:!1;o.addEventListener("touchstart",l,c),o.addEventListener("touchmove",r,c),o.addEventListener("touchend",a),o.addEventListener("touchcancel",a)}}return i.getInstance=function(){return i._instance},i.prototype._touchstart=function(n){var o=this;if(this._shouldHandle(n)){if(Date.now()-this._lastClick<i._DBLCLICK&&this._dispatchEvent(n,"dblclick",n.target)){n.cancelable&&n.preventDefault(),this._reset();return}this._reset();var l=this._closestDraggable(n.target);l&&!this._dispatchEvent(n,"mousemove",n.target)&&!this._dispatchEvent(n,"mousedown",n.target)&&(this._dragSource=l,this._ptDown=this._getPoint(n),this._lastTouch=n,n.cancelable&&n.preventDefault(),setTimeout(function(){o._dragSource==l&&o._img==null&&o._dispatchEvent(n,"contextmenu",l)&&o._reset()},i._CTXMENU),i._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){o._isDragEnabled=!0,o._touchmove(n)},i._PRESSHOLDAWAIT)))}},i.prototype._touchmove=function(n){if(this._shouldCancelPressHoldMove(n)){this._reset();return}if(this._shouldHandleMove(n)||this._shouldHandlePressHoldMove(n)){var o=this._getTarget(n);if(this._dispatchEvent(n,"mousemove",o)){this._lastTouch=n,n.cancelable&&n.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(n)&&(this._dispatchEvent(n,"dragstart",this._dragSource),this._createImage(n),this._dispatchEvent(n,"dragenter",o)),this._img&&(this._lastTouch=n,n.cancelable&&n.preventDefault(),o!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(n,"dragenter",o),this._lastTarget=o),this._moveImage(n),this._isDropZone=this._dispatchEvent(n,"dragover",o))}},i.prototype._touchend=function(n){if(this._shouldHandle(n)){if(this._dispatchEvent(this._lastTouch,"mouseup",n.target)){n.cancelable&&n.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",n.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(n.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},i.prototype._shouldHandle=function(n){return n&&!n.defaultPrevented&&n.touches&&n.touches.length<2},i.prototype._shouldHandleMove=function(n){return!i._ISPRESSHOLDMODE&&this._shouldHandle(n)},i.prototype._shouldHandlePressHoldMove=function(n){return i._ISPRESSHOLDMODE&&this._isDragEnabled&&n&&n.touches&&n.touches.length},i.prototype._shouldCancelPressHoldMove=function(n){return i._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(n)>i._PRESSHOLDMARGIN},i.prototype._shouldStartDragging=function(n){var o=this._getDelta(n);return o>i._THRESHOLD||i._ISPRESSHOLDMODE&&o>=i._PRESSHOLDTHRESHOLD},i.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new t,clearInterval(this._pressHoldInterval)},i.prototype._getPoint=function(n,o){return n&&n.touches&&(n=n.touches[0]),{x:o?n.pageX:n.clientX,y:o?n.pageY:n.clientY}},i.prototype._getDelta=function(n){if(i._ISPRESSHOLDMODE&&!this._ptDown)return 0;var o=this._getPoint(n);return Math.abs(o.x-this._ptDown.x)+Math.abs(o.y-this._ptDown.y)},i.prototype._getTarget=function(n){for(var o=this._getPoint(n),l=document.elementFromPoint(o.x,o.y);l&&getComputedStyle(l).pointerEvents=="none";)l=l.parentElement;return l},i.prototype._createImage=function(n){this._img&&this._destroyImage();var o=this._imgCustom||this._dragSource;if(this._img=o.cloneNode(!0),this._copyStyle(o,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var l=o.getBoundingClientRect(),r=this._getPoint(n);this._imgOffset={x:r.x-l.left,y:r.y-l.top},this._img.style.opacity=i._OPACITY.toString()}this._moveImage(n),document.body.appendChild(this._img)},i.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},i.prototype._moveImage=function(n){var o=this;requestAnimationFrame(function(){if(o._img){var l=o._getPoint(n,!0),r=o._img.style;r.position="absolute",r.pointerEvents="none",r.zIndex="999999",r.left=Math.round(l.x-o._imgOffset.x)+"px",r.top=Math.round(l.y-o._imgOffset.y)+"px"}})},i.prototype._copyProps=function(n,o,l){for(var r=0;r<l.length;r++){var a=l[r];n[a]=o[a]}},i.prototype._copyStyle=function(n,o){if(i._rmvAtts.forEach(function(h){o.removeAttribute(h)}),n instanceof HTMLCanvasElement){var l=n,r=o;r.width=l.width,r.height=l.height,r.getContext("2d").drawImage(l,0,0)}for(var a=getComputedStyle(n),c=0;c<a.length;c++){var u=a[c];u.indexOf("transition")<0&&(o.style[u]=a[u])}o.style.pointerEvents="none";for(var c=0;c<n.children.length;c++)this._copyStyle(n.children[c],o.children[c])},i.prototype._dispatchEvent=function(n,o,l){if(n&&l){var r=document.createEvent("Event"),a=n.touches?n.touches[0]:n;return r.initEvent(o,!0,!0),r.button=0,r.which=r.buttons=1,this._copyProps(r,n,i._kbdProps),this._copyProps(r,a,i._ptProps),r.dataTransfer=this._dataTransfer,l.dispatchEvent(r),r.defaultPrevented}return!1},i.prototype._closestDraggable=function(n){for(;n;n=n.parentElement)if(n.hasAttribute("draggable")&&n.draggable)return n;return null},i}();s._instance=new s,s._THRESHOLD=5,s._OPACITY=.5,s._DBLCLICK=500,s._CTXMENU=900,s._ISPRESSHOLDMODE=!1,s._PRESSHOLDAWAIT=400,s._PRESSHOLDMARGIN=25,s._PRESSHOLDTHRESHOLD=0,s._rmvAtts="id,class,style,draggable".split(","),s._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),s._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),e.DragDropTouch=s})(Tn||(Tn={}));const tt=new du(void 0);console.log(location);const fu=()=>{for(let e=0;e<20;e++){let t=document.createElement("div");t.innerHTML="dummy leak",document.body.appendChild(t),t.remove()}},hu=async()=>{fu();for(let e=0;e<10;e++)await rt(Cs),await at(100),await rt(ce),await at(100),await rt(Ws,ki[1].levels[0].id),await at(100)};let Ue=document.location.hash;Ue.startsWith("#play")?rt(Ws):Ue.startsWith("#world-selection")||Ue.startsWith("#smart-home-debug")?rt(ce):Ue.startsWith("#tutorial")?rt(Ri):Ue.startsWith("#mem-leak-test")?hu():rt(Cs);let te=document.createElement("button");te.innerHTML="Show Wireframe";te.style.position="fixed";te.style.bottom="10px";te.style.right="10px";te.style.zIndex="100";te.style.opacity="0.1";te.addEventListener("click",()=>{let e=document.createElement("style");e.innerHTML=`
    * {
      outline: rgba(255,0,0,0.3) dotted 1px;
    }
  `,document.documentElement.appendChild(e),te.remove()});document.body.appendChild(te);let me=document.createElement("button");me.innerHTML="Clear User Data";me.style.position="fixed";me.style.bottom="10px";me.style.left="10px";me.style.zIndex="100";me.style.opacity="0.1";me.addEventListener("click",()=>{Tt.clear()});document.body.appendChild(me)});export default pu();
