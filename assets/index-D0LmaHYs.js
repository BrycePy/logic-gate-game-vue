var Ko=Object.defineProperty;var qo=(e,t,s)=>t in e?Ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Xo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Tt=(e,t,s)=>qo(e,typeof t!="symbol"?t+"":t,s);var wu=Xo((Tu,_s)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mi(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const J={},Ae=[],zt=()=>{},zo=()=>!1,Is=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),gi=e=>e.startsWith("onUpdate:"),dt=Object.assign,vi=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Yo=Object.prototype.hasOwnProperty,X=(e,t)=>Yo.call(e,t),W=Array.isArray,De=e=>As(e)==="[object Map]",Cn=e=>As(e)==="[object Set]",G=e=>typeof e=="function",ot=e=>typeof e=="string",fe=e=>typeof e=="symbol",nt=e=>e!==null&&typeof e=="object",On=e=>(nt(e)||G(e))&&G(e.then)&&G(e.catch),Mn=Object.prototype.toString,As=e=>Mn.call(e),Jo=e=>As(e).slice(8,-1),In=e=>As(e)==="[object Object]",bi=e=>ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ve=mi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ds=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Zo=/-(\w)/g,de=Ds(e=>e.replace(Zo,(t,s)=>s?s.toUpperCase():"")),Qo=/\B([A-Z])/g,Ce=Ds(e=>e.replace(Qo,"-$1").toLowerCase()),An=Ds(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vs=Ds(e=>e?`on${An(e)}`:""),ae=(e,t)=>!Object.is(e,t),Ks=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Dn=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},tl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Vi;const Ls=()=>Vi||(Vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _i(e){if(W(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=ot(i)?nl(i):_i(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(ot(e)||nt(e))return e}const el=/;(?![^(]*\))/g,sl=/:([^]+)/,il=/\/\*[^]*?\*\//g;function nl(e){const t={};return e.replace(il,"").split(el).forEach(s=>{if(s){const i=s.split(sl);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ns(e){let t="";if(ot(e))t=e;else if(W(e))for(let s=0;s<e.length;s++){const i=Ns(e[s]);i&&(t+=i+" ")}else if(nt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ol="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ll=mi(ol);function Ln(e){return!!e||e===""}const Nn=e=>!!(e&&e.__v_isRef===!0),Ht=e=>ot(e)?e:e==null?"":W(e)||nt(e)&&(e.toString===Mn||!G(e.toString))?Nn(e)?Ht(e.value):JSON.stringify(e,Rn,2):String(e),Rn=(e,t)=>Nn(t)?Rn(e,t.value):De(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],o)=>(s[qs(i,o)+" =>"]=n,s),{})}:Cn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>qs(s))}:fe(t)?qs(t):nt(t)&&!W(t)&&!In(t)?String(t):t,qs=(e,t="")=>{var s;return fe(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lt;class rl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Lt,!t&&Lt&&(this.index=(Lt.scopes||(Lt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Lt;try{return Lt=this,t()}finally{Lt=s}}}on(){Lt=this}off(){Lt=this.parent}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function al(){return Lt}let Q;const Xs=new WeakSet;class kn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Lt&&Lt.active&&Lt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xs.has(this)&&(Xs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Pn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ki(this),Hn(this);const t=Q,s=Gt;Q=this,Gt=!0;try{return this.fn()}finally{Wn(this),Q=t,Gt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ei(t);this.deps=this.depsTail=void 0,Ki(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ii(this)&&this.run()}get dirty(){return ii(this)}}let $n=0,Ke,qe;function Pn(e,t=!1){if(e.flags|=8,t){e.next=qe,qe=e;return}e.next=Ke,Ke=e}function yi(){$n++}function wi(){if(--$n>0)return;if(qe){let t=qe;for(qe=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ke;){let t=Ke;for(Ke=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function Hn(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Wn(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),Ei(i),cl(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function ii(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Gn(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Gn(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ze))return;e.globalVersion=Ze;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ii(e)){e.flags&=-3;return}const s=Q,i=Gt;Q=e,Gt=!0;try{Hn(e);const n=e.fn(e._value);(t.version===0||ae(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Q=s,Gt=i,Wn(e),e.flags&=-3}}function Ei(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Ei(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function cl(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Gt=!0;const Fn=[];function pe(){Fn.push(Gt),Gt=!1}function me(){const e=Fn.pop();Gt=e===void 0?!0:e}function Ki(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Q;Q=void 0;try{t()}finally{Q=s}}}let Ze=0;class ul{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ti{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Q||!Gt||Q===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Q)s=this.activeLink=new ul(Q,this),Q.deps?(s.prevDep=Q.depsTail,Q.depsTail.nextDep=s,Q.depsTail=s):Q.deps=Q.depsTail=s,Un(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=Q.depsTail,s.nextDep=void 0,Q.depsTail.nextDep=s,Q.depsTail=s,Q.deps===s&&(Q.deps=i)}return s}trigger(t){this.version++,Ze++,this.notify(t)}notify(t){yi();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{wi()}}}function Un(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Un(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ni=new WeakMap,Ee=Symbol(""),oi=Symbol(""),Qe=Symbol("");function pt(e,t,s){if(Gt&&Q){let i=ni.get(e);i||ni.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new Ti),n.map=i,n.key=s),n.track()}}function te(e,t,s,i,n,o){const l=ni.get(e);if(!l){Ze++;return}const r=a=>{a&&a.trigger()};if(yi(),t==="clear")l.forEach(r);else{const a=W(e),c=a&&bi(s);if(a&&s==="length"){const u=Number(i);l.forEach((f,p)=>{(p==="length"||p===Qe||!fe(p)&&p>=u)&&r(f)})}else switch((s!==void 0||l.has(void 0))&&r(l.get(s)),c&&r(l.get(Qe)),t){case"add":a?c&&r(l.get("length")):(r(l.get(Ee)),De(e)&&r(l.get(oi)));break;case"delete":a||(r(l.get(Ee)),De(e)&&r(l.get(oi)));break;case"set":De(e)&&r(l.get(Ee));break}}wi()}function Oe(e){const t=q(e);return t===e?t:(pt(t,"iterate",Qe),Rt(e)?t:t.map(mt))}function Rs(e){return pt(e=q(e),"iterate",Qe),e}const dl={__proto__:null,[Symbol.iterator](){return zs(this,Symbol.iterator,mt)},concat(...e){return Oe(this).concat(...e.map(t=>W(t)?Oe(t):t))},entries(){return zs(this,"entries",e=>(e[1]=mt(e[1]),e))},every(e,t){return Zt(this,"every",e,t,void 0,arguments)},filter(e,t){return Zt(this,"filter",e,t,s=>s.map(mt),arguments)},find(e,t){return Zt(this,"find",e,t,mt,arguments)},findIndex(e,t){return Zt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Zt(this,"findLast",e,t,mt,arguments)},findLastIndex(e,t){return Zt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Zt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ys(this,"includes",e)},indexOf(...e){return Ys(this,"indexOf",e)},join(e){return Oe(this).join(e)},lastIndexOf(...e){return Ys(this,"lastIndexOf",e)},map(e,t){return Zt(this,"map",e,t,void 0,arguments)},pop(){return Ge(this,"pop")},push(...e){return Ge(this,"push",e)},reduce(e,...t){return qi(this,"reduce",e,t)},reduceRight(e,...t){return qi(this,"reduceRight",e,t)},shift(){return Ge(this,"shift")},some(e,t){return Zt(this,"some",e,t,void 0,arguments)},splice(...e){return Ge(this,"splice",e)},toReversed(){return Oe(this).toReversed()},toSorted(e){return Oe(this).toSorted(e)},toSpliced(...e){return Oe(this).toSpliced(...e)},unshift(...e){return Ge(this,"unshift",e)},values(){return zs(this,"values",mt)}};function zs(e,t,s){const i=Rs(e),n=i[t]();return i!==e&&!Rt(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=s(o.value)),o}),n}const hl=Array.prototype;function Zt(e,t,s,i,n,o){const l=Rs(e),r=l!==e&&!Rt(e),a=l[t];if(a!==hl[t]){const f=a.apply(e,o);return r?mt(f):f}let c=s;l!==e&&(r?c=function(f,p){return s.call(this,mt(f),p,e)}:s.length>2&&(c=function(f,p){return s.call(this,f,p,e)}));const u=a.call(l,c,i);return r&&n?n(u):u}function qi(e,t,s,i){const n=Rs(e);let o=s;return n!==e&&(Rt(e)?s.length>3&&(o=function(l,r,a){return s.call(this,l,r,a,e)}):o=function(l,r,a){return s.call(this,l,mt(r),a,e)}),n[t](o,...i)}function Ys(e,t,s){const i=q(e);pt(i,"iterate",Qe);const n=i[t](...s);return(n===-1||n===!1)&&Ci(s[0])?(s[0]=q(s[0]),i[t](...s)):n}function Ge(e,t,s=[]){pe(),yi();const i=q(e)[t].apply(e,s);return wi(),me(),i}const fl=mi("__proto__,__v_isRef,__isVue"),jn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fe));function pl(e){fe(e)||(e=String(e));const t=q(this);return pt(t,"has",e),t.hasOwnProperty(e)}class Bn{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?Sl:Xn:o?qn:Kn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const l=W(t);if(!n){let a;if(l&&(a=dl[s]))return a;if(s==="hasOwnProperty")return pl}const r=Reflect.get(t,s,vt(t)?t:i);return(fe(s)?jn.has(s):fl(s))||(n||pt(t,"get",s),o)?r:vt(r)?l&&bi(s)?r:r.value:nt(r)?n?zn(r):ks(r):r}}class Vn extends Bn{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];if(!this._isShallow){const a=Se(o);if(!Rt(i)&&!Se(i)&&(o=q(o),i=q(i)),!W(t)&&vt(o)&&!vt(i))return a?!1:(o.value=i,!0)}const l=W(t)&&bi(s)?Number(s)<t.length:X(t,s),r=Reflect.set(t,s,i,vt(t)?t:n);return t===q(n)&&(l?ae(i,o)&&te(t,"set",s,i):te(t,"add",s,i)),r}deleteProperty(t,s){const i=X(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&te(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!fe(s)||!jn.has(s))&&pt(t,"has",s),i}ownKeys(t){return pt(t,"iterate",W(t)?"length":Ee),Reflect.ownKeys(t)}}class ml extends Bn{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const gl=new Vn,vl=new ml,bl=new Vn(!0),li=e=>e,us=e=>Reflect.getPrototypeOf(e);function _l(e,t,s){return function(...i){const n=this.__v_raw,o=q(n),l=De(o),r=e==="entries"||e===Symbol.iterator&&l,a=e==="keys"&&l,c=n[e](...i),u=s?li:t?ri:mt;return!t&&pt(o,"iterate",a?oi:Ee),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:r?[u(f[0]),u(f[1])]:u(f),done:p}},[Symbol.iterator](){return this}}}}function ds(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function yl(e,t){const s={get(n){const o=this.__v_raw,l=q(o),r=q(n);e||(ae(n,r)&&pt(l,"get",n),pt(l,"get",r));const{has:a}=us(l),c=t?li:e?ri:mt;if(a.call(l,n))return c(o.get(n));if(a.call(l,r))return c(o.get(r));o!==l&&o.get(n)},get size(){const n=this.__v_raw;return!e&&pt(q(n),"iterate",Ee),Reflect.get(n,"size",n)},has(n){const o=this.__v_raw,l=q(o),r=q(n);return e||(ae(n,r)&&pt(l,"has",n),pt(l,"has",r)),n===r?o.has(n):o.has(n)||o.has(r)},forEach(n,o){const l=this,r=l.__v_raw,a=q(r),c=t?li:e?ri:mt;return!e&&pt(a,"iterate",Ee),r.forEach((u,f)=>n.call(o,c(u),c(f),l))}};return dt(s,e?{add:ds("add"),set:ds("set"),delete:ds("delete"),clear:ds("clear")}:{add(n){!t&&!Rt(n)&&!Se(n)&&(n=q(n));const o=q(this);return us(o).has.call(o,n)||(o.add(n),te(o,"add",n,n)),this},set(n,o){!t&&!Rt(o)&&!Se(o)&&(o=q(o));const l=q(this),{has:r,get:a}=us(l);let c=r.call(l,n);c||(n=q(n),c=r.call(l,n));const u=a.call(l,n);return l.set(n,o),c?ae(o,u)&&te(l,"set",n,o):te(l,"add",n,o),this},delete(n){const o=q(this),{has:l,get:r}=us(o);let a=l.call(o,n);a||(n=q(n),a=l.call(o,n)),r&&r.call(o,n);const c=o.delete(n);return a&&te(o,"delete",n,void 0),c},clear(){const n=q(this),o=n.size!==0,l=n.clear();return o&&te(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=_l(n,e,t)}),s}function Si(e,t){const s=yl(e,t);return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(X(s,n)&&n in i?s:i,n,o)}const wl={get:Si(!1,!1)},El={get:Si(!1,!0)},Tl={get:Si(!0,!1)},Kn=new WeakMap,qn=new WeakMap,Xn=new WeakMap,Sl=new WeakMap;function xl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cl(e){return e.__v_skip||!Object.isExtensible(e)?0:xl(Jo(e))}function ks(e){return Se(e)?e:xi(e,!1,gl,wl,Kn)}function Ol(e){return xi(e,!1,bl,El,qn)}function zn(e){return xi(e,!0,vl,Tl,Xn)}function xi(e,t,s,i,n){if(!nt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=n.get(e);if(o)return o;const l=Cl(e);if(l===0)return e;const r=new Proxy(e,l===2?i:s);return n.set(e,r),r}function Le(e){return Se(e)?Le(e.__v_raw):!!(e&&e.__v_isReactive)}function Se(e){return!!(e&&e.__v_isReadonly)}function Rt(e){return!!(e&&e.__v_isShallow)}function Ci(e){return e?!!e.__v_raw:!1}function q(e){const t=e&&e.__v_raw;return t?q(t):e}function Ml(e){return!X(e,"__v_skip")&&Object.isExtensible(e)&&Dn(e,"__v_skip",!0),e}const mt=e=>nt(e)?ks(e):e,ri=e=>nt(e)?zn(e):e;function vt(e){return e?e.__v_isRef===!0:!1}function Yn(e){return Jn(e,!1)}function Il(e){return Jn(e,!0)}function Jn(e,t){return vt(e)?e:new Al(e,t)}class Al{constructor(t,s){this.dep=new Ti,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:q(t),this._value=s?t:mt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||Rt(t)||Se(t);t=i?t:q(t),ae(t,s)&&(this._rawValue=t,this._value=i?t:mt(t),this.dep.trigger())}}function Ct(e){return vt(e)?e.value:e}const Dl={get:(e,t,s)=>t==="__v_raw"?e:Ct(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return vt(n)&&!vt(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Zn(e){return Le(e)?e:new Proxy(e,Dl)}class Ll{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ti(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ze-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Q!==this)return Pn(this,!0),!0}get value(){const t=this.dep.track();return Gn(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Nl(e,t,s=!1){let i,n;return G(e)?i=e:(i=e.get,n=e.set),new Ll(i,n,s)}const hs={},ys=new WeakMap;let ye;function Rl(e,t=!1,s=ye){if(s){let i=ys.get(s);i||ys.set(s,i=[]),i.push(e)}}function kl(e,t,s=J){const{immediate:i,deep:n,once:o,scheduler:l,augmentJob:r,call:a}=s,c=w=>n?w:Rt(w)||n===!1||n===0?oe(w,1):oe(w);let u,f,p,m,g=!1,v=!1;if(vt(e)?(f=()=>e.value,g=Rt(e)):Le(e)?(f=()=>c(e),g=!0):W(e)?(v=!0,g=e.some(w=>Le(w)||Rt(w)),f=()=>e.map(w=>{if(vt(w))return w.value;if(Le(w))return c(w);if(G(w))return a?a(w,2):w()})):G(e)?t?f=a?()=>a(e,2):e:f=()=>{if(p){pe();try{p()}finally{me()}}const w=ye;ye=u;try{return a?a(e,3,[m]):e(m)}finally{ye=w}}:f=zt,t&&n){const w=f,_=n===!0?1/0:n;f=()=>oe(w(),_)}const M=al(),T=()=>{u.stop(),M&&M.active&&vi(M.effects,u)};if(o&&t){const w=t;t=(..._)=>{w(..._),T()}}let I=v?new Array(e.length).fill(hs):hs;const R=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(t){const _=u.run();if(n||g||(v?_.some((y,F)=>ae(y,I[F])):ae(_,I))){p&&p();const y=ye;ye=u;try{const F=[_,I===hs?void 0:v&&I[0]===hs?[]:I,m];a?a(t,3,F):t(...F),I=_}finally{ye=y}}}else u.run()};return r&&r(R),u=new kn(f),u.scheduler=l?()=>l(R,!1):R,m=w=>Rl(w,!1,u),p=u.onStop=()=>{const w=ys.get(u);if(w){if(a)a(w,4);else for(const _ of w)_();ys.delete(u)}},t?i?R(!0):I=u.run():l?l(R.bind(null,!0),!0):u.run(),T.pause=u.pause.bind(u),T.resume=u.resume.bind(u),T.stop=T,T}function oe(e,t=1/0,s){if(t<=0||!nt(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,vt(e))oe(e.value,t,s);else if(W(e))for(let i=0;i<e.length;i++)oe(e[i],t,s);else if(Cn(e)||De(e))e.forEach(i=>{oe(i,t,s)});else if(In(e)){for(const i in e)oe(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&oe(e[i],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function is(e,t,s,i){try{return i?e(...i):e()}catch(n){$s(n,t,s)}}function Yt(e,t,s,i){if(G(e)){const n=is(e,t,s,i);return n&&On(n)&&n.catch(o=>{$s(o,t,s)}),n}if(W(e)){const n=[];for(let o=0;o<e.length;o++)n.push(Yt(e[o],t,s,i));return n}}function $s(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||J;if(t){let r=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const u=r.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,a,c)===!1)return}r=r.parent}if(o){pe(),is(o,null,10,[e,a,c]),me();return}}$l(e,s,n,i,l)}function $l(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const yt=[];let qt=-1;const Ne=[];let ie=null,Ie=0;const Qn=Promise.resolve();let ws=null;function Pl(e){const t=ws||Qn;return e?t.then(this?e.bind(this):e):t}function Hl(e){let t=qt+1,s=yt.length;for(;t<s;){const i=t+s>>>1,n=yt[i],o=ts(n);o<e||o===e&&n.flags&2?t=i+1:s=i}return t}function Oi(e){if(!(e.flags&1)){const t=ts(e),s=yt[yt.length-1];!s||!(e.flags&2)&&t>=ts(s)?yt.push(e):yt.splice(Hl(t),0,e),e.flags|=1,to()}}function to(){ws||(ws=Qn.then(so))}function Wl(e){W(e)?Ne.push(...e):ie&&e.id===-1?ie.splice(Ie+1,0,e):e.flags&1||(Ne.push(e),e.flags|=1),to()}function Xi(e,t,s=qt+1){for(;s<yt.length;s++){const i=yt[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;yt.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function eo(e){if(Ne.length){const t=[...new Set(Ne)].sort((s,i)=>ts(s)-ts(i));if(Ne.length=0,ie){ie.push(...t);return}for(ie=t,Ie=0;Ie<ie.length;Ie++){const s=ie[Ie];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ie=null,Ie=0}}const ts=e=>e.id==null?e.flags&2?-1:1/0:e.id;function so(e){try{for(qt=0;qt<yt.length;qt++){const t=yt[qt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),is(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;qt<yt.length;qt++){const t=yt[qt];t&&(t.flags&=-2)}qt=-1,yt.length=0,eo(),ws=null,(yt.length||Ne.length)&&so()}}let Wt=null,io=null;function Es(e){const t=Wt;return Wt=e,io=e&&e.type.__scopeId||null,t}function Gl(e,t=Wt,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&sn(-1);const o=Es(t);let l;try{l=e(...n)}finally{Es(o),i._d&&sn(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function be(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let l=0;l<n.length;l++){const r=n[l];o&&(r.oldValue=o[l].value);let a=r.dir[i];a&&(pe(),Yt(a,s,8,[e.el,r,e,t]),me())}}const Fl=Symbol("_vte"),Ul=e=>e.__isTeleport;function Mi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Mi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function no(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ns(e){const t=Do(),s=Il(null);if(t){const n=t.refs===J?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>s.value,set:o=>s.value=o})}return s}function Ts(e,t,s,i,n=!1){if(W(e)){e.forEach((g,v)=>Ts(g,t&&(W(t)?t[v]:t),s,i,n));return}if(Xe(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Ts(e,t,s,i.component.subTree);return}const o=i.shapeFlag&4?Li(i.component):i.el,l=n?null:o,{i:r,r:a}=e,c=t&&t.r,u=r.refs===J?r.refs={}:r.refs,f=r.setupState,p=q(f),m=f===J?()=>!1:g=>X(p,g);if(c!=null&&c!==a&&(ot(c)?(u[c]=null,m(c)&&(f[c]=null)):vt(c)&&(c.value=null)),G(a))is(a,r,12,[l,u]);else{const g=ot(a),v=vt(a);if(g||v){const M=()=>{if(e.f){const T=g?m(a)?f[a]:u[a]:a.value;n?W(T)&&vi(T,o):W(T)?T.includes(o)||T.push(o):g?(u[a]=[o],m(a)&&(f[a]=u[a])):(a.value=[o],e.k&&(u[e.k]=a.value))}else g?(u[a]=l,m(a)&&(f[a]=l)):v&&(a.value=l,e.k&&(u[e.k]=l))};l?(M.id=-1,Dt(M,s)):M()}}}Ls().requestIdleCallback;Ls().cancelIdleCallback;const Xe=e=>!!e.type.__asyncLoader,oo=e=>e.type.__isKeepAlive;function jl(e,t){lo(e,"a",t)}function Bl(e,t){lo(e,"da",t)}function lo(e,t,s=gt){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ps(t,i,s),s){let n=s.parent;for(;n&&n.parent;)oo(n.parent.vnode)&&Vl(i,t,s,n),n=n.parent}}function Vl(e,t,s,i){const n=Ps(t,e,i,!0);ro(()=>{vi(i[t],n)},s)}function Ps(e,t,s=gt,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...l)=>{pe();const r=ls(s),a=Yt(t,s,e,l);return r(),me(),a});return i?n.unshift(o):n.push(o),o}}const se=e=>(t,s=gt)=>{(!ss||e==="sp")&&Ps(e,(...i)=>t(...i),s)},Kl=se("bm"),Ft=se("m"),ql=se("bu"),Xl=se("u"),Jt=se("bum"),ro=se("um"),zl=se("sp"),Yl=se("rtg"),Jl=se("rtc");function Zl(e,t=gt){Ps("ec",e,t)}const Ql=Symbol.for("v-ndc");function le(e,t,s,i){let n;const o=s,l=W(e);if(l||ot(e)){const r=l&&Le(e);let a=!1;r&&(a=!Rt(e),e=Rs(e)),n=new Array(e.length);for(let c=0,u=e.length;c<u;c++)n[c]=t(a?mt(e[c]):e[c],c,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,o)}else if(nt(e))if(e[Symbol.iterator])n=Array.from(e,(r,a)=>t(r,a,void 0,o));else{const r=Object.keys(e);n=new Array(r.length);for(let a=0,c=r.length;a<c;a++){const u=r[a];n[a]=t(e[u],u,a,o)}}else n=[];return n}const ai=e=>e?Lo(e)?Li(e):ai(e.parent):null,ze=dt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ai(e.parent),$root:e=>ai(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ii(e),$forceUpdate:e=>e.f||(e.f=()=>{Oi(e.update)}),$nextTick:e=>e.n||(e.n=Pl.bind(e.proxy)),$watch:e=>wr.bind(e)}),Js=(e,t)=>e!==J&&!e.__isScriptSetup&&X(e,t),tr={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:l,type:r,appContext:a}=e;let c;if(t[0]!=="$"){const m=l[t];if(m!==void 0)switch(m){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(Js(i,t))return l[t]=1,i[t];if(n!==J&&X(n,t))return l[t]=2,n[t];if((c=e.propsOptions[0])&&X(c,t))return l[t]=3,o[t];if(s!==J&&X(s,t))return l[t]=4,s[t];ci&&(l[t]=0)}}const u=ze[t];let f,p;if(u)return t==="$attrs"&&pt(e.attrs,"get",""),u(e);if((f=r.__cssModules)&&(f=f[t]))return f;if(s!==J&&X(s,t))return l[t]=4,s[t];if(p=a.config.globalProperties,X(p,t))return p[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return Js(n,t)?(n[t]=s,!0):i!==J&&X(i,t)?(i[t]=s,!0):X(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o}},l){let r;return!!s[l]||e!==J&&X(e,l)||Js(t,l)||(r=o[0])&&X(r,l)||X(i,l)||X(ze,l)||X(n.config.globalProperties,l)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:X(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function zi(e){return W(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ci=!0;function er(e){const t=Ii(e),s=e.proxy,i=e.ctx;ci=!1,t.beforeCreate&&Yi(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:l,watch:r,provide:a,inject:c,created:u,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:M,beforeDestroy:T,beforeUnmount:I,destroyed:R,unmounted:w,render:_,renderTracked:y,renderTriggered:F,errorCaptured:V,serverPrefetch:et,expose:it,inheritAttrs:Et,components:ut,directives:bt,filters:rt}=t;if(c&&sr(c,i,null),l)for(const K in l){const z=l[K];G(z)&&(i[K]=z.bind(s))}if(n){const K=n.call(s,s);nt(K)&&(e.data=ks(K))}if(ci=!0,o)for(const K in o){const z=o[K],jt=G(z)?z.bind(s,s):G(z.get)?z.get.bind(s,s):zt,as=!G(z)&&G(z.set)?z.set.bind(s):zt,ve=Fr({get:jt,set:as});Object.defineProperty(i,K,{enumerable:!0,configurable:!0,get:()=>ve.value,set:Bt=>ve.value=Bt})}if(r)for(const K in r)ao(r[K],i,s,K);if(a){const K=G(a)?a.call(s):a;Reflect.ownKeys(K).forEach(z=>{ar(z,K[z])})}u&&Yi(u,e,"c");function st(K,z){W(z)?z.forEach(jt=>K(jt.bind(s))):z&&K(z.bind(s))}if(st(Kl,f),st(Ft,p),st(ql,m),st(Xl,g),st(jl,v),st(Bl,M),st(Zl,V),st(Jl,y),st(Yl,F),st(Jt,I),st(ro,w),st(zl,et),W(it))if(it.length){const K=e.exposed||(e.exposed={});it.forEach(z=>{Object.defineProperty(K,z,{get:()=>s[z],set:jt=>s[z]=jt})})}else e.exposed||(e.exposed={});_&&e.render===zt&&(e.render=_),Et!=null&&(e.inheritAttrs=Et),ut&&(e.components=ut),bt&&(e.directives=bt),et&&no(e)}function sr(e,t,s=zt){W(e)&&(e=ui(e));for(const i in e){const n=e[i];let o;nt(n)?"default"in n?o=kt(n.from||i,n.default,!0):o=kt(n.from||i):o=kt(n),vt(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[i]=o}}function Yi(e,t,s){Yt(W(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function ao(e,t,s,i){let n=i.includes(".")?To(s,i):()=>s[i];if(ot(e)){const o=t[e];G(o)&&Qs(n,o)}else if(G(e))Qs(n,e.bind(s));else if(nt(e))if(W(e))e.forEach(o=>ao(o,t,s,i));else{const o=G(e.handler)?e.handler.bind(s):t[e.handler];G(o)&&Qs(n,o,e)}}function Ii(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,r=o.get(t);let a;return r?a=r:!n.length&&!s&&!i?a=t:(a={},n.length&&n.forEach(c=>Ss(a,c,l,!0)),Ss(a,t,l)),nt(t)&&o.set(t,a),a}function Ss(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&Ss(e,o,s,!0),n&&n.forEach(l=>Ss(e,l,s,!0));for(const l in t)if(!(i&&l==="expose")){const r=ir[l]||s&&s[l];e[l]=r?r(e[l],t[l]):t[l]}return e}const ir={data:Ji,props:Zi,emits:Zi,methods:je,computed:je,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:je,directives:je,watch:or,provide:Ji,inject:nr};function Ji(e,t){return t?e?function(){return dt(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function nr(e,t){return je(ui(e),ui(t))}function ui(e){if(W(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function _t(e,t){return e?[...new Set([].concat(e,t))]:t}function je(e,t){return e?dt(Object.create(null),e,t):t}function Zi(e,t){return e?W(e)&&W(t)?[...new Set([...e,...t])]:dt(Object.create(null),zi(e),zi(t??{})):t}function or(e,t){if(!e)return t;if(!t)return e;const s=dt(Object.create(null),e);for(const i in t)s[i]=_t(e[i],t[i]);return s}function co(){return{app:null,config:{isNativeTag:zo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lr=0;function rr(e,t){return function(i,n=null){G(i)||(i=dt({},i)),n!=null&&!nt(n)&&(n=null);const o=co(),l=new WeakSet,r=[];let a=!1;const c=o.app={_uid:lr++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Ur,get config(){return o.config},set config(u){},use(u,...f){return l.has(u)||(u&&G(u.install)?(l.add(u),u.install(c,...f)):G(u)&&(l.add(u),u(c,...f))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,f){return f?(o.components[u]=f,c):o.components[u]},directive(u,f){return f?(o.directives[u]=f,c):o.directives[u]},mount(u,f,p){if(!a){const m=c._ceVNode||Ot(i,n);return m.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),f&&t?t(m,u):e(m,u,p),a=!0,c._container=u,u.__vue_app__=c,Li(m.component)}},onUnmount(u){r.push(u)},unmount(){a&&(Yt(r,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return o.provides[u]=f,c},runWithContext(u){const f=Re;Re=c;try{return u()}finally{Re=f}}};return c}}let Re=null;function ar(e,t){if(gt){let s=gt.provides;const i=gt.parent&&gt.parent.provides;i===s&&(s=gt.provides=Object.create(i)),s[e]=t}}function kt(e,t,s=!1){const i=gt||Wt;if(i||Re){const n=Re?Re._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&G(t)?t.call(i&&i.proxy):t}}const uo={},ho=()=>Object.create(uo),fo=e=>Object.getPrototypeOf(e)===uo;function cr(e,t,s,i=!1){const n={},o=ho();e.propsDefaults=Object.create(null),po(e,t,n,o);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=i?n:Ol(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function ur(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:l}}=e,r=q(n),[a]=e.propsOptions;let c=!1;if((i||l>0)&&!(l&16)){if(l&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let p=u[f];if(Hs(e.emitsOptions,p))continue;const m=t[p];if(a)if(X(o,p))m!==o[p]&&(o[p]=m,c=!0);else{const g=de(p);n[g]=di(a,r,g,m,e,!1)}else m!==o[p]&&(o[p]=m,c=!0)}}}else{po(e,t,n,o)&&(c=!0);let u;for(const f in r)(!t||!X(t,f)&&((u=Ce(f))===f||!X(t,u)))&&(a?s&&(s[f]!==void 0||s[u]!==void 0)&&(n[f]=di(a,r,f,void 0,e,!0)):delete n[f]);if(o!==r)for(const f in o)(!t||!X(t,f))&&(delete o[f],c=!0)}c&&te(e.attrs,"set","")}function po(e,t,s,i){const[n,o]=e.propsOptions;let l=!1,r;if(t)for(let a in t){if(Ve(a))continue;const c=t[a];let u;n&&X(n,u=de(a))?!o||!o.includes(u)?s[u]=c:(r||(r={}))[u]=c:Hs(e.emitsOptions,a)||(!(a in i)||c!==i[a])&&(i[a]=c,l=!0)}if(o){const a=q(s),c=r||J;for(let u=0;u<o.length;u++){const f=o[u];s[f]=di(n,a,f,c[f],e,!X(c,f))}}return l}function di(e,t,s,i,n,o){const l=e[s];if(l!=null){const r=X(l,"default");if(r&&i===void 0){const a=l.default;if(l.type!==Function&&!l.skipFactory&&G(a)){const{propsDefaults:c}=n;if(s in c)i=c[s];else{const u=ls(n);i=c[s]=a.call(null,t),u()}}else i=a;n.ce&&n.ce._setProp(s,i)}l[0]&&(o&&!r?i=!1:l[1]&&(i===""||i===Ce(s))&&(i=!0))}return i}const dr=new WeakMap;function mo(e,t,s=!1){const i=s?dr:t.propsCache,n=i.get(e);if(n)return n;const o=e.props,l={},r=[];let a=!1;if(!G(e)){const u=f=>{a=!0;const[p,m]=mo(f,t,!0);dt(l,p),m&&r.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!a)return nt(e)&&i.set(e,Ae),Ae;if(W(o))for(let u=0;u<o.length;u++){const f=de(o[u]);Qi(f)&&(l[f]=J)}else if(o)for(const u in o){const f=de(u);if(Qi(f)){const p=o[u],m=l[f]=W(p)||G(p)?{type:p}:dt({},p),g=m.type;let v=!1,M=!0;if(W(g))for(let T=0;T<g.length;++T){const I=g[T],R=G(I)&&I.name;if(R==="Boolean"){v=!0;break}else R==="String"&&(M=!1)}else v=G(g)&&g.name==="Boolean";m[0]=v,m[1]=M,(v||X(m,"default"))&&r.push(f)}}const c=[l,r];return nt(e)&&i.set(e,c),c}function Qi(e){return e[0]!=="$"&&!Ve(e)}const go=e=>e[0]==="_"||e==="$stable",Ai=e=>W(e)?e.map(Xt):[Xt(e)],hr=(e,t,s)=>{if(t._n)return t;const i=Gl((...n)=>Ai(t(...n)),s);return i._c=!1,i},vo=(e,t,s)=>{const i=e._ctx;for(const n in e){if(go(n))continue;const o=e[n];if(G(o))t[n]=hr(n,o,i);else if(o!=null){const l=Ai(o);t[n]=()=>l}}},bo=(e,t)=>{const s=Ai(t);e.slots.default=()=>s},_o=(e,t,s)=>{for(const i in t)(s||i!=="_")&&(e[i]=t[i])},fr=(e,t,s)=>{const i=e.slots=ho();if(e.vnode.shapeFlag&32){const n=t._;n?(_o(i,t,s),s&&Dn(i,"_",n,!0)):vo(t,i)}else t&&bo(e,t)},pr=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,l=J;if(i.shapeFlag&32){const r=t._;r?s&&r===1?o=!1:_o(n,t,s):(o=!t.$stable,vo(t,n)),l=t}else t&&(bo(e,t),l={default:1});if(o)for(const r in n)!go(r)&&l[r]==null&&delete n[r]},Dt=Mr;function mr(e){return gr(e)}function gr(e,t){const s=Ls();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:l,createText:r,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:p,setScopeId:m=zt,insertStaticContent:g}=e,v=(d,h,b,C=null,E=null,x=null,L=void 0,D=null,A=!!h.dynamicChildren)=>{if(d===h)return;d&&!Fe(d,h)&&(C=cs(d),Bt(d,E,x,!0),d=null),h.patchFlag===-2&&(A=!1,h.dynamicChildren=null);const{type:O,ref:P,shapeFlag:N}=h;switch(O){case Ws:M(d,h,b,C);break;case xe:T(d,h,b,C);break;case ms:d==null&&I(h,b,C,L);break;case lt:ut(d,h,b,C,E,x,L,D,A);break;default:N&1?_(d,h,b,C,E,x,L,D,A):N&6?bt(d,h,b,C,E,x,L,D,A):(N&64||N&128)&&O.process(d,h,b,C,E,x,L,D,A,He)}P!=null&&E&&Ts(P,d&&d.ref,x,h||d,!h)},M=(d,h,b,C)=>{if(d==null)i(h.el=r(h.children),b,C);else{const E=h.el=d.el;h.children!==d.children&&c(E,h.children)}},T=(d,h,b,C)=>{d==null?i(h.el=a(h.children||""),b,C):h.el=d.el},I=(d,h,b,C)=>{[d.el,d.anchor]=g(d.children,h,b,C,d.el,d.anchor)},R=({el:d,anchor:h},b,C)=>{let E;for(;d&&d!==h;)E=p(d),i(d,b,C),d=E;i(h,b,C)},w=({el:d,anchor:h})=>{let b;for(;d&&d!==h;)b=p(d),n(d),d=b;n(h)},_=(d,h,b,C,E,x,L,D,A)=>{h.type==="svg"?L="svg":h.type==="math"&&(L="mathml"),d==null?y(h,b,C,E,x,L,D,A):et(d,h,E,x,L,D,A)},y=(d,h,b,C,E,x,L,D)=>{let A,O;const{props:P,shapeFlag:N,transition:k,dirs:H}=d;if(A=d.el=l(d.type,x,P&&P.is,P),N&8?u(A,d.children):N&16&&V(d.children,A,null,C,E,Zs(d,x),L,D),H&&be(d,null,C,"created"),F(A,d,d.scopeId,L,C),P){for(const Z in P)Z!=="value"&&!Ve(Z)&&o(A,Z,null,P[Z],x,C);"value"in P&&o(A,"value",null,P.value,x),(O=P.onVnodeBeforeMount)&&Kt(O,C,d)}H&&be(d,null,C,"beforeMount");const j=vr(E,k);j&&k.beforeEnter(A),i(A,h,b),((O=P&&P.onVnodeMounted)||j||H)&&Dt(()=>{O&&Kt(O,C,d),j&&k.enter(A),H&&be(d,null,C,"mounted")},E)},F=(d,h,b,C,E)=>{if(b&&m(d,b),C)for(let x=0;x<C.length;x++)m(d,C[x]);if(E){let x=E.subTree;if(h===x||xo(x.type)&&(x.ssContent===h||x.ssFallback===h)){const L=E.vnode;F(d,L,L.scopeId,L.slotScopeIds,E.parent)}}},V=(d,h,b,C,E,x,L,D,A=0)=>{for(let O=A;O<d.length;O++){const P=d[O]=D?ne(d[O]):Xt(d[O]);v(null,P,h,b,C,E,x,L,D)}},et=(d,h,b,C,E,x,L)=>{const D=h.el=d.el;let{patchFlag:A,dynamicChildren:O,dirs:P}=h;A|=d.patchFlag&16;const N=d.props||J,k=h.props||J;let H;if(b&&_e(b,!1),(H=k.onVnodeBeforeUpdate)&&Kt(H,b,h,d),P&&be(h,d,b,"beforeUpdate"),b&&_e(b,!0),(N.innerHTML&&k.innerHTML==null||N.textContent&&k.textContent==null)&&u(D,""),O?it(d.dynamicChildren,O,D,b,C,Zs(h,E),x):L||z(d,h,D,null,b,C,Zs(h,E),x,!1),A>0){if(A&16)Et(D,N,k,b,E);else if(A&2&&N.class!==k.class&&o(D,"class",null,k.class,E),A&4&&o(D,"style",N.style,k.style,E),A&8){const j=h.dynamicProps;for(let Z=0;Z<j.length;Z++){const Y=j[Z],Mt=N[Y],ft=k[Y];(ft!==Mt||Y==="value")&&o(D,Y,Mt,ft,E,b)}}A&1&&d.children!==h.children&&u(D,h.children)}else!L&&O==null&&Et(D,N,k,b,E);((H=k.onVnodeUpdated)||P)&&Dt(()=>{H&&Kt(H,b,h,d),P&&be(h,d,b,"updated")},C)},it=(d,h,b,C,E,x,L)=>{for(let D=0;D<h.length;D++){const A=d[D],O=h[D],P=A.el&&(A.type===lt||!Fe(A,O)||A.shapeFlag&70)?f(A.el):b;v(A,O,P,null,C,E,x,L,!0)}},Et=(d,h,b,C,E)=>{if(h!==b){if(h!==J)for(const x in h)!Ve(x)&&!(x in b)&&o(d,x,h[x],null,E,C);for(const x in b){if(Ve(x))continue;const L=b[x],D=h[x];L!==D&&x!=="value"&&o(d,x,D,L,E,C)}"value"in b&&o(d,"value",h.value,b.value,E)}},ut=(d,h,b,C,E,x,L,D,A)=>{const O=h.el=d?d.el:r(""),P=h.anchor=d?d.anchor:r("");let{patchFlag:N,dynamicChildren:k,slotScopeIds:H}=h;H&&(D=D?D.concat(H):H),d==null?(i(O,b,C),i(P,b,C),V(h.children||[],b,P,E,x,L,D,A)):N>0&&N&64&&k&&d.dynamicChildren?(it(d.dynamicChildren,k,b,E,x,L,D),(h.key!=null||E&&h===E.subTree)&&yo(d,h,!0)):z(d,h,b,P,E,x,L,D,A)},bt=(d,h,b,C,E,x,L,D,A)=>{h.slotScopeIds=D,d==null?h.shapeFlag&512?E.ctx.activate(h,b,C,L,A):rt(h,b,C,E,x,L,A):ht(d,h,A)},rt=(d,h,b,C,E,x,L)=>{const D=d.component=kr(d,C,E);if(oo(d)&&(D.ctx.renderer=He),$r(D,!1,L),D.asyncDep){if(E&&E.registerDep(D,st,L),!d.el){const A=D.subTree=Ot(xe);T(null,A,h,b)}}else st(D,d,h,b,E,x,L)},ht=(d,h,b)=>{const C=h.component=d.component;if(Cr(d,h,b))if(C.asyncDep&&!C.asyncResolved){K(C,h,b);return}else C.next=h,C.update();else h.el=d.el,C.vnode=h},st=(d,h,b,C,E,x,L)=>{const D=()=>{if(d.isMounted){let{next:N,bu:k,u:H,parent:j,vnode:Z}=d;{const It=wo(d);if(It){N&&(N.el=Z.el,K(d,N,L)),It.asyncDep.then(()=>{d.isUnmounted||D()});return}}let Y=N,Mt;_e(d,!1),N?(N.el=Z.el,K(d,N,L)):N=Z,k&&Ks(k),(Mt=N.props&&N.props.onVnodeBeforeUpdate)&&Kt(Mt,j,N,Z),_e(d,!0);const ft=ti(d),Pt=d.subTree;d.subTree=ft,v(Pt,ft,f(Pt.el),cs(Pt),d,E,x),N.el=ft.el,Y===null&&Or(d,ft.el),H&&Dt(H,E),(Mt=N.props&&N.props.onVnodeUpdated)&&Dt(()=>Kt(Mt,j,N,Z),E)}else{let N;const{el:k,props:H}=h,{bm:j,m:Z,parent:Y,root:Mt,type:ft}=d,Pt=Xe(h);if(_e(d,!1),j&&Ks(j),!Pt&&(N=H&&H.onVnodeBeforeMount)&&Kt(N,Y,h),_e(d,!0),k&&Ui){const It=()=>{d.subTree=ti(d),Ui(k,d.subTree,d,E,null)};Pt&&ft.__asyncHydrate?ft.__asyncHydrate(k,d,It):It()}else{Mt.ce&&Mt.ce._injectChildStyle(ft);const It=d.subTree=ti(d);v(null,It,b,C,d,E,x),h.el=It.el}if(Z&&Dt(Z,E),!Pt&&(N=H&&H.onVnodeMounted)){const It=h;Dt(()=>Kt(N,Y,It),E)}(h.shapeFlag&256||Y&&Xe(Y.vnode)&&Y.vnode.shapeFlag&256)&&d.a&&Dt(d.a,E),d.isMounted=!0,h=b=C=null}};d.scope.on();const A=d.effect=new kn(D);d.scope.off();const O=d.update=A.run.bind(A),P=d.job=A.runIfDirty.bind(A);P.i=d,P.id=d.uid,A.scheduler=()=>Oi(P),_e(d,!0),O()},K=(d,h,b)=>{h.component=d;const C=d.vnode.props;d.vnode=h,d.next=null,ur(d,h.props,C,b),pr(d,h.children,b),pe(),Xi(d),me()},z=(d,h,b,C,E,x,L,D,A=!1)=>{const O=d&&d.children,P=d?d.shapeFlag:0,N=h.children,{patchFlag:k,shapeFlag:H}=h;if(k>0){if(k&128){as(O,N,b,C,E,x,L,D,A);return}else if(k&256){jt(O,N,b,C,E,x,L,D,A);return}}H&8?(P&16&&Pe(O,E,x),N!==O&&u(b,N)):P&16?H&16?as(O,N,b,C,E,x,L,D,A):Pe(O,E,x,!0):(P&8&&u(b,""),H&16&&V(N,b,C,E,x,L,D,A))},jt=(d,h,b,C,E,x,L,D,A)=>{d=d||Ae,h=h||Ae;const O=d.length,P=h.length,N=Math.min(O,P);let k;for(k=0;k<N;k++){const H=h[k]=A?ne(h[k]):Xt(h[k]);v(d[k],H,b,null,E,x,L,D,A)}O>P?Pe(d,E,x,!0,!1,N):V(h,b,C,E,x,L,D,A,N)},as=(d,h,b,C,E,x,L,D,A)=>{let O=0;const P=h.length;let N=d.length-1,k=P-1;for(;O<=N&&O<=k;){const H=d[O],j=h[O]=A?ne(h[O]):Xt(h[O]);if(Fe(H,j))v(H,j,b,null,E,x,L,D,A);else break;O++}for(;O<=N&&O<=k;){const H=d[N],j=h[k]=A?ne(h[k]):Xt(h[k]);if(Fe(H,j))v(H,j,b,null,E,x,L,D,A);else break;N--,k--}if(O>N){if(O<=k){const H=k+1,j=H<P?h[H].el:C;for(;O<=k;)v(null,h[O]=A?ne(h[O]):Xt(h[O]),b,j,E,x,L,D,A),O++}}else if(O>k)for(;O<=N;)Bt(d[O],E,x,!0),O++;else{const H=O,j=O,Z=new Map;for(O=j;O<=k;O++){const At=h[O]=A?ne(h[O]):Xt(h[O]);At.key!=null&&Z.set(At.key,O)}let Y,Mt=0;const ft=k-j+1;let Pt=!1,It=0;const We=new Array(ft);for(O=0;O<ft;O++)We[O]=0;for(O=H;O<=N;O++){const At=d[O];if(Mt>=ft){Bt(At,E,x,!0);continue}let Vt;if(At.key!=null)Vt=Z.get(At.key);else for(Y=j;Y<=k;Y++)if(We[Y-j]===0&&Fe(At,h[Y])){Vt=Y;break}Vt===void 0?Bt(At,E,x,!0):(We[Vt-j]=O+1,Vt>=It?It=Vt:Pt=!0,v(At,h[Vt],b,null,E,x,L,D,A),Mt++)}const ji=Pt?br(We):Ae;for(Y=ji.length-1,O=ft-1;O>=0;O--){const At=j+O,Vt=h[At],Bi=At+1<P?h[At+1].el:C;We[O]===0?v(null,Vt,b,Bi,E,x,L,D,A):Pt&&(Y<0||O!==ji[Y]?ve(Vt,b,Bi,2):Y--)}}},ve=(d,h,b,C,E=null)=>{const{el:x,type:L,transition:D,children:A,shapeFlag:O}=d;if(O&6){ve(d.component.subTree,h,b,C);return}if(O&128){d.suspense.move(h,b,C);return}if(O&64){L.move(d,h,b,He);return}if(L===lt){i(x,h,b);for(let N=0;N<A.length;N++)ve(A[N],h,b,C);i(d.anchor,h,b);return}if(L===ms){R(d,h,b);return}if(C!==2&&O&1&&D)if(C===0)D.beforeEnter(x),i(x,h,b),Dt(()=>D.enter(x),E);else{const{leave:N,delayLeave:k,afterLeave:H}=D,j=()=>i(x,h,b),Z=()=>{N(x,()=>{j(),H&&H()})};k?k(x,j,Z):Z()}else i(x,h,b)},Bt=(d,h,b,C=!1,E=!1)=>{const{type:x,props:L,ref:D,children:A,dynamicChildren:O,shapeFlag:P,patchFlag:N,dirs:k,cacheIndex:H}=d;if(N===-2&&(E=!1),D!=null&&Ts(D,null,b,d,!0),H!=null&&(h.renderCache[H]=void 0),P&256){h.ctx.deactivate(d);return}const j=P&1&&k,Z=!Xe(d);let Y;if(Z&&(Y=L&&L.onVnodeBeforeUnmount)&&Kt(Y,h,d),P&6)Vo(d.component,b,C);else{if(P&128){d.suspense.unmount(b,C);return}j&&be(d,null,h,"beforeUnmount"),P&64?d.type.remove(d,h,b,He,C):O&&!O.hasOnce&&(x!==lt||N>0&&N&64)?Pe(O,h,b,!1,!0):(x===lt&&N&384||!E&&P&16)&&Pe(A,h,b),C&&Wi(d)}(Z&&(Y=L&&L.onVnodeUnmounted)||j)&&Dt(()=>{Y&&Kt(Y,h,d),j&&be(d,null,h,"unmounted")},b)},Wi=d=>{const{type:h,el:b,anchor:C,transition:E}=d;if(h===lt){Bo(b,C);return}if(h===ms){w(d);return}const x=()=>{n(b),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(d.shapeFlag&1&&E&&!E.persisted){const{leave:L,delayLeave:D}=E,A=()=>L(b,x);D?D(d.el,x,A):A()}else x()},Bo=(d,h)=>{let b;for(;d!==h;)b=p(d),n(d),d=b;n(h)},Vo=(d,h,b)=>{const{bum:C,scope:E,job:x,subTree:L,um:D,m:A,a:O}=d;tn(A),tn(O),C&&Ks(C),E.stop(),x&&(x.flags|=8,Bt(L,d,h,b)),D&&Dt(D,h),Dt(()=>{d.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},Pe=(d,h,b,C=!1,E=!1,x=0)=>{for(let L=x;L<d.length;L++)Bt(d[L],h,b,C,E)},cs=d=>{if(d.shapeFlag&6)return cs(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const h=p(d.anchor||d.el),b=h&&h[Fl];return b?p(b):h};let Bs=!1;const Gi=(d,h,b)=>{d==null?h._vnode&&Bt(h._vnode,null,null,!0):v(h._vnode||null,d,h,null,null,null,b),h._vnode=d,Bs||(Bs=!0,Xi(),eo(),Bs=!1)},He={p:v,um:Bt,m:ve,r:Wi,mt:rt,mc:V,pc:z,pbc:it,n:cs,o:e};let Fi,Ui;return{render:Gi,hydrate:Fi,createApp:rr(Gi,Fi)}}function Zs({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function _e({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vr(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function yo(e,t,s=!1){const i=e.children,n=t.children;if(W(i)&&W(n))for(let o=0;o<i.length;o++){const l=i[o];let r=n[o];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=n[o]=ne(n[o]),r.el=l.el),!s&&r.patchFlag!==-2&&yo(l,r)),r.type===Ws&&(r.el=l.el)}}function br(e){const t=e.slice(),s=[0];let i,n,o,l,r;const a=e.length;for(i=0;i<a;i++){const c=e[i];if(c!==0){if(n=s[s.length-1],e[n]<c){t[i]=n,s.push(i);continue}for(o=0,l=s.length-1;o<l;)r=o+l>>1,e[s[r]]<c?o=r+1:l=r;c<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,l=s[o-1];o-- >0;)s[o]=l,l=t[l];return s}function wo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:wo(t)}function tn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _r=Symbol.for("v-scx"),yr=()=>kt(_r);function Qs(e,t,s){return Eo(e,t,s)}function Eo(e,t,s=J){const{immediate:i,deep:n,flush:o,once:l}=s,r=dt({},s),a=t&&i||!t&&o!=="post";let c;if(ss){if(o==="sync"){const m=yr();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!a){const m=()=>{};return m.stop=zt,m.resume=zt,m.pause=zt,m}}const u=gt;r.call=(m,g,v)=>Yt(m,u,g,v);let f=!1;o==="post"?r.scheduler=m=>{Dt(m,u&&u.suspense)}:o!=="sync"&&(f=!0,r.scheduler=(m,g)=>{g?m():Oi(m)}),r.augmentJob=m=>{t&&(m.flags|=4),f&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const p=kl(e,t,r);return ss&&(c?c.push(p):a&&p()),p}function wr(e,t,s){const i=this.proxy,n=ot(e)?e.includes(".")?To(i,e):()=>i[e]:e.bind(i,i);let o;G(t)?o=t:(o=t.handler,s=t);const l=ls(this),r=Eo(n,o.bind(i),s);return l(),r}function To(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const Er=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${de(t)}Modifiers`]||e[`${Ce(t)}Modifiers`];function Tr(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||J;let n=s;const o=t.startsWith("update:"),l=o&&Er(i,t.slice(7));l&&(l.trim&&(n=s.map(u=>ot(u)?u.trim():u)),l.number&&(n=s.map(tl)));let r,a=i[r=Vs(t)]||i[r=Vs(de(t))];!a&&o&&(a=i[r=Vs(Ce(t))]),a&&Yt(a,e,6,n);const c=i[r+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,Yt(c,e,6,n)}}function So(e,t,s=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let l={},r=!1;if(!G(e)){const a=c=>{const u=So(c,t,!0);u&&(r=!0,dt(l,u))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!r?(nt(e)&&i.set(e,null),null):(W(o)?o.forEach(a=>l[a]=null):dt(l,o),nt(e)&&i.set(e,l),l)}function Hs(e,t){return!e||!Is(t)?!1:(t=t.slice(2).replace(/Once$/,""),X(e,t[0].toLowerCase()+t.slice(1))||X(e,Ce(t))||X(e,t))}function ti(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:l,attrs:r,emit:a,render:c,renderCache:u,props:f,data:p,setupState:m,ctx:g,inheritAttrs:v}=e,M=Es(e);let T,I;try{if(s.shapeFlag&4){const w=n||i,_=w;T=Xt(c.call(_,w,u,f,m,p,g)),I=r}else{const w=t;T=Xt(w.length>1?w(f,{attrs:r,slots:l,emit:a}):w(f,null)),I=t.props?r:Sr(r)}}catch(w){Ye.length=0,$s(w,e,1),T=Ot(xe)}let R=T;if(I&&v!==!1){const w=Object.keys(I),{shapeFlag:_}=R;w.length&&_&7&&(o&&w.some(gi)&&(I=xr(I,o)),R=$e(R,I,!1,!0))}return s.dirs&&(R=$e(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(s.dirs):s.dirs),s.transition&&Mi(R,s.transition),T=R,Es(M),T}const Sr=e=>{let t;for(const s in e)(s==="class"||s==="style"||Is(s))&&((t||(t={}))[s]=e[s]);return t},xr=(e,t)=>{const s={};for(const i in e)(!gi(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function Cr(e,t,s){const{props:i,children:n,component:o}=e,{props:l,children:r,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return i?en(i,l,c):!!l;if(a&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const p=u[f];if(l[p]!==i[p]&&!Hs(c,p))return!0}}}else return(n||r)&&(!r||!r.$stable)?!0:i===l?!1:i?l?en(i,l,c):!0:!!l;return!1}function en(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!Hs(s,o))return!0}return!1}function Or({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const xo=e=>e.__isSuspense;function Mr(e,t){t&&t.pendingBranch?W(e)?t.effects.push(...e):t.effects.push(e):Wl(e)}const lt=Symbol.for("v-fgt"),Ws=Symbol.for("v-txt"),xe=Symbol.for("v-cmt"),ms=Symbol.for("v-stc"),Ye=[];let Nt=null;function U(e=!1){Ye.push(Nt=e?null:[])}function Ir(){Ye.pop(),Nt=Ye[Ye.length-1]||null}let es=1;function sn(e,t=!1){es+=e,e<0&&Nt&&t&&(Nt.hasOnce=!0)}function Co(e){return e.dynamicChildren=es>0?Nt||Ae:null,Ir(),es>0&&Nt&&Nt.push(e),e}function B(e,t,s,i,n,o){return Co(S(e,t,s,i,n,o,!0))}function Oo(e,t,s,i,n){return Co(Ot(e,t,s,i,n,!0))}function Mo(e){return e?e.__v_isVNode===!0:!1}function Fe(e,t){return e.type===t.type&&e.key===t.key}const Io=({key:e})=>e??null,gs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ot(e)||vt(e)||G(e)?{i:Wt,r:e,k:t,f:!!s}:e:null);function S(e,t=null,s=null,i=0,n=null,o=e===lt?0:1,l=!1,r=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Io(t),ref:t&&gs(t),scopeId:io,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Wt};return r?(Di(a,s),o&128&&e.normalize(a)):s&&(a.shapeFlag|=ot(s)?8:16),es>0&&!l&&Nt&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Nt.push(a),a}const Ot=Ar;function Ar(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Ql)&&(e=xe),Mo(e)){const r=$e(e,t,!0);return s&&Di(r,s),es>0&&!o&&Nt&&(r.shapeFlag&6?Nt[Nt.indexOf(e)]=r:Nt.push(r)),r.patchFlag=-2,r}if(Gr(e)&&(e=e.__vccOpts),t){t=Dr(t);let{class:r,style:a}=t;r&&!ot(r)&&(t.class=Ns(r)),nt(a)&&(Ci(a)&&!W(a)&&(a=dt({},a)),t.style=_i(a))}const l=ot(e)?1:xo(e)?128:Ul(e)?64:nt(e)?4:G(e)?2:0;return S(e,t,s,i,n,l,o,!0)}function Dr(e){return e?Ci(e)||fo(e)?dt({},e):e:null}function $e(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:l,children:r,transition:a}=e,c=t?Lr(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Io(c),ref:t&&t.ref?s&&o?W(o)?o.concat(gs(t)):[o,gs(t)]:gs(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==lt?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$e(e.ssContent),ssFallback:e.ssFallback&&$e(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&i&&Mi(u,a.clone(u)),u}function os(e=" ",t=0){return Ot(Ws,null,e,t)}function xs(e,t){const s=Ot(ms,null,e);return s.staticCount=t,s}function Ao(e="",t=!1){return t?(U(),Oo(xe,null,e)):Ot(xe,null,e)}function Xt(e){return e==null||typeof e=="boolean"?Ot(xe):W(e)?Ot(lt,null,e.slice()):Mo(e)?ne(e):Ot(Ws,null,String(e))}function ne(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$e(e)}function Di(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(W(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Di(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!fo(t)?t._ctx=Wt:n===3&&Wt&&(Wt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:Wt},s=32):(t=String(t),i&64?(s=16,t=[os(t)]):s=8);e.children=t,e.shapeFlag|=s}function Lr(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Ns([t.class,i.class]));else if(n==="style")t.style=_i([t.style,i.style]);else if(Is(n)){const o=t[n],l=i[n];l&&o!==l&&!(W(o)&&o.includes(l))&&(t[n]=o?[].concat(o,l):l)}else n!==""&&(t[n]=i[n])}return t}function Kt(e,t,s,i=null){Yt(e,t,7,[s,i])}const Nr=co();let Rr=0;function kr(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||Nr,o={uid:Rr++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mo(i,n),emitsOptions:So(i,n),emit:null,emitted:null,propsDefaults:J,inheritAttrs:i.inheritAttrs,ctx:J,data:J,props:J,attrs:J,slots:J,refs:J,setupState:J,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Tr.bind(null,o),e.ce&&e.ce(o),o}let gt=null;const Do=()=>gt||Wt;let Cs,hi;{const e=Ls(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(l=>l(o)):n[0](o)}};Cs=t("__VUE_INSTANCE_SETTERS__",s=>gt=s),hi=t("__VUE_SSR_SETTERS__",s=>ss=s)}const ls=e=>{const t=gt;return Cs(e),e.scope.on(),()=>{e.scope.off(),Cs(t)}},nn=()=>{gt&&gt.scope.off(),Cs(null)};function Lo(e){return e.vnode.shapeFlag&4}let ss=!1;function $r(e,t=!1,s=!1){t&&hi(t);const{props:i,children:n}=e.vnode,o=Lo(e);cr(e,i,o,t),fr(e,n,s);const l=o?Pr(e,t):void 0;return t&&hi(!1),l}function Pr(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,tr);const{setup:i}=s;if(i){pe();const n=e.setupContext=i.length>1?Wr(e):null,o=ls(e),l=is(i,e,0,[e.props,n]),r=On(l);if(me(),o(),(r||e.sp)&&!Xe(e)&&no(e),r){if(l.then(nn,nn),t)return l.then(a=>{on(e,a,t)}).catch(a=>{$s(a,e,0)});e.asyncDep=l}else on(e,l,t)}else No(e,t)}function on(e,t,s){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:nt(t)&&(e.setupState=Zn(t)),No(e,s)}let ln;function No(e,t,s){const i=e.type;if(!e.render){if(!t&&ln&&!i.render){const n=i.template||Ii(e).template;if(n){const{isCustomElement:o,compilerOptions:l}=e.appContext.config,{delimiters:r,compilerOptions:a}=i,c=dt(dt({isCustomElement:o,delimiters:r},l),a);i.render=ln(n,c)}}e.render=i.render||zt}{const n=ls(e);pe();try{er(e)}finally{me(),n()}}}const Hr={get(e,t){return pt(e,"get",""),e[t]}};function Wr(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Hr),slots:e.slots,emit:e.emit,expose:t}}function Li(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Zn(Ml(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ze)return ze[s](e)},has(t,s){return s in t||s in ze}})):e.proxy}function Gr(e){return G(e)&&"__vccOpts"in e}const Fr=(e,t)=>Nl(e,t,ss),Ur="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fi;const rn=typeof window<"u"&&window.trustedTypes;if(rn)try{fi=rn.createPolicy("vue",{createHTML:e=>e})}catch{}const Ro=fi?e=>fi.createHTML(e):e=>e,jr="http://www.w3.org/2000/svg",Br="http://www.w3.org/1998/Math/MathML",Qt=typeof document<"u"?document:null,an=Qt&&Qt.createElement("template"),Vr={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Qt.createElementNS(jr,e):t==="mathml"?Qt.createElementNS(Br,e):s?Qt.createElement(e,{is:s}):Qt.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Qt.createTextNode(e),createComment:e=>Qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const l=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{an.innerHTML=Ro(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const r=an.content;if(i==="svg"||i==="mathml"){const a=r.firstChild;for(;a.firstChild;)r.appendChild(a.firstChild);r.removeChild(a)}t.insertBefore(r,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Kr=Symbol("_vtc");function qr(e,t,s){const i=e[Kr];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const cn=Symbol("_vod"),Xr=Symbol("_vsh"),zr=Symbol(""),Yr=/(^|;)\s*display\s*:/;function Jr(e,t,s){const i=e.style,n=ot(s);let o=!1;if(s&&!n){if(t)if(ot(t))for(const l of t.split(";")){const r=l.slice(0,l.indexOf(":")).trim();s[r]==null&&vs(i,r,"")}else for(const l in t)s[l]==null&&vs(i,l,"");for(const l in s)l==="display"&&(o=!0),vs(i,l,s[l])}else if(n){if(t!==s){const l=i[zr];l&&(s+=";"+l),i.cssText=s,o=Yr.test(s)}}else t&&e.removeAttribute("style");cn in e&&(e[cn]=o?i.display:"",e[Xr]&&(i.display="none"))}const un=/\s*!important$/;function vs(e,t,s){if(W(s))s.forEach(i=>vs(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=Zr(e,t);un.test(s)?e.setProperty(Ce(i),s.replace(un,""),"important"):e[i]=s}}const dn=["Webkit","Moz","ms"],ei={};function Zr(e,t){const s=ei[t];if(s)return s;let i=de(t);if(i!=="filter"&&i in e)return ei[t]=i;i=An(i);for(let n=0;n<dn.length;n++){const o=dn[n]+i;if(o in e)return ei[t]=o}return t}const hn="http://www.w3.org/1999/xlink";function fn(e,t,s,i,n,o=ll(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(hn,t.slice(6,t.length)):e.setAttributeNS(hn,t,s):s==null||o&&!Ln(s)?e.removeAttribute(t):e.setAttribute(t,o?"":fe(s)?String(s):s)}function pn(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Ro(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const r=o==="OPTION"?e.getAttribute("value")||"":e.value,a=s==null?e.type==="checkbox"?"on":"":String(s);(r!==a||!("_value"in e))&&(e.value=a),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=Ln(s):s==null&&r==="string"?(s="",l=!0):r==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(n||t)}function Qr(e,t,s,i){e.addEventListener(t,s,i)}function ta(e,t,s,i){e.removeEventListener(t,s,i)}const mn=Symbol("_vei");function ea(e,t,s,i,n=null){const o=e[mn]||(e[mn]={}),l=o[t];if(i&&l)l.value=i;else{const[r,a]=sa(t);if(i){const c=o[t]=oa(i,n);Qr(e,r,c,a)}else l&&(ta(e,r,l,a),o[t]=void 0)}}const gn=/(?:Once|Passive|Capture)$/;function sa(e){let t;if(gn.test(e)){t={};let i;for(;i=e.match(gn);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ce(e.slice(2)),t]}let si=0;const ia=Promise.resolve(),na=()=>si||(ia.then(()=>si=0),si=Date.now());function oa(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;Yt(la(i,s.value),t,5,[i])};return s.value=e,s.attached=na(),s}function la(e,t){if(W(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const vn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ra=(e,t,s,i,n,o)=>{const l=n==="svg";t==="class"?qr(e,i,l):t==="style"?Jr(e,s,i):Is(t)?gi(t)||ea(e,t,s,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):aa(e,t,i,l))?(pn(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&fn(e,t,i,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ot(i))?pn(e,de(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),fn(e,t,i,l))};function aa(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&vn(t)&&G(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return vn(t)&&ot(s)?!1:t in e}const ca=["ctrl","shift","alt","meta"],ua={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ca.some(s=>e[`${s}Key`]&&!t.includes(s))},bn=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...o)=>{for(let l=0;l<t.length;l++){const r=ua[t[l]];if(r&&r(n,t))return}return e(n,...o)})},da=dt({patchProp:ra},Vr);let _n;function ha(){return _n||(_n=mr(da))}const pi=(...e)=>{const t=ha().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=pa(i);if(!n)return;const o=t._component;!G(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,fa(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function fa(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pa(e){return ot(e)?document.querySelector(e):e}class ma{constructor(){this.events={}}subscribe(t,s){this.events[t]||(this.events[t]=[]),this.events[t].push(s)}publish(t,s){!this.events[t]||this.events[t].length<1||this.events[t].forEach(i=>i(s))}unsubscribe(t,s){this.events[t]&&(this.events[t]=this.events[t].filter(i=>i!==s))}once(t,s,i){let n=o=>{i&&!i(o)||(s(o),this.unsubscribe(t,n))};this.subscribe(t,n)}onceMulti(t,s,i){let n=o=>{i&&!i(o)||(s(o),t.forEach(l=>this.unsubscribe(l,n)))};t.forEach(o=>this.subscribe(o,n))}async wait(t,s){return new Promise((i,n)=>{this.once(t,i,s)})}}const at=e=>new Promise(t=>setTimeout(t,e)),Ni=e=>{Ft(()=>{console.log("onMounted"),window.addEventListener("popstate",e,!1)}),Jt(()=>{console.log("onBeforeUnmount"),window.removeEventListener("popstate",e,!1)})},ga=async e=>{e.mount("#app"),setTimeout(()=>{_a()},250)},va=async e=>{let t=new Promise(s=>{e.onUnmount(s)});e.unmount(),await t},ko=250;let fs=null,Os=$("#app")[0],Ri=null;Os.style.opacity=0;Os.style.transition="opacity "+ko+"ms";const ct=async(e,t)=>{fs&&(Os.style.opacity=0,await at(ko),await va(fs)),Ri=t,fs=pi(e),await ga(fs),Os.style.opacity=1},ba=e=>{Ri=e},Gs=()=>Ri;class ki{constructor(t){this.timer=Date.now(),this.delay=t,this.pending,this.callback}run(t){if(this.callback=t,this.pending)return;let i=Date.now()-this.timer,n=this.delay-i;n<=0?(this.callback(),this.timer=Date.now()):this.pending=setTimeout(()=>{this.callback(),this.timer=Date.now(),this.pending=void 0},n)}}function _a(){var e=document.querySelector('meta[name="viewport"]');e&&(e.content="initial-scale=0.1",e.content="width=500")}function ya(e,t){let s=e.getBoundingClientRect(),i=t.getBoundingClientRect(),n=Math.max(0,Math.min(s.right,i.right)-Math.max(s.left,i.left)),o=Math.max(0,Math.min(s.bottom,i.bottom)-Math.max(s.top,i.top)),l=n*o,r=s.width*s.height,a=i.width*i.height;return l/Math.min(r,a)}class wa{constructor(){this.startTime=0,this.elapsedTimeAtPause=0,this.paused=!1}start(){this.paused?(this.startTime=Date.now()-this.elapsedTimeAtPause,this.paused=!1):this.startTime=this.startTime||Date.now()}pause(){this.paused||(this.elapsedTimeAtPause=Date.now()-this.startTime,this.paused=!0)}set(t){this.paused?this.elapsedTimeAtPause=t*1e3:this.startTime=Date.now()-t*1e3}reset(){this.startTime=0,this.elapsedTimeAtPause=0,this.paused=!1}getElapsedTime(){return this.paused?this.elapsedTimeAtPause/1e3:(Date.now()-this.startTime)/1e3}getElapsedTimeStr(t){let s=t||this.getElapsedTime(),i=Math.floor(s),n=Math.floor(i/60);return i=i%60,`${n}:${i.toString().padStart(2,"0")}`}}const ce=(e,t,s,i,n)=>i+(n-i)*(e-t)/(s-t),Fs="/logic-gate-game-vue/logowhite.png",Ea="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-play'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M10.804%208%205%204.633v6.734zm.792-.696a.802.802%200%200%201%200%201.392l-6.363%203.692C4.713%2012.69%204%2012.345%204%2011.692V4.308c0-.653.713-.998%201.233-.696z'%20fill='%23ffffff'/%3e%3c/svg%3e",$o="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-star-fill'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M3.612%2015.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173%206.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927%200l2.184%204.327%204.898.696c.441.062.612.636.282.95l-3.522%203.356.83%204.73c.078.443-.36.79-.746.592L8%2013.187l-4.389%202.256z'%20fill='%23ffffff'/%3e%3c/svg%3e",Po="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-star'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M2.866%2014.85c-.078.444.36.791.746.593l4.39-2.256%204.389%202.256c.386.198.824-.149.746-.592l-.83-4.73%203.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513%200%200%200-.927%200L5.354%205.12l-4.898.696c-.441.062-.612.636-.283.95l3.523%203.356-.83%204.73zm4.905-2.767-3.686%201.894.694-3.957a.56.56%200%200%200-.163-.505L1.71%206.745l4.052-.576a.53.53%200%200%200%20.393-.288L8%202.223l1.847%203.658a.53.53%200%200%200%20.393.288l4.052.575-2.906%202.77a.56.56%200%200%200-.163.506l.694%203.957-3.686-1.894a.5.5%200%200%200-.461%200z'%20fill='%23ffffff'/%3e%3c/svg%3e";class wt{}Tt(wt,"ON",!0),Tt(wt,"OFF",!1);class yn{constructor(t,s,i){this.isSource=i,this.state=wt.OFF,this.parent=s,this.index=-1,this.relatedTerminals=[],this.world=t,t.terminals.push(this),this.world.eventManager.publish("TERMINAL_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("TERMINAL_DOM_SET",this)}setState(t){this.state!==t&&(this.state=t,this.world.eventManager.publish("TERMINAL_STATE_CHANGED",this))}getState(){return this.state}toggle(){this.setState(!this.state)}remove(){this.parent=null,this.relatedTerminals=null,this.domElement&&(this.domElement.remove(),this.domElement=null),this.world.terminals=this.world.terminals.filter(t=>t!==this),this.world.eventManager.publish("TERMINAL_REMOVED",this),this.world=null}}class Ta{constructor(t,s,i){if(s===i){console.error("Cannot connect terminal to itself");return}if(s.isSource&&i.isSource){console.error("Wire cannot connect two sources");return}if(!s.isSource&&!i.isSource){console.error("Wire cannot connect two sinks");return}this.world=t,t.wires.push(this),s.isSource?(this.terminalSrc=s,this.terminalSink=i):(this.terminalSrc=i,this.terminalSink=s),this.state=wt.OFF,this.terminalSrc.relatedTerminals.push(this.terminalSink),this.terminalSink.relatedTerminals.push(this.terminalSrc),this.world.eventManager.publish("WIRE_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("WIRE_DOM_SET",this)}update(){this.state!==this.terminalSrc.state&&(this.world.eventManager.publish("WIRE_STATE_CHANGED",this),this.state=this.terminalSrc.state),this.terminalSink.setState(this.state)}remove(){this.terminalSrc.relatedTerminals=this.terminalSrc.relatedTerminals.filter(t=>t!==this.terminalSink),this.terminalSink.relatedTerminals=this.terminalSink.relatedTerminals.filter(t=>t!==this.terminalSrc),this.terminalSink.setState(wt.OFF),this.world.wires=this.world.wires.filter(t=>t!==this),this.world.eventManager.publish("WIRE_REMOVED",this),this.world=null,this.terminalSrc=null,this.terminalSink=null,this.domElement&&(this.domElement.remove(),this.domElement=null),delete this}getState(){return this.state?wt.ON:wt.OFF}setState(t){t!==this.state&&(this.state=t,this.world.eventManager.publish("WIRE_STATE_CHANGED",this))}}class Sa{constructor(t,s){this.world=t,t.gates.push(this),this.funcSpec=s,this.inputTerminals=[],this.outputTerminals=[];for(let i=0;i<s.inputCount;i++)this.inputTerminals.push(new yn(t,this,!1));for(let i=0;i<s.outputCount;i++)this.outputTerminals.push(new yn(t,this,!0));this.terminals().forEach((i,n)=>{i.index=n}),this.world.eventManager.publish("GATE_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("GATE_DOM_SET",this)}update(){if(this.inputTerminals.length===0||this.outputTerminals.length===0)return;let t=this.inputTerminals.map(i=>i.state),s=this.funcSpec.func(...t);s!==void 0&&(s instanceof Array?s.forEach((i,n)=>{this.outputTerminals[n].setState(i)}):this.outputTerminals[0].setState(s))}terminals(){return this.inputTerminals.concat(this.outputTerminals)}getTerminalIndex(t){return this.terminals().indexOf(t)}setTerminalStateByIndex(t,s){this.terminals()[t].state=s}getState(){return this.terminals().map(t=>t.state?wt.ON:wt.OFF)}setState(t){t.forEach((s,i)=>{this.terminals()[i].setState(s?wt.ON:wt.OFF)})}getTerminalStateByIndex(t){return this.terminals()[t].state}unlinkAll(){this.terminals().forEach(t=>{this.world.getWiresByTerminal(t).forEach(s=>s.remove())})}remove(){this.terminals().some(t=>t===this.world.previousTerminal)&&(this.world.previousTerminal=null),this.unlinkAll(),this.world.inputs=this.world.inputs.filter(t=>t!==this),this.world.outputs=this.world.outputs.filter(t=>t!==this),this.world.gates=this.world.gates.filter(t=>t!==this),this.world.eventManager.publish("GATE_REMOVED",this),this.world=null,this.inputTerminals.forEach(t=>t.remove()),this.outputTerminals.forEach(t=>t.remove()),this.domElement&&(this.domElement.remove(),this.domElement=null),delete this}isFundamental(){return Te.isSpecFundamental(this.funcSpec)}in(t){return this.inputTerminals[t]}out(t){return this.outputTerminals[t]}}class $t{constructor(t,s,i,n){this.name=t,this.func=s,this.inputCount=i,this.outputCount=n}}class ke{constructor(t){this.eventManager=t===void 0?new ma:t,this.terminals=[],this.wires=[],this.gates=[],this.inputs=[],this.outputs=[],this.previousState="",this.stableCount=0,this.instableCount=0,this.tickCount=0,this.eventManager.publish("WORLD_CREATED",this)}get numGate(){return this.nonIOGates.length}get nonIOGates(){return this.gates.filter(t=>!this.inputs.includes(t)&&!this.outputs.includes(t))}get in(){return this.inputs}get out(){return this.outputs}setDomElement(t){this.domElement=t,this.eventManager.publish("WORLD_DOM_SET",this)}setParent(t){this.parent=t,this.eventManager.publish("WORLD_PARENT_SET",this)}setInputsState(t){t&&(t=t.map(s=>s?wt.ON:wt.OFF),this.inputs.forEach((s,i)=>{s.out(0).setState(t[i])}))}async evaluate(t,s){if(t&&this.setInputsState(t),s)for(this.notifyInstability();!this.isStable();)this.tick();else await this.waitStable();let i=this.outputs.map(n=>n.in(0).state);return this.eventManager.publish("WORLD_RESULT",{inputs:t,results:i}),i}evaluateSync(t){for(this.setInputsState(t),this.notifyInstability();!this.isStable();)this.tick();let s=this.outputs.map(i=>i.in(0).state);return this.eventManager.publish("WORLD_RESULT",{inputs:t,results:s}),s}notifyInstability(){this.instableCount++,this.stableCount=0}getStateSignature(){let t="";return this.terminals.forEach(s=>{t+=s.state?"1":"0"}),t}checkFinished(){let t=this.getStateSignature();t===this.previousState?(this.stableCount++,this.instableCount=0):(this.stableCount=0,this.instableCount++,this.previousState=t),this.stableCount===3&&this.eventManager.publish("WORLD_STABLE",this),this.instableCount===1&&this.eventManager.publish("WORLD_INSTABLE",this)}isStable(){return this.stableCount>3}async waitStable(){return this.notifyInstability(),new Promise((t,s)=>{this.eventManager.subscribe("WORLD_STABLE",()=>{t()})})}enableAutoSleep(){this.autoSleep=!0,this.sleepSince=Date.now()}tick(){if(this.autoSleep){let t=Date.now(),s=t-this.sleepSince;if(this.stableCount>10){if(s<100)return;this.sleepSince=t}}this.gates.forEach(t=>t.update()),this.wires.forEach(t=>t.update()),this.checkFinished(),this.tickCount++,this.eventManager.publish("WORLD_TICK",this)}makeConnection(t){let s=!1;if(!this.previousTerminal)this.previousTerminal=t,this.eventManager.publish("WORLD_TERMINAL_SELECTED",{from:this.previousTerminal,world:this});else{let i=this.getWiresBetween(this.previousTerminal,t);if(i.length>0)i.forEach(n=>n.remove()),this.eventManager.publish("WORLD_TERMINAL_DISCONNECTED",{from:this.previousTerminal,to:t,world:this});else{let n=t.isSource?this.previousTerminal:t;this.getWiresByTerminal(n).length==0&&(s=new Ta(this,this.previousTerminal,t),this.eventManager.publish("WORLD_TERMINAL_CONNECTED",{from:this.previousTerminal,to:t,world:this}))}this.previousTerminal=null}return s}clearSelection(){this.previousTerminal=null}createLogicGate(t){return new Sa(this,t)}addInputGate(t){this.inputs.push(t),this.eventManager.publish("GATE_INPUT_ADDED",t)}removeInputGate(t){this.inputs=this.inputs.filter(s=>s!==t),this.eventManager.publish("GATE_INPUT_REMOVED",t)}addOutputGate(t){this.outputs.push(t),this.eventManager.publish("GATE_OUTPUT_ADDED",t)}removeOutputGate(t){this.outputs=this.outputs.filter(s=>s!==t),this.eventManager.publish("GATE_OUTPUT_REMOVED",t)}getWiresByTerminal(t){return this.wires.filter(s=>s.terminalSrc===t||s.terminalSink===t)}getWiresBetween(t,s){return this.wires.filter(i=>i.terminalSrc===t&&i.terminalSink===s||i.terminalSrc===s&&i.terminalSink===t)}export(){return{inputs:this.inputs,outputs:this.outputs,gates:this.gates,wires:this.wires}}clearNonIO(){this.wires.forEach(t=>t.remove()),this.nonIOGates.forEach(t=>t.remove())}clear(){this.gates.forEach(t=>t.remove()),this.wires.forEach(t=>t.remove()),this.terminals.forEach(t=>t.remove()),this.inputs=[],this.outputs=[]}remove(){this.clear(),this.domElement=null,this.eventManager=null,this.parent=null,delete this}}let xa=new $t("NOT",e=>!e,1,1),Ca=new $t("AND",(e,t)=>e&&t,2,1),Oa=new $t("NAND",(e,t)=>!(e&&t),2,1),Ma=new $t("OR",(e,t)=>e||t,2,1),Ia=new $t("NOR",(e,t)=>!(e||t),2,1),Aa=new $t("XOR",(e,t)=>(e||t)&&!(e&&t),2,1),Da=new $t("XNOR",(e,t)=>!((e||t)&&!(e&&t)),2,1),La=new $t("UNKNOWN",(e,t)=>{},2,1),Na=new $t("UNKNOWN",e=>{},1,1),Ho=new $t("IN",()=>{},0,1),Wo=new $t("OUT",()=>{},1,0);const St=class St{static isSpecFundamental(t){return Object.values(St).some(i=>{var n;return((n=i==null?void 0:i.functionSpec)==null?void 0:n.name)===(t==null?void 0:t.name)})}};Tt(St,"AND",{name:"AND",functionSpec:Ca}),Tt(St,"OR",{name:"OR",functionSpec:Ma}),Tt(St,"NOT",{name:"NOT",functionSpec:xa}),Tt(St,"NAND",{name:"NAND",functionSpec:Oa}),Tt(St,"NOR",{name:"NOR",functionSpec:Ia}),Tt(St,"XOR",{name:"XOR",functionSpec:Aa}),Tt(St,"XNOR",{name:"XNOR",functionSpec:Da}),Tt(St,"IN",{name:"IN",functionSpec:Ho}),Tt(St,"OUT",{name:"OUT",functionSpec:Wo}),Tt(St,"UNKNOWN",{name:"UNKNOWN",functionSpec:La}),Tt(St,"UNKNOWN1",{name:"UNKNOWN1",functionSpec:Na});let Te=St;console.log("logicgate_back.js loaded");let Ra=`
<div id="logic-gate-templates" class="">
  <h3>Logic Gates Preview</h3>
  <div class="logic-gate-div-relative logic-gate logic-and-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-and.png" alt="AND Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
    <div class="logic-gate-terminal"></div>
    <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
    <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-or-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-or.png" alt="OR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-not-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-not.png" alt="NOT Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-xor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-xor.png" alt="XOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-unknown-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-unknown.png" alt="UNKNOWN Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-unknown1-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-unknown.png" alt="UNKNOWN Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-nand-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-nand.png" alt="NAND Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-nor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-nor.png" alt="NOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-xnor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-xnor.png" alt="XNOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-in-template">
    <span class="logic-gate-label">IN</span>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-out-template">
    <span class="logic-gate-label">OUT</span>
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-world-template">
    <span class="logic-gate-label">USER</span>
    <div class="logic-gate-input-terminal logic-gate-terminal-container"></div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container"></div>
    <div class="logic-gate-body"></div>
  </div>
</div>
`;var Je=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function n(l,r){if(!i[l]){i[l]={};for(var a=0;a<l.length;a++)i[l][l.charAt(a)]=a}return i[l][r]}var o={compressToBase64:function(l){if(l==null)return"";var r=o._compress(l,6,function(a){return t.charAt(a)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:o._decompress(l.length,32,function(r){return n(t,l.charAt(r))})},compressToUTF16:function(l){return l==null?"":o._compress(l,15,function(r){return e(r+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:o._decompress(l.length,16384,function(r){return l.charCodeAt(r)-32})},compressToUint8Array:function(l){for(var r=o.compress(l),a=new Uint8Array(2*r.length),c=0,u=r.length;c<u;c++){var f=r.charCodeAt(c);a[2*c]=f>>>8,a[2*c+1]=f%256}return a},decompressFromUint8Array:function(l){if(l==null)return o.decompress(l);for(var r=new Array(l.length/2),a=0,c=r.length;a<c;a++)r[a]=256*l[2*a]+l[2*a+1];var u=[];return r.forEach(function(f){u.push(e(f))}),o.decompress(u.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":o._compress(l,6,function(r){return s.charAt(r)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),o._decompress(l.length,32,function(r){return n(s,l.charAt(r))}))},compress:function(l){return o._compress(l,16,function(r){return e(r)})},_compress:function(l,r,a){if(l==null)return"";var c,u,f,p={},m={},g="",v="",M="",T=2,I=3,R=2,w=[],_=0,y=0;for(f=0;f<l.length;f+=1)if(g=l.charAt(f),Object.prototype.hasOwnProperty.call(p,g)||(p[g]=I++,m[g]=!0),v=M+g,Object.prototype.hasOwnProperty.call(p,v))M=v;else{if(Object.prototype.hasOwnProperty.call(m,M)){if(M.charCodeAt(0)<256){for(c=0;c<R;c++)_<<=1,y==r-1?(y=0,w.push(a(_)),_=0):y++;for(u=M.charCodeAt(0),c=0;c<8;c++)_=_<<1|1&u,y==r-1?(y=0,w.push(a(_)),_=0):y++,u>>=1}else{for(u=1,c=0;c<R;c++)_=_<<1|u,y==r-1?(y=0,w.push(a(_)),_=0):y++,u=0;for(u=M.charCodeAt(0),c=0;c<16;c++)_=_<<1|1&u,y==r-1?(y=0,w.push(a(_)),_=0):y++,u>>=1}--T==0&&(T=Math.pow(2,R),R++),delete m[M]}else for(u=p[M],c=0;c<R;c++)_=_<<1|1&u,y==r-1?(y=0,w.push(a(_)),_=0):y++,u>>=1;--T==0&&(T=Math.pow(2,R),R++),p[v]=I++,M=String(g)}if(M!==""){if(Object.prototype.hasOwnProperty.call(m,M)){if(M.charCodeAt(0)<256){for(c=0;c<R;c++)_<<=1,y==r-1?(y=0,w.push(a(_)),_=0):y++;for(u=M.charCodeAt(0),c=0;c<8;c++)_=_<<1|1&u,y==r-1?(y=0,w.push(a(_)),_=0):y++,u>>=1}else{for(u=1,c=0;c<R;c++)_=_<<1|u,y==r-1?(y=0,w.push(a(_)),_=0):y++,u=0;for(u=M.charCodeAt(0),c=0;c<16;c++)_=_<<1|1&u,y==r-1?(y=0,w.push(a(_)),_=0):y++,u>>=1}--T==0&&(T=Math.pow(2,R),R++),delete m[M]}else for(u=p[M],c=0;c<R;c++)_=_<<1|1&u,y==r-1?(y=0,w.push(a(_)),_=0):y++,u>>=1;--T==0&&(T=Math.pow(2,R),R++)}for(u=2,c=0;c<R;c++)_=_<<1|1&u,y==r-1?(y=0,w.push(a(_)),_=0):y++,u>>=1;for(;;){if(_<<=1,y==r-1){w.push(a(_));break}y++}return w.join("")},decompress:function(l){return l==null?"":l==""?null:o._decompress(l.length,32768,function(r){return l.charCodeAt(r)})},_decompress:function(l,r,a){var c,u,f,p,m,g,v,M=[],T=4,I=4,R=3,w="",_=[],y={val:a(0),position:r,index:1};for(c=0;c<3;c+=1)M[c]=c;for(f=0,m=Math.pow(2,2),g=1;g!=m;)p=y.val&y.position,y.position>>=1,y.position==0&&(y.position=r,y.val=a(y.index++)),f|=(p>0?1:0)*g,g<<=1;switch(f){case 0:for(f=0,m=Math.pow(2,8),g=1;g!=m;)p=y.val&y.position,y.position>>=1,y.position==0&&(y.position=r,y.val=a(y.index++)),f|=(p>0?1:0)*g,g<<=1;v=e(f);break;case 1:for(f=0,m=Math.pow(2,16),g=1;g!=m;)p=y.val&y.position,y.position>>=1,y.position==0&&(y.position=r,y.val=a(y.index++)),f|=(p>0?1:0)*g,g<<=1;v=e(f);break;case 2:return""}for(M[3]=v,u=v,_.push(v);;){if(y.index>l)return"";for(f=0,m=Math.pow(2,R),g=1;g!=m;)p=y.val&y.position,y.position>>=1,y.position==0&&(y.position=r,y.val=a(y.index++)),f|=(p>0?1:0)*g,g<<=1;switch(v=f){case 0:for(f=0,m=Math.pow(2,8),g=1;g!=m;)p=y.val&y.position,y.position>>=1,y.position==0&&(y.position=r,y.val=a(y.index++)),f|=(p>0?1:0)*g,g<<=1;M[I++]=e(f),v=I-1,T--;break;case 1:for(f=0,m=Math.pow(2,16),g=1;g!=m;)p=y.val&y.position,y.position>>=1,y.position==0&&(y.position=r,y.val=a(y.index++)),f|=(p>0?1:0)*g,g<<=1;M[I++]=e(f),v=I-1,T--;break;case 2:return _.join("")}if(T==0&&(T=Math.pow(2,R),R++),M[v])w=M[v];else{if(v!==I)return null;w=u+u.charAt(0)}_.push(w),M[I++]=u+w.charAt(0),u=w,--T==0&&(T=Math.pow(2,R),R++)}}};return o}();typeof define=="function"&&define.amd?define(function(){return Je}):typeof _s<"u"&&_s!=null?_s.exports=Je:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Je});const ka=()=>{let e=document.createElement("div");e.id="logic-gate-default-template",e.style.display="none",document.body.appendChild(e),e.innerHTML=Ra};ka();const we=(e,t)=>{let s={top:0,left:0};return!e||(s.top+=$(e).offset().top,s.left+=$(e).offset().left,!t)||(s.top-=$(t).offset().top,s.left-=$(t).offset().left),s};function Go(e,t){let s=e.getBoundingClientRect(),i=t.getBoundingClientRect();return s.top>=i.top&&s.left>=i.left&&s.bottom<=i.bottom&&s.right<=i.right}let bs=0;const $a=(e,t,s)=>{let i=0;const n=o=>{if(o.preventDefault(),o.stopPropagation(),o.type.includes("touch")&&(bs=3),o.type.includes("mouse")&&bs){bs--;return}let l=Date.now();l-i<100||(i=l,t(o))};["mousedown","touchstart"].forEach(o=>{e.addEventListener(o,n,s)})};class re{constructor(t,s,i,n){n=n===void 0?!0:n,t.setDomElement(s),t.setParent(this),this.world=t,this.domElement=s,this.eventManager=this.world.eventManager,this.loadTemplate(i||"logic-gate-templates"),$(s).addClass("logic-gate-div"),this.canvas=document.createElement("canvas"),this.domElement.appendChild(this.canvas),this.updateCanvas(!0),this.clearCanvas(),this.drawGrid();let o=new ki(100);this.onResize=()=>{o.run(()=>{this.updateCanvas(),this.visualTick()})},window.addEventListener("resize",this.onResize),this.mousePos={x:0,y:0},this.onMouseMove=l=>{let r=this.domElement.getBoundingClientRect();this.mousePos={x:l.clientX-r.left,y:l.clientY-r.top}},this.domElement.addEventListener("mousemove",this.onMouseMove,!0),this.canvas.addEventListener("contextmenu",l=>{console.log(JSON.stringify(this.export()))}),this.slowVisualTick=setInterval(()=>{this.visualTick()},100),this.eventManager.subscribe("TERMINAL_STATE_CHANGED",l=>{l.state===wt.ON?$(l.domElement).addClass("logic-gate-terminal-on"):$(l.domElement).removeClass("logic-gate-terminal-on")}),n&&this.createEditModeButton(),this.scaleX=1,this.scaleY=1,this.scaleTrackerInterval=setInterval(()=>{let l=this.canvas.getBoundingClientRect(),r=this.canvas.width/l.width,a=this.canvas.height/l.height;this.scaleX=r,this.scaleY=a},1e3/15),this.domElement.addEventListener("dragover",l=>{let r=this.domElement.getBoundingClientRect();this.mousePos={x:l.clientX-r.left,y:l.clientY-r.top}})}createEditModeButton(){let t=document.createElement("div");t.classList.add("logic-gate-edit-mode-button"),t.innerHTML="Edit Mode: Wiring",this.domElement.appendChild(t),this.moveMode=!1,t.addEventListener("click",()=>{this.moveMode=!this.moveMode,this.moveMode?(t.innerHTML="Edit Mode: Moving",$(this.domElement).addClass("logic-gate-move-mode"),this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING")):(t.innerHTML="Edit Mode: Wiring",$(this.domElement).removeClass("logic-gate-move-mode"),this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","WIRING"))})}showingModeSelector(){return!matchMedia("(pointer:fine)").matches}updateCanvas(t){if(!t){let s=this.domElement.clientWidth/this.canvas.width,i=this.domElement.clientHeight/this.canvas.height;(s!==1||i!==1)&&this.world.gates.forEach(n=>{let o=parseInt(n.domElement.style.left)*s,l=parseInt(n.domElement.style.top)*i;n.domElement.style.left=o+"px",n.domElement.style.top=l+"px"})}this.canvas.width=this.domElement.clientWidth,this.canvas.height=this.domElement.clientHeight,this.canvas.style.width=this.domElement.clientWidth+"px",this.canvas.style.height=this.domElement.clientHeight+"px",$(this.canvas).addClass("logic-gate-canvas"),this.ctx=this.canvas.getContext("2d"),this.arrangeIOGates()}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawGrid(){let t=this.ctx;t.strokeStyle="rgba(0, 0, 0, 0.1)",t.lineWidth=1,t.beginPath();let s=0;for(;s<this.canvas.width;)t.moveTo(s,0),t.lineTo(s,this.canvas.height),s+=20;let i=0;for(;i<this.canvas.height;)t.moveTo(0,i),t.lineTo(this.canvas.width,i),i+=20;t.stroke()}drawWires(){let t=this.ctx,s=this.world.terminals.map(i=>i);if(this.world.wires.forEach(i=>{let n=i.terminalSrc,o=i.terminalSink;s=s.filter(T=>T!==n&&T!==o);let l=$(n.domElement),r=$(o.domElement),a=we(n.domElement,this.domElement),c=we(o.domElement,this.domElement);a.top+=l.height()/2/this.scaleY,a.left+=l.width()/2/this.scaleX,c.top+=r.height()/2/this.scaleY,c.left+=r.width()/2/this.scaleX;let u=(a.left+c.left)/2;(a.top+c.top)/2;let f=Math.abs(a.left-c.left);t.beginPath(),t.strokeStyle=i.state===wt.ON?"white":"#0096d2",t.lineWidth=2/this.scaleX;const p={"self-connecting":()=>{let T=50/this.scaleY,I=30/this.scaleX,R;c.top>a.top?R=a.top-T:R=a.top+T,t.moveTo(a.left,a.top),t.lineTo(a.left+I,a.top),t.lineTo(a.left+I,R),t.lineTo(c.left-I,R),t.lineTo(c.left-I,c.top),t.lineTo(c.left,c.top)},"src-right-of-sink":()=>{let T=30/this.scaleY,I=30/this.scaleX;t.moveTo(a.left,a.top),t.lineTo(a.left+I,a.top),a.top<c.top?(t.lineTo(a.left+I,a.top+T),t.lineTo(c.left-I,c.top-T),t.lineTo(c.left-I,c.top),t.lineTo(c.left,c.top)):(t.lineTo(a.left+I,a.top-T),t.lineTo(c.left-I,c.top+T),t.lineTo(c.left-I,c.top),t.lineTo(c.left,c.top))},"default-grid":()=>{t.moveTo(a.left,a.top),t.lineTo(u,a.top),t.lineTo(u,c.top),t.lineTo(c.left,c.top)},"default-steep":()=>{t.moveTo(a.left,a.top),t.lineTo(a.left+f*.3,a.top),t.lineTo(c.left-f*.3,c.top),t.lineTo(c.left,c.top)},default:()=>{t.moveTo(a.left,a.top),t.lineTo(c.left,c.top)}};let m=c.left-a.left,g=Math.abs(a.top-c.top);m*=this.scaleX,g*=this.scaleY;let v=a.left>c.left;if(n.parent===o.parent||v&&g<70)p["self-connecting"]();else if(m<50&&g>70)p["src-right-of-sink"]();else{let T;m==0?T=999:T=Math.abs(g/m),T>.5,p["default-steep"]()}t.stroke()}),!bs&&this.world.previousTerminal){let i=this.world.previousTerminal,n=we(i.domElement,this.domElement),o=$(i.domElement);n.top+=o.height()/2,n.left+=o.width()/2,t.beginPath(),t.strokeStyle="red",t.moveTo(n.left,n.top),t.lineTo(this.mousePos.x,this.mousePos.y),t.stroke()}s.forEach(i=>{let n=we(i.domElement,this.domElement),o=$(i.domElement);n.top+=o.height()/2/this.scaleY,n.left+=o.width()/2/this.scaleX,t.beginPath(),t.strokeStyle=i.state?"white":"#0096d2",t.lineWidth=3/this.scaleX,t.moveTo(n.left,n.top);let l=15/this.scaleX;i.isSource?t.lineTo(n.left+l,n.top):t.lineTo(n.left-l,n.top),t.stroke()})}drawIndicators(){let t=this.indicatorSize||10,s=this.ctx;s.fillStyle=this.world.isStable()?"#4f4":"#f44",s.fillRect(0,t,t,t),s.fillStyle=this.world.tickCount%2===0?"#fff":"#ccc",s.fillRect(t,0,t,t)}createGateElement(t,s,i,n,o,l){i=i||100,n=n||100,o=o===void 0?!0:o,l=l===void 0?!0:l;let r=t.cloneNode(!0);$(r).removeClass("logic-gate-div-relative"),$(r).addClass("logic-gate-div-absolute"),r.style.left=`${i}px`,r.style.top=`${n}px`,this.domElement.appendChild(r);let a=this.world.createLogicGate(s);a.setDomElement(r),a._removeable=l,a._draggable=o;function c(){a.domElement.style.transition="all 0.1s",a.domElement.style.left=i+"px",a.domElement.style.top=n+"px",setTimeout(()=>{a.domElement.style.transition=""},500)}o&&($(r).draggable({handle:".logic-gate-body",distance:15,start:()=>{this.eventManager.publish("CANVAS_GATE_MOVE_START",a)},stop:()=>{this.eventManager.publish("CANVAS_GATE_MOVE_END",a);let g=Go(a.domElement,this.domElement),v=a._removeable;g||(v?a.remove():c()),a.funcSpec.name;let M=this.world.gates;M=M.filter(I=>I._removeable&&I!==a),M=M.filter(I=>I.funcSpec.inputCount===a.funcSpec.inputCount),M=M.filter(I=>I.funcSpec.outputCount===a.funcSpec.outputCount);let T=M.map(I=>({gate:I,intersectionRatio:ya(I.domElement,a.domElement)}));if(T=T.filter(I=>I.intersectionRatio>.5),T.length>0){let I=T[0].gate;this.replaceGate(I,a)}}}),$(r).find(".logic-gate-body").addClass("logic-gate-body-active")),l&&a.domElement.addEventListener("contextmenu",g=>{a._removeable&&(this.eventManager.publish("CANVAS_GATE_REMOVED",a),g.preventDefault(),a.remove())});let u=$(r).find(".logic-gate-input-terminal")[0],f=$(r).find(".logic-gate-output-terminal")[0],p=$(u).children(),m=$(f).children();if(p.length!==s.inputCount)throw new Error("Input count does not match");if(m.length!==s.outputCount)throw new Error("Output count does not match");return a.setLabel=g=>{let v=a.domElement,M=$(v).find(".logic-gate-label")[0];M.innerText=g},a.getLabel=()=>{let g=a.domElement;return $(g).find(".logic-gate-label")[0].innerText},a.inputTerminals.forEach((g,v)=>{g.setDomElement(p[v])}),a.outputTerminals.forEach((g,v)=>{g.setDomElement(m[v])}),a.terminals().forEach(g=>{g.domElement.addEventListener("click",v=>{v.stopPropagation(),this.world.makeConnection(g),this.showConnectableTerminals()}),g.domElement.draggable=!0,g.domElement.addEventListener("dragstart",v=>{v.dataTransfer.dropEffect="link",v.dataTransfer.setData("text","terminal"),this.world.clearSelection(),this.world.makeConnection(g),this.showConnectableTerminals()}),g.domElement.addEventListener("dragend",v=>{this.world.clearSelection(),this.showConnectableTerminals()}),g.domElement.addEventListener("dragover",v=>{this.mousePos={x:v.clientX,y:v.clientY},v.preventDefault()}),g.domElement.addEventListener("drop",v=>{v.dataTransfer.getData("text")==="terminal"&&(this.world.makeConnection(g),this.world.clearSelection(),this.showConnectableTerminals())})}),this.eventManager.publish("CANVAS_GATE_CREATED",a),a}replaceGate(t,s){let i=t.terminals().map(n=>this.world.getWiresByTerminal(n).map(o=>n.isSource?o.terminalSink:o.terminalSrc));s.domElement.style.left=t.domElement.style.left,s.domElement.style.top=t.domElement.style.top,t.remove(),this.world.clearSelection(),i.forEach((n,o)=>{n.forEach(l=>{this.world.makeConnection(l),this.world.makeConnection(s.terminals()[o])})}),this.eventManager.publish("CANVAS_GATE_REPLACED",{oldGate:t,newGate:s})}showConnectableTerminals(){let t=this.world.previousTerminal,s=t==null?void 0:t.isSource;if(t){if(t.domElement.classList.add("logic-gate-terminal-selected"),t.relatedTerminals.forEach(i=>{$(i.domElement).addClass("logic-gate-terminal-removeable")}),!s&&t.relatedTerminals.length>0)return;this.world.terminals.forEach(i=>{s!==i.isSource&&$(i.domElement).addClass("logic-gate-terminal-connectable")}),this.world.wires.forEach(i=>{$(i.terminalSink.domElement).removeClass("logic-gate-terminal-connectable")})}else this.world.terminals.forEach(i=>{let n=$(i.domElement);n.removeClass("logic-gate-terminal-connectable"),n.removeClass("logic-gate-terminal-removeable"),n.removeClass("logic-gate-terminal-selected")})}createInput(t){t=t||this.templates.IN;let s=this.createGateElement(t,Ho,0,100,!1,!1);this.world.addInputGate(s);let i=$(s.domElement).find(".logic-gate-body")[0];return $a(i,()=>{s.out(0).toggle()}),this.arrangeIOGates(),s}createOutput(t){t=t||this.templates.OUT;let s=this.createGateElement(t,Wo,500,100,!1,!1);return this.world.addOutputGate(s),this.arrangeIOGates(),s}removeInput(){this.world.inputs.pop().remove(),this.arrangeIOGates()}removeOutput(){this.world.outputs.pop().remove(),this.arrangeIOGates()}arrangeIOGates(){let t=this.world.inputs,s=this.world.outputs;{let i=this.canvas.height/(t.length+1),n=i-25;t.forEach(o=>{o.domElement.style.left="0px",o.domElement.style.right="",o.domElement.style.top=`${n}px`,n+=i})}{let i=this.canvas.height/(s.length+1),n=i-25;s.forEach(o=>{o.domElement.style.right="0px",o.domElement.style.left="",o.domElement.style.top=`${n}px`,n+=i})}}connect(t,s){return this.world.clearSelection(),this.world.makeConnection(t),this.world.makeConnection(s)}linkWorld(t,s,i){let n=this.templates.WORLD.cloneNode(!0),o=$(n).find(".logic-gate-input-terminal")[0],l=$(n).find(".logic-gate-output-terminal")[0],r=document.createElement("div");r.classList.add("logic-gate-terminal"),t.inputs.forEach(m=>{o.appendChild(r.cloneNode(!0))}),t.outputs.forEach(m=>{l.appendChild(r.cloneNode(!0))});let c=(Math.max(t.inputs.length,t.outputs.length)-3)*15;if(c>0){let m=$(n).height();$(n).height(m+c)}r.remove(),r=null;let u=new $t("WORLD",()=>{},t.inputs.length,t.outputs.length),f=this.createGateElement(n,u,s,i,!0,!1);f._linkedWorld=t;let p=()=>{t.inputs.forEach((m,g)=>{m.outputTerminals[0].setState(f.inputTerminals[g].state)}),t.outputs.forEach((m,g)=>{f.outputTerminals[g].setState(m.inputTerminals[0].state)}),t.tick(),t.isStable()||this.world.notifyInstability()};return u.func=p,f.domElement.addEventListener("contextmenu",m=>{m.preventDefault(),f._linkedWorld.parent.remove(),f.remove()}),o=null,l=null,f}worldTick(){this.world.tick()}visualTick(){this.clearCanvas(),this.drawGrid(),this.drawIndicators(),this.ctx.scale(this.scaleX,this.scaleY),this.drawWires(),this.ctx.setTransform(1,0,0,1,0,0)}startVisualTick(){clearInterval(this.slowVisualTick),this.visualTickRunning=!0;const t=()=>{this.visualTickRunning&&(this.visualTick(),requestAnimationFrame(t))};requestAnimationFrame(t)}stopVisualTick(){this.slowVisualTick=setInterval(()=>{},100),this.visualTickRunning=!1}startWorldTick(t){t=t||60,this.worldTickInterval&&clearInterval(this.worldTickInterval),this.worldTickInterval=setInterval(()=>{this.worldTick()},1e3/t)}stopWorldTick(){clearInterval(this.worldTickInterval)}loadTemplate(t){let s=$(`#${t}`)[0],i={NOT:"logic-not-template",AND:"logic-and-template",NAND:"logic-nand-template",OR:"logic-or-template",NOR:"logic-nor-template",XOR:"logic-xor-template",XNOR:"logic-xnor-template",UNKNOWN:"logic-unknown-template",UNKNOWN1:"logic-unknown1-template",IN:"logic-in-template",OUT:"logic-out-template",WORLD:"logic-world-template"},n={};for(const[o,l]of Object.entries(i))n[o]=$(s).find(`.${l}`)[0];return this.templates=n,n}getGateTemplate(t){return this.templates[t]}createGate(t,s,i,n,o){if(this.world.clearSelection(),this.showConnectableTerminals(),s>=0&&s<=1&&(s=s*this.domElement.clientWidth),i>=0&&i<=1&&(i=i*this.domElement.clientHeight),s===void 0&&(s=this.domElement.clientWidth/2-25),i===void 0&&(i=this.domElement.clientHeight/2-25),Te[t]===void 0){console.error("Invalid fundamental gate type");return}let l=this.templates[t],r=Te[t].functionSpec;return this.createGateElement(l,r,s,i,n,o)}showWireFrame(t){t=t===void 0?this.domElement:t;let s=$(t).children();for(let i=0;i<s.length;i++){let n=s[i];$(n).addClass("show-wireframe"),this.showWireFrame(n)}}hideWireFrame(t){t=t===void 0?this.domElement:t;let s=$(t).find(".show-wireframe");for(let i=0;i<s.length;i++){let n=s[i];$(n).removeClass("show-wireframe")}}async evaluate(t){return await this.world.evaluate(t)}export(){let t=this.world.export(),s=[];t.gates.forEach((o,l)=>{if(o._exportID=l,o.funcSpec.name==="WORLD")s.push({type:o.funcSpec.name,x:o.domElement.style.left,y:o.domElement.style.top,id:o._exportID,state:o.getState(),worldExport:o._linkedWorld.parent.export(),canvasSize:{width:o._linkedWorld.domElement.clientWidth,height:o._linkedWorld.domElement.clientHeight}});else if(o.isFundamental())s.push({type:o.funcSpec.name,x:o.domElement.style.left,y:o.domElement.style.top,id:o._exportID,state:o.getState(),isWorldInput:this.world.inputs.includes(o),isWorldOutput:this.world.outputs.includes(o)});else{console.error("Unknown gate type");return}});let i=[];return t.wires.forEach(o=>{let l=o.terminalSrc,r=o.terminalSink,a=l.parent,c=r.parent,u=a.terminals().indexOf(l),f=c.terminals().indexOf(r);i.push({t1:{gateID:a._exportID,terminalID:u},t2:{gateID:c._exportID,terminalID:f},state:o.state})}),{gates:s,wires:i,canvasSize:{width:this.domElement.clientWidth,height:this.domElement.clientHeight}}}load(t){this.updateCanvas();let s=this.domElement.clientWidth/t.canvasSize.width,i=this.domElement.clientHeight/t.canvasSize.height;this.clear();let n={};t.gates.forEach(o=>{if(o.type==="WORLD"){let l=new ke,r=document.createElement("div");r.style.width=o.canvasSize.width+"px",r.style.height=o.canvasSize.height+"px",document.body.appendChild(r),new re(l,r).load(o.worldExport);let c=parseInt(o.x),u=parseInt(o.y),f=this.linkWorld(l,c,u);n[o.id]=f,n[o.id].setState(o.state)}else if(Te[o.type]!==void 0){let l=parseInt(o.x)*s,r=parseInt(o.y)*i,a;o.isWorldInput?a=this.createInput():o.isWorldOutput?a=this.createOutput():a=this.createGate(o.type,l,r),n[o.id]=a,n[o.id].setState(o.state)}else{console.error("Unknown gate type",o);return}}),t.wires.forEach(o=>{let l=n[o.t1.gateID].terminals()[o.t1.terminalID],r=n[o.t2.gateID].terminals()[o.t2.terminalID];this.connect(l,r).setState(o.state)}),this.visualTick()}exportAsStr(){return Je.compressToBase64(JSON.stringify(this.export()))}loadFromStr(t){let s=JSON.parse(Je.decompressFromBase64(t));this.load(s)}clone(){let t=this.export(),s=this.domElement.cloneNode(!1),i=new re(new ke,s);return i.load(t),i}clear(t){this.world.gates.forEach(s=>{s.funcSpec.name==="WORLD"&&s._linkedWorld.parent.remove()}),t?(this.world.gates.forEach(s=>{let i=this.world.inputs.includes(s),n=this.world.outputs.includes(s);i||n||s.remove()}),this.world.wires.forEach(s=>{s.remove()})):this.world.clear()}remove(){this.clear(),window.removeEventListener("resize",this.onResize),clearInterval(this.slowVisualTick),this.stopVisualTick(),this.stopWorldTick(),this.domElement.remove(),this.domElement=null,this.world.remove(),this.world=null}importAsGate(t,s,i){t instanceof re&&(t=t.export());let n=document.createElement("div");n.style.width=`${t.canvasSize.width}px`,n.style.height=`${t.canvasSize.height}px`,document.body.appendChild(n);let o=new ke,l=new re(o,n);return l.load(t),s=s||100,i=i||100,this.linkWorld(l.world,s,i)}}console.log("logicgate_front.js loaded");const Pa="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-info-circle'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M8%2015A7%207%200%201%201%208%201a7%207%200%200%201%200%2014m0%201A8%208%200%201%200%208%200a8%208%200%200%200%200%2016'%20fill='%23ffffff'/%3e%3cpath%20d='m8.93%206.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738%203.468c-.194.897.105%201.319.808%201.319.545%200%201.178-.252%201.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275%200-.375-.193-.304-.533zM9%204.5a1%201%200%201%201-2%200%201%201%200%200%201%202%200'%20fill='%23ffffff'/%3e%3c/svg%3e";class Ha{constructor(t){if(this.name=t.name,this.description=t.description,this.inputs=t.inputs,this.outputs=t.outputs,this.availableGates=t.availableGates,this.maxGateCount=t.maxGateCount,this.timeLimit=t.timeLimit,this.onCreated=t.onCreated,this.onSubmit=t.onSubmit,this.initialCanvas=t.initialState,this.knownSolution=t.knownSolution,this.hints=t.hints,t.name===void 0)throw new Error("Level must have a name");if(t.description===void 0)throw new Error("Level must have a description")}onCreated(){}async onSubmit(){return!0}}class rs extends Ha{constructor(t){super(t),this.truthTableFn=t.truthTable,this.truthTable,typeof this.truthTableFn!="function"?this.truthTableFn=()=>t.truthTable:this.truthTableFn=this.truthTableFn,this.calculateTruthTable()}calculateTruthTable(){this.truthTable=this.truthTableFn()}}const Ut=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},Wa={class:"test-case-table-container"},Ga={class:"table table-dark table-hover text-center table-striped table-test-case"},Fa={class:"col-1"},Ua=["onClick"],ja={__name:"truthtableleveltemplate",setup(e,{expose:t}){const i=kt("logicCanvas").world,n=kt("truthTableLevelData"),o=n.inputs,l=n.outputs,r=[...o,...l],a=Yn(n.truthTable.map(v=>[...v.outputs])),c=ks(n),u=Do();ba(()=>{m(),a.value=n.truthTable.map(v=>[...v.outputs]),console.log("reset",a.value),u.proxy.$forceUpdate()}),Ft(()=>{});const f=async v=>{let M=$(".table-test-case").find("tbody tr").eq(v);M.addClass("table-primary");let T=n.truthTable[v],I=T.inputs,R=T.outputs,w=await i.evaluate(I);w=w.map(y=>y?1:0);let _=!0;return w.forEach((y,F)=>{let V=R[F];y==V?a.value[v][F]=V:(a.value[v][F]=`${V} (got: ${y})`,_=!1)}),M.removeClass("table-primary"),M.removeClass("table-success"),M.removeClass("table-danger"),_?M.addClass("table-success"):M.addClass("table-danger"),console.log("result",I,R,w),_},p=async()=>{m();let v=!0;for(let M=0;M<n.truthTable.length;M++)await f(M)||(v=!1);return v},m=()=>{$(".table-test-case").find("tr").removeClass("table-primary"),$(".table-test-case").find("tr").removeClass("table-success"),$(".table-test-case").find("tr").removeClass("table-danger")},g=async(v,M)=>{m(),a.value=n.truthTable.map(T=>[...T.outputs]),await f(v)};return t({onSubmit:p,onCreated:n.onCreated}),(v,M)=>(U(),B(lt,null,[S("p",null,Ht(Ct(n).description),1),Ct(n).render?(U(),Oo(Ct(n),{key:0,ref:"levelVue"},null,512)):Ao("",!0),S("div",Wa,[S("table",Ga,[S("thead",null,[S("tr",null,[(U(),B(lt,null,le(r,T=>S("th",Fa,Ht(T),1)),64))])]),S("tbody",null,[(U(!0),B(lt,null,le(c.truthTable,(T,I)=>(U(),B("tr",{class:"table-test-case-row",onClick:R=>{g(I)}},[(U(!0),B(lt,null,le(T.inputs,R=>(U(),B("td",null,Ht(R),1))),256)),(U(!0),B(lt,null,le(a.value[I]||T.outputs,R=>(U(),B("td",null,Ht(R),1))),256))],8,Ua))),256))])])])],64))}},Ba=Ut(ja,[["__scopeId","data-v-573ffa37"]]);class Va{constructor(){this.data={},this.loadFromLocalStorage()}loadFromLocalStorage(){try{if(this.data=JSON.parse(localStorage.getItem("userData")),console.log("Loaded user data from local storage",this.data),typeof this.data!="object"||this.data===null)throw new Error("Invalid data in local storage")}catch{console.error("Error loading user data from local storage"),this.data={},this.saveToLocalStorage()}}saveToLocalStorage(){localStorage.setItem("userData",JSON.stringify(this.data))}set(t,s){this.data[t]=s,this.saveToLocalStorage()}get(t){return this.data[t]}clear(){localStorage.removeItem("userData"),this.data={}}hasAttempted(t){var s,i;return(i=(s=this.data)==null?void 0:s.attempts)==null?void 0:i.hasOwnProperty(t)}getAttempt(t,s){var i,n;if((i=this.data)!=null&&i.attempts&&(n=this.data)!=null&&n.attempts[t])return this.data.attempts[t][s]}setAttempt(t,s,i){this.data.attempts||(this.data.attempts={}),this.data.attempts[t]||(this.data.attempts[t]={}),this.data.attempts[t][s]=i,this.saveToLocalStorage()}}const xt=new Va,Ka={class:"app-container"},qa={class:"back-button"},Xa={class:"app-outer"},za={class:"w-100 text-center"},Ya={class:"app-inner"},Ja={class:"d-flex justify-content-center m-1 logic-canvas-container"},Za={class:"logic-gate-deck"},Qa={class:"d-flex deck-btns flex-column justify-content-around"},tc={class:"challenge-container"},ec={class:"modal fade",tabindex:"-1","data-bs-backdrop":"static",id:"reviewPopup","data-bs-theme":"dark"},sc={class:"modal-dialog modal-dialog-centered"},ic={class:"modal-content"},nc={class:"modal-body d-flex justify-content-around"},oc={class:"d-flex flex-column align-items-center"},lc={key:0,src:$o,alt:"star",class:"star result-star result-star-fill"},rc={key:1,src:Po,alt:"star",class:"star result-star"},ac={class:"mt-3"},Fo=(e,t)=>{let s=document.querySelector(".logic-gate-deck");t.forEach(i=>{let o=e.getGateTemplate(i).cloneNode(!0);o.classList.add("gate-deck-item"),o.classList.add(`add-${i.toLowerCase()}-btn`);let l=document.createElement("div");l.classList.add("gate-deck-item-container"),l.appendChild(o);let r=document.createElement("span");r.classList.add("gate-deck-item-title"),r.innerText=i,l.appendChild(r);let a=document.createElement("div");a.classList.add("gate-deck-item-scale"),a.appendChild(l),s.appendChild(a),o.addEventListener("click",async c=>{let u=e.createGate(i),f=$(u.domElement).offset(),p=$(o).offset(),m=u.domElement.style.transition,g=u.domElement.style.zIndex,v=u.domElement.style.pointerEvents;u.domElement.style.zIndex=1e3,u.domElement.style.pointerEvents="none",$(u.domElement).offset(p),await at(30),u.domElement.style.transition="top 0.2s, left 0.2s, transform 0.2s, opacity 0.2s",await at(30),$(u.domElement).offset(f),await at(200),u.domElement.style.transition=m,u.domElement.style.zIndex=g,u.domElement.style.pointerEvents=v}),o.draggable=!0,o.ondragstart=c=>{c.dataTransfer.setData("gate",i)}}),e.domElement.ondragover=i=>{i.preventDefault()},e.domElement.ondrop=i=>{if(!i.dataTransfer.getData("gate"))return;let n=i.dataTransfer.getData("gate"),o=e.domElement.getBoundingClientRect(),l=i.clientX-o.left,r=i.clientY-o.top;l-=25,r-=25,e.createGate(n,l,r)}},cc={__name:"Play",setup(e){const t=()=>{console.log("back"),tt.clear(),ct(ue,{currentLevelID:o==null?void 0:o.id})};Ni(t);const s=()=>{let w=window.location.hash.split("?")[1];w=w?decodeURI(w):void 0;let _=Gs(),F=he[w||_];if(!F){ct(ue);return}return F};let i,n,o=s(),l,r=new wa,a,c=Yn([{star:!0,text:"Level Solved!"},{star:!0,text:"Time"},{star:!1,text:"# of Gates"}]);const u=()=>{let w=r.getElapsedTimeStr(),_=o.timeLimit?r.getElapsedTimeStr(o.timeLimit):"",y=document.querySelector(".level-timer"),F=`${w} / ${_}`;y.innerText!=F&&(y.innerText=`${w} / ${_}`)},f=()=>{let w=["GATE_CREATED","WIRE_CREATED","GATE_REMOVED","WIRE_REMOVED","CANVAS_GATE_MOVE_START"];i.eventManager.onceMulti(w,()=>{r.start()})};Ft(async()=>{var V,et;if(!o)return;let _=window.location.href.split("#")[0]+`#play?${o.id}`;if(window.history.pushState({},"",_),!o.hideCanvas){let it=document.querySelector(".logic-canvas-here"),Et=new ke;i=new re(Et,it),i.startVisualTick(),i.startWorldTick(20),i.world.enableAutoSleep(),i.clear(),(V=o.inputs)==null||V.forEach(ht=>{i.createInput().setLabel(ht)}),(et=o.outputs)==null||et.forEach(ht=>{i.createOutput().setLabel(ht)}),a=setInterval(u,100),Fo(i,o.availableGates||["AND","OR","NOT","NAND","NOR","XOR","XNOR"]);const ut=document.querySelector(".logic-canvas-container"),bt=.99,rt=new IntersectionObserver(([ht])=>{let st=ht.intersectionRatio<bt&&ht.boundingClientRect.y<=10;ht.target.classList.toggle("is-pinned",st)},{threshold:[bt]});rt.observe(ut),l=rt,ut.getBoundingClientRect().top<=10&&ut.classList.add("is-pinned"),$('[data-toggle="tooltip"]').tooltip()}o instanceof rs?(n=pi(Ba),n.provide("logicCanvas",i),n.provide("truthTableLevelData",o),n.mount("#challenge")):(n=pi(o),n.provide("logicCanvas",i),n.mount("#challenge")),o.onCreated&&setTimeout(()=>{o.onCreated(i)},200),r.start();let y=xt.getAttempt(o.id,"canvas"),F=xt.getAttempt(o.id,"time");if(y){let it=y.gates.filter(rt=>rt.isWorldInput).length,Et=y.gates.filter(rt=>rt.isWorldOutput).length,ut=o.inputs.length,bt=o.outputs.length;if(it!=ut||Et!=bt)return;setTimeout(()=>{var rt,ht;i.load(y),(rt=o.inputs)==null||rt.forEach((st,K)=>{i.world.inputs[K].setLabel(st)}),(ht=o.outputs)==null||ht.forEach((st,K)=>{i.world.outputs[K].setLabel(st)}),r.set(F),r.pause(),f()},500)}await at(500),$("html, body").animate({scrollTop:$("#challenge").offset().top-350},100)}),Jt(()=>{$("#reviewPopup").modal("hide"),clearInterval(a),l==null||l.disconnect(),i==null||i.remove(),console.log("logic canvas removed"),n==null||n.unmount()});let p=null;const m=async()=>{if(!p)return;i.load(p),r.set(p.timeElapsed),p=null;let w=document.querySelector(".undo-btn");w.style.display="none"},g=async w=>{let _=document.querySelector(".clear-btn"),y=document.querySelector(".undo-btn");_.disabled=!0,p=i.export(),p.timeElapsed=r.getElapsedTime(),T(),_.disabled=!1,y.style.display="block",i.eventManager.onceMulti(["GATE_CREATED","WIRE_CREATED","TERMINAL_STATE_CHANGED"],()=>{let F=document.querySelector(".undo-btn");F.style.display="none"})},v=ns("test"),M=async()=>{let w=v.value._vnode.component.exposed;if(r.pause(),await w.onSubmit()){c.value[0].star=!1,c.value[1].star=!1,c.value[2].star=!1;let y=r.getElapsedTime(),F=r.getElapsedTimeStr(),V=o.timeLimit?r.getElapsedTimeStr(o.timeLimit):"";c.value[1].text=`Time: ${F} / ${V}`;let et=o.timeLimit?y<=o.timeLimit:!0,it=i.world.nonIOGates.length,Et=o.maxGateCount==null?"":o.maxGateCount;c.value[2].text=`# of Gates: ${it} / ${Et}`;let ut=o.maxGateCount==null?!0:it<=o.maxGateCount;xt.setAttempt(o.id,"stars",[!0,et,ut]),xt.setAttempt(o.id,"time",y),xt.setAttempt(o.id,"canvas",i.export()),xt.setAttempt(o.id,"animate_world_select",!0),f(),$("#reviewPopup").modal("show"),await at(200),c.value[0].star=!0,await at(200),c.value[1].star=et,await at(200),c.value[2].star=ut}else r.start()},T=()=>{$("#reviewPopup").modal("hide"),i.world.clearNonIO(),r.reset(),r.start()},I=async()=>{let w=o.next;ct(ue,{currentLevelID:o==null?void 0:o.id,nextLevelID:w==null?void 0:w.id}),await at(2e3),ct(Us,w==null?void 0:w.id),$("html, body").animate({scrollTop:0},100)},R=()=>{if($("#export-textarea").length){$("#export-textarea").remove();return}console.log("exporting canvas");let w=i.exportAsStr(),_=document.createElement("textarea");_.id="export-textarea",_.value=w,_.style.position="fixed",_.style.width="90%",_.style.height="90%",_.style.zIndex=1e3,_.style.top="5%",_.style.left="5%",document.body.appendChild(_),_.select()};return(w,_)=>{var y,F,V,et;return U(),B(lt,null,[S("button",{onClick:R,style:{opacity:"0.1"},class:"position-fixed bottom-0 start-50 m-3 translate-middle-x z-3"},"Export Canvas"),S("div",Ka,[_[4]||(_[4]=S("img",{class:"logo",src:Fs},null,-1)),S("div",qa,[S("button",{class:"btn btn-outline-secondary",onClick:_[0]||(_[0]=it=>t())},"Back")]),S("div",Xa,[S("h1",za,Ht((F=(y=Ct(o))==null?void 0:y.world)==null?void 0:F.name)+" - "+Ht((V=Ct(o))==null?void 0:V.name),1),S("div",Ya,[S("div",Ja,[_[1]||(_[1]=xs('<div class="logic-canvas-scale" data-v-184e4334><div class="logic-canvas-here" data-v-184e4334><div class="level-timer" data-v-184e4334></div><img src="'+Pa+'" class="canvas-info-icon position-absolute top-0 end-0 m-3 z-3" alt="info" data-v-184e4334><div class="canvas-info-tooltip position-absolute top-50 start-50 translate-middle" data-v-184e4334><p data-v-184e4334><b data-v-184e4334>Adding a Gate:</b> Click or tap on a gate in the gate deck to add it to the canvas. Alternatively, drag the gate from the deck onto the canvas.</p><div class="logic-canvas-and-demo" data-v-184e4334></div><p data-v-184e4334><b data-v-184e4334>Removing a Gate:</b> Right-click on the gate or drag it outside the canvas to remove it.</p><p data-v-184e4334><b data-v-184e4334>Moving a Gate:</b> Drag the gate to reposition it on the canvas.</p><p data-v-184e4334><b data-v-184e4334>Adding or Removing a Wire:</b> Click or tap on a terminal of one gate, then on the terminal of another gate. You can also drag one terminal to another to connect or disconnect them.</p></div></div></div>',1)),S("div",Za,[S("div",Qa,[S("button",{class:"btn btn-secondary clear-btn m-1",onClick:bn(g,["prevent"])},"Clear"),S("button",{class:"btn btn-secondary undo-btn m-1",onClick:bn(m,["prevent"])},"Undo")])]),(et=Ct(o))!=null&&et.hideSubmit?Ao("",!0):(U(),B("button",{key:0,class:"btn btn-primary mt-0 mb-2",id:"submit-btn",onClick:M},"Submit"))]),S("div",tc,[_[2]||(_[2]=S("h2",null,"Chellenge:",-1)),S("div",{id:"challenge",ref_key:"test",ref:v},null,512)])])]),S("div",ec,[S("div",sc,[S("div",ic,[_[3]||(_[3]=S("div",{class:"modal-header"},[S("h5",{class:"modal-title"},"Result"),S("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),S("div",nc,[(U(!0),B(lt,null,le(Ct(c),it=>(U(),B("div",oc,[it.star?(U(),B("img",lc)):(U(),B("img",rc)),S("p",ac,Ht(it.text),1)]))),256))]),S("div",{class:"modal-footer"},[S("button",{type:"button",class:"btn btn-primary",onClick:t},"World Selection"),S("button",{type:"button",class:"btn btn-primary",onClick:T},"Restart"),S("button",{type:"button",class:"btn btn-primary",onClick:I},"Next Level")])])])])])],64)}}},Us=Ut(cc,[["__scopeId","data-v-184e4334"]]),uc={class:"app-container"},dc={class:"back-button"},hc={class:"app-outer"},fc={class:"app-inner"},pc={class:"challenge"},mc={class:"mech-current-step"},gc={__name:"Tutorial",setup(e){const t=()=>{console.log("back"),$("html, body").animate({scrollTop:0},10),ct(ue)};let s;Object.keys(he).forEach(r=>{let a=he[r];a.goToPage==$i&&(s=a)}),console.log("level",s),Ni(t);let i=[],n=null,o=null,l=null;return Ft(async()=>{console.log("mounted");let a=window.location.href.split("#")[0]+"#tutorial";window.history.pushState({},"",a);let c=["AND","OR","XOR","NOT","NAND","NOR","XNOR"];for(let u of c){let f=document.querySelector(`.${u.toLowerCase()}-demo`),p=new ke,m=new re(p,f,null,!1);i.push(m),m.startVisualTick(),m.startWorldTick(10),m.indicatorSize=5,m.world.enableAutoSleep();let g=Te[u].functionSpec;for(let T=0;T<g.inputCount;T++)m.createInput().setLabel(["A","B","C","D"][T]);m.createOutput().setLabel("OUT");let v=m.createGate(u);for(let T=0;T<g.inputCount;T++){let I=m.world.in[T];m.world.makeConnection(I.out(0)),m.world.makeConnection(v.in(T))}let M=m.world.out[0];m.world.makeConnection(v.out(0)),m.world.makeConnection(M.in(0))}{let u=i[0];tt.clear(),tt.setCanvas(u),o=setInterval(()=>{let f=u.world.in[0].domElement.getBoundingClientRect();f.y+f.height<0&&(clearInterval(o),tt.skip())},100),l=setInterval(()=>{let f=u.world.in[1].domElement.getBoundingClientRect();f.y+f.height<0&&(clearInterval(l),tt.skip())},100),await tt.toggleInput(u.world.in[0]),clearInterval(o),await tt.toggleInput(u.world.in[1]),clearInterval(l)}{let u=document.querySelector(".main-logic-canvas"),f=new ke,p=new re(f,u);i.push(p),p.startVisualTick(),p.startWorldTick(10),p.createInput().setLabel("A"),p.createInput().setLabel("B"),p.createInput().setLabel("C"),p.createOutput().setLabel("OUT"),Fo(p,["AND","OR","XOR","NOT","NAND","NOR","XNOR"]);let m=document.querySelector(".mech-add"),g=document.querySelector(".mech-remove"),v=document.querySelector(".mech-move"),M=document.querySelector(".mech-conneect"),T=document.querySelector(".mech-toggle"),I=document.querySelector(".mech-complete-text"),R=document.querySelector(".skip-btn"),w=null,_=new ki(100);const y=()=>{_.run(()=>{let et=document.querySelector(".mech-current-step");if(w){let it=$(w).offset();$(et).offset(it),et.style.display="block",et.style.width=$(w).outerWidth()+"px",et.style.height=$(w).outerHeight()+"px"}else et.style.display="none"})},F=et=>{w&&w.classList.add("mech-complete"),w=et,y()};n=setInterval(y,100),tt.setCanvas(p),F(g);let V=p.createGate("AND");await tt.removeGate(V),F(m),V=await tt.addGate("AND"),await at(100),setTimeout(async()=>{tt.skip()},100),await tt.moveGate(V,.5,.8),F(v),await tt.moveGate(V,.33,.33),F(M),await tt.addWire(p.world.in[0].out(0),V.in(0)),await tt.addWire(p.world.in[1].out(0),V.in(1)),await tt.addWire(V.out(0),p.world.out[0].in(0)),F(T),await tt.toggleInput(p.world.in[0]),await tt.toggleInput(p.world.in[1]),F(I),I.style.opacity=1,R.style.display="none",xt.setAttempt(s.id,"stars",[!0,!0,!0]),xt.setAttempt(s.id,"animate_world_select",!0)}}),Jt(()=>{tt.clear(),clearInterval(n),clearInterval(o),clearInterval(l),i.forEach(r=>r.remove())}),(r,a)=>(U(),B("div",uc,[a[6]||(a[6]=S("img",{class:"logo",src:Fs},null,-1)),S("div",dc,[S("button",{class:"btn btn-outline-secondary",onClick:a[0]||(a[0]=c=>t())},"Back")]),S("div",hc,[S("div",fc,[S("div",pc,[a[4]||(a[4]=xs('<h1 data-v-34babc5a>What is a Logic Gate?</h1><p data-v-34babc5a> A <strong data-v-34babc5a>logic gate</strong> is a fundamental building block of digital circuits. It is an electronic device or circuit that performs a basic logical operation on one or more input signals and produces a single output signal. Logic gates are based on <strong data-v-34babc5a>Boolean algebra</strong>, a mathematical system of logic used in computing and electronics. </p><h2 data-v-34babc5a>Common Types of Logic Gates:</h2><ul data-v-34babc5a><li data-v-34babc5a><strong data-v-34babc5a>AND Gate:</strong> Outputs <code data-v-34babc5a>1</code> (true) only if <em data-v-34babc5a>all</em> inputs are <code data-v-34babc5a>1</code>. </li><div class="and-demo gate-demo" data-v-34babc5a></div><li data-v-34babc5a><strong data-v-34babc5a>OR Gate:</strong> Outputs <code data-v-34babc5a>1</code> if <em data-v-34babc5a>at least one</em> input is <code data-v-34babc5a>1</code>. </li><div class="or-demo gate-demo" data-v-34babc5a></div><li data-v-34babc5a><strong data-v-34babc5a>XOR Gate:</strong> Outputs <code data-v-34babc5a>1</code> if <em data-v-34babc5a>only one</em> of the inputs is <code data-v-34babc5a>1</code>. </li><div class="xor-demo gate-demo" data-v-34babc5a></div><li data-v-34babc5a><strong data-v-34babc5a>NOT Gate:</strong> Inverts the input signal </li><div class="not-demo gate-demo" data-v-34babc5a></div><li data-v-34babc5a><strong data-v-34babc5a>NAND Gate:</strong> Outputs the opposite of an AND gate.</li><div class="nand-demo gate-demo" data-v-34babc5a></div><li data-v-34babc5a><strong data-v-34babc5a>NOR Gate:</strong> Outputs the opposite of an OR gate.</li><div class="nor-demo gate-demo" data-v-34babc5a></div><li data-v-34babc5a><strong data-v-34babc5a>XNOR Gate:</strong> Outputs the opposite of an XOR gate.</li><div class="xnor-demo gate-demo" data-v-34babc5a></div></ul><h2 data-v-34babc5a>Why Are Logic Gates Important?</h2><ol data-v-34babc5a><li data-v-34babc5a><strong data-v-34babc5a>Foundation of Digital Electronics:</strong><p data-v-34babc5a>Logic gates are the basic components of digital circuits. They are used in designing microprocessors, memory devices, and control systems.</p></li><li data-v-34babc5a><strong data-v-34babc5a>Decision Making:</strong><p data-v-34babc5a>Logic gates enable devices to make logical decisions by processing binary data (1s and 0s).</p></li><li data-v-34babc5a><strong data-v-34babc5a>Binary Operations:</strong><p data-v-34babc5a>Since computers work in binary (0s and 1s), logic gates are essential for enabling computers to execute instructions.</p></li></ol><p data-v-34babc5a> Logic gates serve as the &quot;brain&quot; of digital systems, making them a cornerstone of modern technology. </p><h2 data-v-34babc5a>Game Mechanics</h2><div class="main-logic-canvas" data-v-34babc5a></div><div class="logic-gate-deck" data-v-34babc5a></div>',10)),S("div",mc,[a[3]||(a[3]=S("div",{class:"mech-current-step-highlighter"},null,-1)),S("button",{class:"btn btn-primary skip-btn",onClick:a[1]||(a[1]=c=>Ct(tt).skip())},"Skip")]),a[5]||(a[5]=xs('<p class="mech-remove mech-demo" data-v-34babc5a><b data-v-34babc5a>Remove Gate:</b> Right-click or drag the gate outside the canvas </p><p class="mech-add mech-demo" data-v-34babc5a><b data-v-34babc5a>Add Gate:</b> Click / Tap the gate you want to add from the gate deck. You can also drag the gate from the gate deck</p><p class="mech-move mech-demo" data-v-34babc5a><b data-v-34babc5a>Move Gate:</b> Drag the gate.</p><p class="mech-conneect mech-demo" data-v-34babc5a><b data-v-34babc5a>Connect Gates:</b> Click / Tap on the terminal of one gate, then on the terminal of another gate. Or drag one of the terminal to another terminal</p><p class="mech-toggle mech-demo" data-v-34babc5a><b data-v-34babc5a>Toggle Input:</b> Click / Tap on the input gate to toggle it on or off</p><p class="mech-complete-text mech-demo" data-v-34babc5a><b data-v-34babc5a>Congratulations!</b> You&#39;ve completed the tutorial. Feel free to experiment with the circuit now.</p>',6)),S("button",{class:"btn btn-secondary",onClick:a[2]||(a[2]=c=>t())},"Go Back To World Selector")])])])]))}},$i=Ut(gc,[["__scopeId","data-v-34babc5a"]]),vc=new rs({name:"NAND 1",description:"Create a NAND gate using AND and NOT gates",inputs:["A","B"],outputs:["OUT"],availableGates:["AND","NOT"],truthTable:[{inputs:[0,0],outputs:[1]},{inputs:[0,1],outputs:[1]},{inputs:[1,0],outputs:[1]},{inputs:[1,1],outputs:[0]}],maxGateCount:2,timeLimit:3*60,knownSolution:{gates:[{type:"IN",x:"0px",y:"108.333px",id:0,state:[!1],isWorldInput:!0,isWorldOutput:!1},{type:"IN",x:"0px",y:"241.667px",id:1,state:[!1],isWorldInput:!0,isWorldOutput:!1},{type:"OUT",x:"",y:"175px",id:2,state:[!0],isWorldInput:!1,isWorldOutput:!0},{type:"AND",x:"126px",y:"175.016px",id:3,state:[!1,!1,!1],isWorldInput:!1,isWorldOutput:!1},{type:"NOT",x:"229.75px",y:"175.766px",id:4,state:[!1,!0],isWorldInput:!1,isWorldOutput:!1}],wires:[{t1:{gateID:3,terminalID:2},t2:{gateID:4,terminalID:0},state:!1},{t1:{gateID:4,terminalID:1},t2:{gateID:2,terminalID:0},state:!0},{t1:{gateID:0,terminalID:0},t2:{gateID:3,terminalID:0},state:!1},{t1:{gateID:1,terminalID:0},t2:{gateID:3,terminalID:1},state:!1}],canvasSize:{width:400,height:400}}}),bc=new rs({name:"Nothing",description:"Just connect the input to the output",inputs:["IN"],outputs:["OUT"],availableGates:["AND","NOT"],truthTable:[{inputs:[0],outputs:[0]},{inputs:[1],outputs:[1]}],maxGateCount:0,timeLimit:60,onCreated:e=>{}}),_c=bc;function yc(e,t,s,i,n,o){return U(),B("div",null,t[0]||(t[0]=[S("h1",null,"Test Template",-1)]))}const Uo=Ut(_c,[["render",yc]]),wc={class:"module-container"},Ec={__name:"smarthomevitual",setup(e,{expose:t}){let s=!1,i={x:0,y:0};async function n(p,m){let g=document.getElementById("living-room-person-1");const v=100;for(let M=0;M<1;M+=1/v){if(await new Promise(bt=>requestAnimationFrame(bt)),s)return;let T=document.getElementById("living-room-1"),I=$(T).width(),R=$(T).height(),w,_;m?[w,_]=m(M):(w=Math.sin(M*Math.PI*2)*.4+.5,_=Math.cos(M*Math.PI*2)*.4+.5);let y=Math.abs(w-i.x),F=Math.abs(_-i.y),V=y>.01||F>.01;i={x:w,y:_};let et=w*I,it=_*R;g.style.left=et+"px",g.style.top=it+"px";let Et=document.getElementsByClassName("living-room-motion-sensor"),ut=[];for(let bt=0;bt<Et.length;bt++){let rt=Et[bt],ht={left:parseFloat(rt.style.left),top:parseFloat(rt.style.top)},st={left:parseFloat(g.style.left),top:parseFloat(g.style.top)},K=ht.left-st.left,z=ht.top-st.top,jt=Math.sqrt(K*K+z*z);jt<450/2&&V?rt.classList.remove("sensor-deactivated"):rt.classList.add("sensor-deactivated"),ut.push(jt)}if(p&&p({person:{x:et,y:it},distances:V?ut:ut.map(()=>1e4),enoughMovement:V}))return}}function o(){document.querySelector(".living-room").classList.remove("light-off")}function l(){document.querySelector(".living-room").classList.add("light-off")}function r(p,m){let g=document.querySelector(".living-room"),v=document.createElement("div");p<0&&(p+=$(g).width(),p-=30),m<0&&(m+=$(g).height(),m-=30),v.style.left=p+"px",v.style.top=m+"px",v.classList.add("living-room-motion-sensor"),g.appendChild(v)}function a(p,m){let g=document.querySelector(".switch-container"),v=document.createElement("div");v.classList.add("labeled-switch"),v.innerHTML=`
    <label>${p}</label>
    <label class="switch">
      <input type="checkbox" checked>
      <span class="slider round"></span>
    </label>
  `,g.appendChild(v);let M=v.querySelector("input");return M.addEventListener("click",()=>{m&&m(M.checked)}),M}function c(p,m){let g=a(p,v=>{m.setState(v)});return m.world.eventManager.subscribe("TERMINAL_STATE_CHANGED",v=>{v===m&&(g.checked=v.getState())}),g.checked=m.getState(),g}function u(p){p.getState()?o():l(),p.world.eventManager.subscribe("TERMINAL_STATE_CHANGED",m=>{m===p&&(m.getState()?o():l())})}function f(p){let m=document.getElementById("living-room-person-1");if(m.style.zIndex=100,$(m).tooltip("dispose"),!p)return;let g=document.querySelector(".app-outer");$(m).tooltip({title:p,trigger:"manual hover toggle",placement:"top",animation:!0,boundary:g}),$(m).tooltip("show")}return Jt(()=>{s=!0}),t({personCycleTest:n,lightOn:o,lightOff:l,addMotionSensor:r,addSwitch:a,addLinkedSwitch:c,linkLight:u,personPrompt:f}),(p,m)=>(U(),B("div",wc,m[0]||(m[0]=[S("div",{class:"living-room-container",id:"living-room-1"},[S("div",{class:"living-room light-off"},[os("LIVING ROOM "),S("div",{class:"living-room-person",id:"living-room-person-1"},"P")])],-1),S("div",{class:"switch-container"},null,-1)])))}},js=Ut(Ec,[["__scopeId","data-v-17d7ce16"]]),Tc={class:"challenge"},Sc={class:"mobile-scale"},wn={name:"Smart Home 1",description:"Basic Motion Control - Set up two motion sensors to collaboratively automate the lighting system.",availableGates:["NOT","AND","OR"],inputs:["M1","M2"],outputs:["Light"],hideSubmit:!1,timeLimit:60,maxGateCount:1},xc={...wn,data(){return{...wn}}},Cc=Object.assign(xc,{__name:"smarthome1",setup(e,{expose:t}){let i=kt("logicCanvas").world,n=ns("smvitual"),o;return Ft(async()=>{o=n.value,o.addMotionSensor(10,10),o.addMotionSensor(-10,10),setTimeout(()=>{o.linkLight(i.outputs[0].in(0))},1e3)}),Jt(()=>{o.personPrompt()}),t({onSubmit:async()=>{o.personPrompt(),$("#submit-btn").prop("disabled",!0);let r=!0,a;return await n.value.personCycleTest(c=>{let u=c.distances.map((m,g)=>m<225),f=i.evaluateSync([...u])[0],p=u.some(m=>m);if(f!=p)return r=!1,a=`Hmm... It seems like there's an issue with the system. The light should ${p?"turn on":"stay off"}. Can you double-check your configuration?`,!0}),r?o.personPrompt("Great job! The system is now working perfectly. Thank you for your help!"):o.personPrompt(a),$("#submit-btn").prop("disabled",!1),r}}),(r,a)=>(U(),B("div",Tc,[S("div",Sc,[Ot(js,{ref_key:"smvitual",ref:n},null,512)]),a[0]||(a[0]=S("div",{class:"story"},[S("p",null," Welcome to your first Smart Home Challenge! The homeowner has installed two motion sensors (M1 and M2) in their living room to automate their lighting system. They want the light to turn on automatically whenever motion is detected by either sensor and turn off when no motion is detected by both sensors. "),S("p",null," Your task is to configure the system so that the motion sensors (M1 and M2) work together to control the light: "),S("ul",null,[S("li",null,"When M1 or M2 detects motion, the light should turn on."),S("li",null,"When neither M1 nor M2 detects motion, the light should turn off.")]),S("p",null," Set up and test the system to ensure it works as expected! ")],-1))]))}}),Oc=Ut(Cc,[["__scopeId","data-v-53ed6e0b"]]),Mc={class:"challenge"},Ic={class:"mobile-scale"},En={name:"Smart Home 2",description:"Comprehensive Coverage - Integrate multiple motion sensors for complete room coverage.",availableGates:["NOT","AND","OR","XOR","NAND","NOR","XNOR"],inputs:["M1","M2","M3","M4"],outputs:["Light"],hideSubmit:!1,timeLimit:60,maxGateCount:3},Ac={...En,data(){return{...En}}},Dc=Object.assign(Ac,{__name:"smarthome2",setup(e,{expose:t}){let i=kt("logicCanvas").world,n=ns("smvitual"),o;return Ft(async()=>{o=n.value,o.addMotionSensor(10,10),o.addMotionSensor(-10,10),o.addMotionSensor(-10,-10),o.addMotionSensor(10,-10),setTimeout(()=>{o.linkLight(i.outputs[0].in(0))},1e3)}),Jt(()=>{o.personPrompt()}),t({onSubmit:async()=>{o.personPrompt(),$("#submit-btn").prop("disabled",!0);let r=!0,a;const c=u=>u<.5?[.5,ce(u,0,.5,2,.8)]:(u=ce(u,.5,1,0,1),[Math.sin(u*Math.PI*2)*.4+.5,Math.cos(u*Math.PI*2)*.4+.5]);return await n.value.personCycleTest(u=>{let f=u.distances.map((g,v)=>g<225),p=i.evaluateSync([...f])[0],m=f.some(g=>g);if(p!=m)return r=!1,a=`Hmm... It seems like there's an issue with the system. The light should ${m?"turn on":"stay off"}. Can you double-check your configuration?`,!0},c),r?o.personPrompt("Great job! The system is now working perfectly. Thank you for your help!"):o.personPrompt(a),$("#submit-btn").prop("disabled",!1),r}}),(r,a)=>(U(),B("div",Mc,[S("div",Ic,[Ot(js,{ref_key:"smvitual",ref:n},null,512)]),a[0]||(a[0]=S("div",{class:"story"},[S("p",null," In this challenge, the homeowner has expanded their living room's smart lighting system. The single motion sensor (M1) wasn't enough to cover the entire room, so theyve installed four motion sensors (M1, M2, M3, and M4) to ensure complete coverage. "),S("p",null," Your task is to configure the system so that the light behaves as follows: "),S("ul",null,[S("li",null,"The light should turn on if any one of the four motion sensors detects motion."),S("li",null,"The light should turn off only when none of the motion sensors detect motion.")]),S("p",null," Design and test the system to ensure all sensors work together to control the light effectively! ")],-1))]))}}),Lc=Ut(Dc,[["__scopeId","data-v-b3ca0d34"]]),Nc={class:"challenge"},Rc={class:"mobile-scale"},Tn={name:"Smart Home 3",description:"Override Mode - Add a switch to ensure the light stays on continuously when desired.",availableGates:["NOT","AND","OR","XOR","NAND","NOR","XNOR"],inputs:["M1","M2","M3","M4","S"],outputs:["Light"],hideSubmit:!1,timeLimit:60,maxGateCount:4},kc={...Tn,data(){return{...Tn}}},$c=Object.assign(kc,{__name:"smarthome3",setup(e,{expose:t}){let i=kt("logicCanvas").world,n=ns("smvitual"),o;return Ft(async()=>{o=n.value,o.addMotionSensor(10,10),o.addMotionSensor(-10,10),o.addMotionSensor(-10,-10),o.addMotionSensor(10,-10),setTimeout(()=>{o.addLinkedSwitch("S",i.inputs[4].out(0)),o.linkLight(i.outputs[0].in(0))},1e3)}),Jt(()=>{o.personPrompt()}),t({onSubmit:async()=>{o.personPrompt(),$("#submit-btn").prop("disabled",!0);let r=!0,a;const c=p=>p<.25?[.5,ce(p,0,.25,.2,.8)]:p<.5?[.5,ce(p,.25,.5,.8,.8)]:(p=ce(p,.5,1,0,1),[Math.sin(p*Math.PI*2)*.4+.5,Math.cos(p*Math.PI*2)*.4+.5]),u=[[!1],[!0]],f=p=>{let[m,g,v,M,T]=p;return T||[m,g,v,M].some(w=>w)};for(let p=0;p<u.length;p++){let[m]=u[p];if(await n.value.personCycleTest(g=>{let v=g.distances.map((I,R)=>I<225),M=i.evaluateSync([...v,m])[0],T=f([...v,m]);if(M!=T)return r=!1,a=`Hmm... It seems like there's an issue with the system. The light should ${T?"turn on":"stay off"}.${g.enoughMovement?"":" I was sitting still."} Can you double-check your configuration?`,!0},c),!r)break}return r?o.personPrompt("Great job! The system is now working perfectly. Thank you for your help!"):o.personPrompt(a),$("#submit-btn").prop("disabled",!1),r}}),(r,a)=>(U(),B("div",Nc,[S("div",Rc,[Ot(js,{ref_key:"smvitual",ref:n},null,512)]),a[0]||(a[0]=S("div",{class:"story"},[S("p",null," The homeowner has noticed an issue with their smart lighting system: the light sometimes turns off while they are sitting still in the living room because the motion sensors does not detect movement. To address this, theyve installed a new switch labeled S. "),S("p",null," Your task is to update the circuit so that the light behaves as follows: "),S("ul",null,[S("li",null,"If switch S is on, the light stays on continuously, regardless of motion."),S("li",null,"If switch S is off, the light only turns on when the motion sensors detects movement.")]),S("p",null," Design and test the system to ensure it meets these requirements! ")],-1))]))}}),Pc=Ut($c,[["__scopeId","data-v-8af8c2e1"]]),Hc={class:"challenge"},Wc={class:"mobile-scale"},Sn={name:"Smart Home 4",description:"Movie Time Setup - Introduce a switch to deactivate motion sensors while maintaining an override for continuous light.",availableGates:["NOT","AND","OR","XOR","NAND","NOR","XNOR"],inputs:["M1","M2","M3","M4","A","S"],outputs:["Light"],hideSubmit:!1,timeLimit:120,maxGateCount:5},Gc={...Sn,data(){return{...Sn}}},Fc=Object.assign(Gc,{__name:"smarthome4",setup(e,{expose:t}){let i=kt("logicCanvas").world,n=ns("smvitual"),o;return Ft(async()=>{o=n.value,o.addMotionSensor(10,10),o.addMotionSensor(-10,10),o.addMotionSensor(-10,-10),o.addMotionSensor(10,-10),setTimeout(()=>{o.addLinkedSwitch("A",i.inputs[4].out(0)),o.addLinkedSwitch("S",i.inputs[5].out(0)),o.linkLight(i.outputs[0].in(0))},1e3)}),Jt(()=>{o.personPrompt()}),t({onSubmit:async()=>{o.personPrompt(),$("#submit-btn").prop("disabled",!0);let r=!0,a;const c=p=>p<.25?[.5,ce(p,0,.25,.2,.8)]:p<.5?[.5,ce(p,.25,.5,.8,.8)]:(p=ce(p,.5,1,0,1),[Math.sin(p*Math.PI*2)*.4+.5,Math.cos(p*Math.PI*2)*.4+.5]),u=[[!1,!1],[!1,!0],[!0,!1],[!0,!0]],f=p=>{let[m,g,v,M,T,I]=p;return I||[m,g,v,M].some(_=>_)&&T};for(let p=0;p<u.length;p++){let[m,g]=u[p];if(await n.value.personCycleTest(v=>{let M=v.distances.map((R,w)=>R<225),T=i.evaluateSync([...M,m,g])[0],I=f([...M,m,g]);if(T!=I)return r=!1,a=`Hmm... It seems like there's an issue with the system.${v.enoughMotion?" I was moving.":" I was siting still."}${m?" Motion Sensing was active.":" Motion Sensing was deactivated."}${g?" The light switch was on..":" The light switch was off"} The light should ${I?"turn on":"stay off"}. Can you double-check your configuration?`,!0},c),!r)break}return r?o.personPrompt("Great job! The system is now working perfectly. Thank you for your help!"):o.personPrompt(a),$("#submit-btn").prop("disabled",!1),r}}),(r,a)=>(U(),B("div",Hc,[S("div",Wc,[Ot(js,{ref_key:"smvitual",ref:n},null,512)]),a[0]||(a[0]=xs('<div class="story" data-v-0d9036f2><p data-v-0d9036f2> The homeowner enjoys watching movies in their living room and needs a way to deactivate the motion sensors during movie time. To address this, theyve installed a new switch labeled <b data-v-0d9036f2>A</b> (for activation). </p><p data-v-0d9036f2> Your task is to configure the system so that it behaves as follows: </p><ul data-v-0d9036f2><li data-v-0d9036f2>If switch <b data-v-0d9036f2>S</b> is ON, the light will remain ON continuously, regardless of the state of the motion sensors or switch <b data-v-0d9036f2>A</b>.</li><li data-v-0d9036f2>If switch <b data-v-0d9036f2>S</b> is OFF and switch <b data-v-0d9036f2>A</b> is ON, the motion sensors (M1, M2, M3, M4) will control the light. The light should turn ON if any motion sensor detects motion and turn OFF only when none of the sensors detect motion.</li><li data-v-0d9036f2>If both switch <b data-v-0d9036f2>S</b> and switch <b data-v-0d9036f2>A</b> are OFF, the light will remain OFF, regardless of any detected motion.</li></ul><p data-v-0d9036f2> Design and test the system to ensure it accommodates the homeowner&#39;s need for a distraction-free movie experience while preserving normal functionality in other scenarios! </p></div>',1))]))}}),Uc=Ut(Fc,[["__scopeId","data-v-0d9036f2"]]),jc=new rs({name:"Random 2 inputs",description:"",inputs:["A","B"],outputs:["OUT"],truthTable:()=>{let e=[];for(;e.length==0;){e=[];for(let t=0;t<4;t++){let s=t&1?1:0,i=t&2?1:0,n=Math.random()>.5?1:0;Math.random()>.2&&e.push({inputs:[s,i],outputs:[n]})}}return e},maxGateCount:void 0,timeLimit:60}),Bc=jc,Vc=Object.assign(Bc,{__name:"random2in",setup(e){let t=kt("truthTableLevelData"),s=Gs();const i=()=>{t.calculateTruthTable(),s()};return(n,o)=>(U(),B("div",null,[S("h1",null,[o[0]||(o[0]=os("Random 2 inputs ")),S("button",{class:"btn btn-secondary",onClick:i},"Renew")])]))}}),Kc=new rs({name:"Random 3 inputs",description:"",inputs:["A","B","C"],outputs:["OUT"],truthTable:()=>{let e=[];for(;e.length==0;){e=[];for(let t=0;t<2**3;t++){let s=t&1?1:0,i=t&2?1:0,n=t&4?1:0,o=Math.random()>.5?1:0;Math.random()>.2&&e.push({inputs:[s,i,n],outputs:[o]})}}return e},maxGateCount:void 0,timeLimit:60}),qc=Kc,Xc=Object.assign(qc,{__name:"random3in",setup(e){let t=kt("truthTableLevelData"),s=Gs();const i=()=>{t.calculateTruthTable(),s()};return(n,o)=>(U(),B("div",null,[S("h1",null,[o[0]||(o[0]=os("Random 3 inputs ")),S("button",{class:"btn btn-secondary",onClick:i},"Renew")])]))}});console.log("vue",Uo);const Pi=[{name:"Basic",description:"Basic level",levels:[{name:"Tutorial",description:"Learn the basics of logic gates and game mechanics",goToPage:$i},Uo,vc]},{name:"Smart Home",description:"smarthome level",levels:[Oc,Lc,Pc,Uc]},{name:"Intermediate",description:"Intermediate level",levels:[Vc,Xc]},{name:"Others",description:"Advanced level",levels:[{name:"Level 4",description:"Level 4Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 5",description:"Level 5Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"}]}],he={};let ps;Pi.forEach(e=>{e.levels.forEach(t=>{let s=`${e.name}.${t.name}`;t.world=e,t.id=s,t.cardID=s.replace(/\W/g,"-"),he[s]=t,ps&&(ps.next=t,t.previous=ps),ps=t})});const jo=[];Object.keys(he).forEach(e=>{jo.push(he[e])});const zc={class:"app-container"},Yc={class:"back-button"},Jc={class:"app-inner"},Zc={id:"world-selection",class:"world-selection-container","data-bs-theme":"dark"},Qc={class:"world"},tu={class:"world-title"},eu={class:"level-container"},su={class:"level"},iu=["id"],nu={class:"card-body"},ou={class:"card-title"},lu={class:"star-spin"},ru={key:0,src:$o,alt:"star",class:"star result-star result-star-fill"},au={key:1,src:Po,alt:"star",class:"star result-star"},cu={class:"card-text"},uu=["onClick"],du={__name:"WorldSelection",setup(e){const t=Gs(),s=t==null?void 0:t.currentLevelID,i=t==null?void 0:t.nextLevelID;Ni(()=>{ct(Ms)}),Ft(()=>{let l=window.location.href.split("#")[0]+"#world-selection";if(window.history.pushState({},"",l),tt.clear(),!xt.getAttempt("Basic.Tutorial","stars")){const r=$(".go-to-play")[0];tt.add({element:r,animation:"click"})}if(s){const r=he[s],a=he[i];let c=$("#card-"+(r==null?void 0:r.cardID)),u=$("#card-"+(a==null?void 0:a.cardID)),f=window.innerHeight/4;$("html, body").animate({scrollTop:c.offset().top-f},100);let p=$(c).css("background-color");a?setTimeout(()=>{u.addClass("go-in-to-animation"),$("html, body").animate({scrollTop:u.offset().top-f},100)},1e3):$(c).animate({backgroundColor:"rgba(200, 200, 200, 0.5)"},1e3,()=>{$(c).animate({backgroundColor:p},3e3)})}jo.forEach(r=>{xt.getAttempt(r.id,"animate_world_select")&&xt.setAttempt(r.id,"animate_world_select",!1)})}),Jt(()=>{tt.clear()});const n=o=>{$("html, body").animate({scrollTop:0},10),o.goToPage?ct(o.goToPage):ct(Us,o.id)};return(o,l)=>(U(),B("div",zc,[S("div",Yc,[S("button",{class:"btn btn-outline-secondary",onClick:l[0]||(l[0]=r=>Ct(ct)(Ms))},"Back")]),S("div",Jc,[l[1]||(l[1]=S("img",{class:"logo wsimg",src:Fs},null,-1)),S("div",Zc,[(U(!0),B(lt,null,le(Ct(Pi),r=>(U(),B("div",Qc,[S("h1",tu,Ht(r.name),1),S("div",eu,[(U(!0),B(lt,null,le(r.levels,a=>(U(),B("div",su,[S("div",{class:"card",style:{width:"18rem"},id:"card-"+a.cardID},[S("div",nu,[S("h5",ou,[os(Ht(a.name)+" ",1),S("div",{class:Ns(["star-container",Ct(xt).getAttempt(a.id,"animate_world_select")?"star-animate":""])},[(U(!0),B(lt,null,le(Ct(xt).getAttempt(a.id,"stars")||[!1,!1,!1],c=>(U(),B("div",lu,[c?(U(),B("img",ru)):(U(),B("img",au))]))),256))],2)]),S("p",cu,Ht(a.description),1),S("button",{class:"btn btn-primary go-to-play float-right",onClick:c=>n(a)},"Start",8,uu)])],8,iu)]))),256))])]))),256))])])]))}},ue=Ut(du,[["__scopeId","data-v-ecc22ba4"]]),hu={class:"app-inner"},fu={class:"d-flex justify-content-center"},pu={__name:"MainMenu",setup(e){return Ft(()=>{console.log("mounted");let s=window.location.href.split("#")[0]+"#main-menu";window.history.pushState({},"",s);const i=$(".start-btn")[0];tt.clear(),tt.add({element:i,animation:"click"})}),(t,s)=>(U(),B("div",hu,[s[2]||(s[2]=S("img",{alt:"Vue logo",class:"logo",src:Fs},null,-1)),S("div",fu,[S("a",{class:"start-btn",id:"start-btn",onClick:s[0]||(s[0]=i=>Ct(ct)(ue))},s[1]||(s[1]=[S("img",{src:Ea,class:"start-btn-img",viewBox:"0 0 16 16"},null,-1)]))])]))}},Ms=Ut(pu,[["__scopeId","data-v-659addd0"]]);function Me(e,t){let s=document.createElement("div");s.style.position=e.style.position,s.style.top=e.style.top,s.style.left=e.style.left,s.style.width=e.style.width,s.style.height=e.style.height,s.style.zIndex=e.style.zIndex,s.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",s.classList.add(t),s.classList.add("hintcursor-animation-stacked"),e.replaceWith(s),s.appendChild(e)}function Be(e){let t=e.parentElement;t.classList.contains("hintcursor-animation-stacked")&&(e.style.top=t.style.top,e.style.left=t.style.left,t.parentElement.appendChild(e),t.remove(),Be(e))}function Hi(e){let t=e==null?void 0:e.parentElement;return t==null?e:t.classList.contains("hintcursor-animation-stacked")?Hi(t):e}function mu(e,t,s){let i=Hi(e);i.style.top=`${s}px`,i.style.left=`${t}px`}class gu{constructor(t,s,i){this.transitionDuration=s||500,this.target={},this.hintElement=null,this.creatDomElement(i),this.currentAnimation=null,this.animations={click:()=>{Be(this.hintElement),Me(this.hintElement,"hintcursor-animation-fadeinfromright"),Me(this.hintElement,"hintcursor-animation-jiggle"),Me(this.hintElement,"hintcursor-animation-blink"),this.setTransitionDuration(this.transitionDuration)},drag:()=>{Be(this.hintElement),Me(this.hintElement,"hintcursor-animation-drag"),this.setTransitionDuration(this.transitionDuration)},point:()=>{Be(this.hintElement),Me(this.hintElement,"hintcursor-animation-fadeinfromright"),Me(this.hintElement,"hintcursor-animation-point"),this.setTransitionDuration(this.transitionDuration)}},this.setAnimation("click"),this.moveTo(t,s);let n=new ki(100);this._onWindowResizeProxy=()=>{n.run(()=>{this.moveToTarget()})},window.addEventListener("resize",this._onWindowResizeProxy),this.followInterval=setInterval(()=>{n.run(()=>{this.moveToTarget()})},200)}creatDomElement(t){let s=document.createElement("img");s.src="hintcursor_click.png",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.width="40px",s.style.height="40px",s.style.zIndex=3e3,s.style.pointerEvents="none",this.hintElement=s,t=t||document.documentElement,t.appendChild(s)}setAnimation(t,s){(s||t!=this.currentAnimation)&&(this.currentAnimation=t,this.animations[t]())}setTarget(t){this.target=t}moveToTarget(){let t=this.target;if(this.hidden)return;let s=we(t,document.documentElement),i=s.left,n=s.top;i+=$(t).outerWidth()*.6,n+=$(t).outerHeight()*.6,mu(this.hintElement,i,n)}moveTo(t,s){this.setTransitionDuration(s),this.setTarget(t),this.moveToTarget()}setTransitionDuration(t){if(t==null)return;this.transitionDuration=t;let s=Hi(this.hintElement);s.style.transition=`top ${t}ms, left ${t}ms`,s.style.transitionTimingFunction="ease-in-out"}hide(){this.hintElement.style.transition="opacity 0.5s",this.hintElement.style.opacity=0,this.hidden=!0}unhide(){this.hintElement.style.transition="opacity 0.5s",this.hintElement.style.opacity=1,this.hidden=!1}remove(){this.hide(),setTimeout(()=>{this._remove()},500)}_remove(){clearInterval(this.followInterval),window.removeEventListener("resize",this._onWindowResizeProxy),Be(this.hintElement),this.hintElement.remove(),this.hintElement=null,this.target=null}}class vu{constructor(t,s,i){this.elements=t||[],this.cursorHint=new gu(void 0,void 0,i),this._finished=!1,this.next()}next(){if(this.current=this.elements.splice(0,1)[0],!this.current){this.cursorHint.hide(),this._finished=!0;return}this.current.animation&&this.cursorHint.setAnimation(this.current.animation),this.current.element&&this.cursorHint.moveTo(this.current.element)}add(t){this.elements.push(t),this._finished&&(this._finished=!1,this.cursorHint.unhide(),this.next())}clear(){this.elements=[],this.next()}}class bu{constructor(t,s){this.logicCanvas=t,this.world=t==null?void 0:t.world,this.eventManager=t==null?void 0:t.eventManager,this.cursorHintSeries=new vu([],500,s),this.currentHintSolution=null}setCanvas(t){this.cursorHintSeries.clear(),this.logicCanvas=t,this.world=t==null?void 0:t.world,this.eventManager=t==null?void 0:t.eventManager}next(){this.cursorHintSeries.next()}add(t){this.cursorHintSeries.add(t)}clear(){this.cursorHintSeries.clear()}async addGate(t,s){s=s||$(`.add-${t.toLowerCase()}-btn`)[0],this.setSolution("addGate",{gateType:t}),this.add({element:s,animation:"click"});let i=await this.eventManager.wait("CANVAS_GATE_CREATED",n=>n.funcSpec.name===t);return this.next(),i}async removeGate(t){if(this.setSolution("removeGate",{gate:t}),this.logicCanvas.showingModeSelector()){let s=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(s),this.logicCanvas.moveMode||(this.add({element:s,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",i=>i==="MOVING"),this.next())}this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("GATE_REMOVED",s=>s===t),this.next(),this.currentHintSolution=null}async addWire(t,s,i){if(this.setSolution("addWire",{terminal1:t,terminal2:s}),this.logicCanvas.showingModeSelector()){let n=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(n),this.logicCanvas.moveMode&&(this.add({element:n,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",o=>o==="WIRING"),this.next())}this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("WORLD_TERMINAL_SELECTED",n=>{if(n.from===s){this.cursorHintSeries.cursorHint.setAnimation("click",!0);let l=t;t=s,s=l}let o=n.from===t||n.from===s;return o||setTimeout(()=>{this.world.clearSelection(),this.logicCanvas.showConnectableTerminals(),this.cursorHintSeries.cursorHint.setAnimation("click",!0)},500),o}),this.next(),this.add({element:s.domElement,animation:"click"}),await this.eventManager.wait(i||"WORLD_TERMINAL_CONNECTED",n=>{let o=n.from===t&&n.to===s,l=n.from===s&&n.to===t;return o||l}),this.next()}async removeWire(t,s){await this.addWire(t,s,"WORLD_TERMINAL_DISCONNECTED")}async toggleInput(t){this.setSolution("toggleInput",{gate:t}),this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("TERMINAL_STATE_CHANGED",s=>s===t.out(0)),this.next()}async moveGate(t,s,i,n,o,l){n=n??100,o=o??100;const r=$(this.logicCanvas.domElement).width(),a=$(this.logicCanvas.domElement).height();console.log(a,r),s>=0&&s<=1&&(s=s*r-n/2),i>=0&&i<=1&&(i=i*a-o/2),this.setSolution("moveGate",{gate:t,x:s,y:i,width:n,height:o});let c=document.createElement("div");if(c.style.position="absolute",c.style.top=`${i/a*100}%`,c.style.left=`${s/r*100}%`,c.style.width=`${n}px`,c.style.height=`${o}px`,c.style.pointerEvents="none",c.style.zIndex=1e3,c.style.border="2px solid rgba(0,0,0,0.5)",c.style.borderRadius="5px",c.style.backgroundColor="rgba(100,0,0,0.1)",c.style.opacity=0,c.style.transition="opacity 0.5s",requestAnimationFrame(()=>{c.style.opacity=.5}),this.logicCanvas.domElement.appendChild(c),this.logicCanvas.showingModeSelector()){let u=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(u),this.logicCanvas.moveMode||(this.add({element:u,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",f=>f==="MOVING"),this.next())}this.add({element:t.domElement,animation:"drag"}),await this.eventManager.wait("CANVAS_GATE_MOVE_START",u=>u===t),l=l||$(t.domElement).offset(),c.style.opacity=1,this.next(),this.add({element:c,animation:"point"}),await this.eventManager.wait("CANVAS_GATE_MOVE_END",u=>u===t),this.next(),c.style.opacity=0,setTimeout(()=>{c.remove()},500),Go(t.domElement,c)||($(t.domElement)[0].style.transition="top 0.5s, left 0.5s",$(t.domElement).offset(l),setTimeout(()=>{$(t.domElement)[0].style.transition=""},500),await this.moveGate(t,s,i,n,o,l))}setSolution(t,s){({addGate:()=>{let n=s.gateType;this.currentHintSolution=()=>{this.logicCanvas.createGate(n)}},removeGate:()=>{let n=s.gate;this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING"),await at(100),n.remove()}},addWire:()=>{let n=s.terminal1,o=s.terminal2,l=we(n.domElement,this.logicCanvas.domElement),r=we(o.domElement,this.logicCanvas.domElement);this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","WIRING"),await at(100),this.world.clearSelection(),this.world.makeConnection(n),this.logicCanvas.mousePos={x:(l.left+r.left)/2,y:(l.top+r.top)/2},await at(100),this.world.makeConnection(o)}},toggleInput:()=>{let n=s.gate;this.currentHintSolution=()=>{n.out(0).toggle()}},moveGate:()=>{let n=s.gate,o=s.x,l=s.y,r=s.width-$(n.domElement).outerWidth(),a=s.height-$(n.domElement).outerHeight();this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING"),await at(100),this.eventManager.publish("CANVAS_GATE_MOVE_START",n),n.domElement.style.transition="top 0.1s, left 0.1s",n.domElement.style.top=`${l+r/2}px`,n.domElement.style.left=`${o+a/2}px`,await at(100),n.domElement.style.transition="",this.eventManager.publish("CANVAS_GATE_MOVE_END",n)}}})[t]()}skip(){this.currentHintSolution&&(this.currentHintSolution(),this.currentHintSolution=null)}}console.log("HintCursor loaded");/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */(function(e){function t(l,r){if(!(l.originalEvent.touches.length>1)){l.preventDefault();var a=l.originalEvent.changedTouches[0],c=document.createEvent("MouseEvents");c.initMouseEvent(r,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),l.target.dispatchEvent(c)}}if(e.support.touch="ontouchend"in document,e.support.touch){var s,i=e.ui.mouse.prototype,n=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(l){var r=this;!s&&r._mouseCapture(l.originalEvent.changedTouches[0])&&(s=!0,r._touchMoved=!1,t(l,"mouseover"),t(l,"mousemove"),t(l,"mousedown"))},i._touchMove=function(l){s&&(this._touchMoved=!0,t(l,"mousemove"))},i._touchEnd=function(l){s&&(t(l,"mouseup"),t(l,"mouseout"),this._touchMoved||t(l,"click"),s=!1)},i._mouseInit=function(){var l=this;l.element.bind({touchstart:e.proxy(l,"_touchStart"),touchmove:e.proxy(l,"_touchMove"),touchend:e.proxy(l,"_touchEnd")}),n.call(l)},i._mouseDestroy=function(){var l=this;l.element.unbind({touchstart:e.proxy(l,"_touchStart"),touchmove:e.proxy(l,"_touchMove"),touchend:e.proxy(l,"_touchEnd")}),o.call(l)}}})(jQuery);var xn;(function(e){var t=function(){function i(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(i.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(n){this._dropEffect=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(n){this._effectAllowed=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),i.prototype.clearData=function(n){n!=null?delete this._data[n]:this._data=null},i.prototype.getData=function(n){return this._data[n]||""},i.prototype.setData=function(n,o){this._data[n]=o},i.prototype.setDragImage=function(n,o,l){var r=s._instance;r._imgCustom=n,r._imgOffset={x:o,y:l}},i}();e.DataTransfer=t;var s=function(){function i(){if(this._lastClick=0,i._instance)throw"DragDropTouch instance already created.";var n=!1;if(document.addEventListener("test",function(){},{get passive(){return n=!0,!0}}),"ontouchstart"in document){var o=document,l=this._touchstart.bind(this),r=this._touchmove.bind(this),a=this._touchend.bind(this),c=n?{passive:!1,capture:!1}:!1;o.addEventListener("touchstart",l,c),o.addEventListener("touchmove",r,c),o.addEventListener("touchend",a),o.addEventListener("touchcancel",a)}}return i.getInstance=function(){return i._instance},i.prototype._touchstart=function(n){var o=this;if(this._shouldHandle(n)){if(Date.now()-this._lastClick<i._DBLCLICK&&this._dispatchEvent(n,"dblclick",n.target)){n.cancelable&&n.preventDefault(),this._reset();return}this._reset();var l=this._closestDraggable(n.target);l&&!this._dispatchEvent(n,"mousemove",n.target)&&!this._dispatchEvent(n,"mousedown",n.target)&&(this._dragSource=l,this._ptDown=this._getPoint(n),this._lastTouch=n,n.cancelable&&n.preventDefault(),setTimeout(function(){o._dragSource==l&&o._img==null&&o._dispatchEvent(n,"contextmenu",l)&&o._reset()},i._CTXMENU),i._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){o._isDragEnabled=!0,o._touchmove(n)},i._PRESSHOLDAWAIT)))}},i.prototype._touchmove=function(n){if(this._shouldCancelPressHoldMove(n)){this._reset();return}if(this._shouldHandleMove(n)||this._shouldHandlePressHoldMove(n)){var o=this._getTarget(n);if(this._dispatchEvent(n,"mousemove",o)){this._lastTouch=n,n.cancelable&&n.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(n)&&(this._dispatchEvent(n,"dragstart",this._dragSource),this._createImage(n),this._dispatchEvent(n,"dragenter",o)),this._img&&(this._lastTouch=n,n.cancelable&&n.preventDefault(),o!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(n,"dragenter",o),this._lastTarget=o),this._moveImage(n),this._isDropZone=this._dispatchEvent(n,"dragover",o))}},i.prototype._touchend=function(n){if(this._shouldHandle(n)){if(this._dispatchEvent(this._lastTouch,"mouseup",n.target)){n.cancelable&&n.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",n.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(n.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},i.prototype._shouldHandle=function(n){return n&&!n.defaultPrevented&&n.touches&&n.touches.length<2},i.prototype._shouldHandleMove=function(n){return!i._ISPRESSHOLDMODE&&this._shouldHandle(n)},i.prototype._shouldHandlePressHoldMove=function(n){return i._ISPRESSHOLDMODE&&this._isDragEnabled&&n&&n.touches&&n.touches.length},i.prototype._shouldCancelPressHoldMove=function(n){return i._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(n)>i._PRESSHOLDMARGIN},i.prototype._shouldStartDragging=function(n){var o=this._getDelta(n);return o>i._THRESHOLD||i._ISPRESSHOLDMODE&&o>=i._PRESSHOLDTHRESHOLD},i.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new t,clearInterval(this._pressHoldInterval)},i.prototype._getPoint=function(n,o){return n&&n.touches&&(n=n.touches[0]),{x:o?n.pageX:n.clientX,y:o?n.pageY:n.clientY}},i.prototype._getDelta=function(n){if(i._ISPRESSHOLDMODE&&!this._ptDown)return 0;var o=this._getPoint(n);return Math.abs(o.x-this._ptDown.x)+Math.abs(o.y-this._ptDown.y)},i.prototype._getTarget=function(n){for(var o=this._getPoint(n),l=document.elementFromPoint(o.x,o.y);l&&getComputedStyle(l).pointerEvents=="none";)l=l.parentElement;return l},i.prototype._createImage=function(n){this._img&&this._destroyImage();var o=this._imgCustom||this._dragSource;if(this._img=o.cloneNode(!0),this._copyStyle(o,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var l=o.getBoundingClientRect(),r=this._getPoint(n);this._imgOffset={x:r.x-l.left,y:r.y-l.top},this._img.style.opacity=i._OPACITY.toString()}this._moveImage(n),document.body.appendChild(this._img)},i.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},i.prototype._moveImage=function(n){var o=this;requestAnimationFrame(function(){if(o._img){var l=o._getPoint(n,!0),r=o._img.style;r.position="absolute",r.pointerEvents="none",r.zIndex="999999",r.left=Math.round(l.x-o._imgOffset.x)+"px",r.top=Math.round(l.y-o._imgOffset.y)+"px"}})},i.prototype._copyProps=function(n,o,l){for(var r=0;r<l.length;r++){var a=l[r];n[a]=o[a]}},i.prototype._copyStyle=function(n,o){if(i._rmvAtts.forEach(function(f){o.removeAttribute(f)}),n instanceof HTMLCanvasElement){var l=n,r=o;r.width=l.width,r.height=l.height,r.getContext("2d").drawImage(l,0,0)}for(var a=getComputedStyle(n),c=0;c<a.length;c++){var u=a[c];u.indexOf("transition")<0&&(o.style[u]=a[u])}o.style.pointerEvents="none";for(var c=0;c<n.children.length;c++)this._copyStyle(n.children[c],o.children[c])},i.prototype._dispatchEvent=function(n,o,l){if(n&&l){var r=document.createEvent("Event"),a=n.touches?n.touches[0]:n;return r.initEvent(o,!0,!0),r.button=0,r.which=r.buttons=1,this._copyProps(r,n,i._kbdProps),this._copyProps(r,a,i._ptProps),r.dataTransfer=this._dataTransfer,l.dispatchEvent(r),r.defaultPrevented}return!1},i.prototype._closestDraggable=function(n){for(;n;n=n.parentElement)if(n.hasAttribute("draggable")&&n.draggable)return n;return null},i}();s._instance=new s,s._THRESHOLD=5,s._OPACITY=.5,s._DBLCLICK=500,s._CTXMENU=900,s._ISPRESSHOLDMODE=!1,s._PRESSHOLDAWAIT=400,s._PRESSHOLDMARGIN=25,s._PRESSHOLDTHRESHOLD=0,s._rmvAtts="id,class,style,draggable".split(","),s._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),s._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),e.DragDropTouch=s})(xn||(xn={}));const tt=new bu(void 0);console.log(location);const _u=()=>{for(let e=0;e<20;e++){let t=document.createElement("div");t.innerHTML="dummy leak",document.body.appendChild(t),t.remove()}},yu=async()=>{_u();for(let e=0;e<10;e++)await ct(Ms),await at(100),await ct(ue),await at(100),await ct(Us,Pi[1].levels[0].id),await at(100)};let Ue=document.location.hash;Ue.startsWith("#play")?ct(Us):Ue.startsWith("#world-selection")||Ue.startsWith("#smart-home-debug")?ct(ue):Ue.startsWith("#tutorial")?ct($i):Ue.startsWith("#mem-leak-test")?yu():ct(Ms);let ee=document.createElement("button");ee.innerHTML="Show Wireframe";ee.style.position="fixed";ee.style.bottom="10px";ee.style.right="10px";ee.style.zIndex="100";ee.style.opacity="0.1";ee.addEventListener("click",()=>{let e=document.createElement("style");e.innerHTML=`
    * {
      outline: rgba(255,0,0,0.3) dotted 1px;
    }
  `,document.documentElement.appendChild(e),ee.remove()});document.body.appendChild(ee);let ge=document.createElement("button");ge.innerHTML="Clear User Data";ge.style.position="fixed";ge.style.bottom="10px";ge.style.left="10px";ge.style.zIndex="100";ge.style.opacity="0.1";ge.addEventListener("click",()=>{xt.clear()});document.body.appendChild(ge)});export default wu();
