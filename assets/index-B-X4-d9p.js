var Il=Object.defineProperty;var Al=(e,t,i)=>t in e?Il(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var wt=(e,t,i)=>Al(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=i(n);fetch(n.href,l)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function es(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const U={},we=[],Pt=()=>{},Ml=()=>!1,vi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),is=e=>e.startsWith("onUpdate:"),lt=Object.assign,ss=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Rl=Object.prototype.hasOwnProperty,B=(e,t)=>Rl.call(e,t),P=Array.isArray,Te=e=>_i(e)==="[object Map]",hn=e=>_i(e)==="[object Set]",H=e=>typeof e=="function",it=e=>typeof e=="string",Jt=e=>typeof e=="symbol",tt=e=>e!==null&&typeof e=="object",pn=e=>(tt(e)||H(e))&&H(e.then)&&H(e.catch),mn=Object.prototype.toString,_i=e=>mn.call(e),Nl=e=>_i(e).slice(8,-1),gn=e=>_i(e)==="[object Object]",ns=e=>it(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,He=es(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bi=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},$l=/-(\w)/g,Yt=bi(e=>e.replace($l,(t,i)=>i?i.toUpperCase():"")),kl=/\B([A-Z])/g,ge=bi(e=>e.replace(kl,"-$1").toLowerCase()),vn=bi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Di=bi(e=>e?`on${vn(e)}`:""),zt=(e,t)=>!Object.is(e,t),Ii=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},_n=(e,t,i,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:i})},Pl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $s;const yi=()=>$s||($s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ls(e){if(P(e)){const t={};for(let i=0;i<e.length;i++){const s=e[i],n=it(s)?Fl(s):ls(s);if(n)for(const l in n)t[l]=n[l]}return t}else if(it(e)||tt(e))return e}const Hl=/;(?![^(]*\))/g,Wl=/:([^]+)/,Gl=/\/\*[^]*?\*\//g;function Fl(e){const t={};return e.replace(Gl,"").split(Hl).forEach(i=>{if(i){const s=i.split(Wl);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function os(e){let t="";if(it(e))t=e;else if(P(e))for(let i=0;i<e.length;i++){const s=os(e[i]);s&&(t+=s+" ")}else if(tt(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Bl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jl=es(Bl);function bn(e){return!!e||e===""}const yn=e=>!!(e&&e.__v_isRef===!0),Ot=e=>it(e)?e:e==null?"":P(e)||tt(e)&&(e.toString===mn||!H(e.toString))?yn(e)?Ot(e.value):JSON.stringify(e,En,2):String(e),En=(e,t)=>yn(t)?En(e,t.value):Te(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[s,n],l)=>(i[Ai(s,l)+" =>"]=n,i),{})}:hn(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>Ai(i))}:Jt(t)?Ai(t):tt(t)&&!P(t)&&!gn(t)?String(t):t,Ai=(e,t="")=>{var i;return Jt(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class Ul{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!t&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=yt;try{return yt=this,t()}finally{yt=i}}}on(){yt=this}off(){yt=this.parent}stop(t){if(this._active){this._active=!1;let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(this.effects.length=0,i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Vl(){return yt}let z;const Mi=new WeakSet;class wn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Mi.has(this)&&(Mi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Sn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ks(this),xn(this);const t=z,i=It;z=this,It=!0;try{return this.fn()}finally{Cn(this),z=t,It=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)cs(t);this.deps=this.depsTail=void 0,ks(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Mi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fi(this)&&this.run()}get dirty(){return Fi(this)}}let Tn=0,We,Ge;function Sn(e,t=!1){if(e.flags|=8,t){e.next=Ge,Ge=e;return}e.next=We,We=e}function rs(){Tn++}function as(){if(--Tn>0)return;if(Ge){let t=Ge;for(Ge=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;We;){let t=We;for(We=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=i}}if(e)throw e}function xn(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Cn(e){let t,i=e.depsTail,s=i;for(;s;){const n=s.prevDep;s.version===-1?(s===i&&(i=n),cs(s),ql(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}e.deps=t,e.depsTail=i}function Fi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(On(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function On(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ue))return;e.globalVersion=Ue;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Fi(e)){e.flags&=-3;return}const i=z,s=It;z=e,It=!0;try{xn(e);const n=e.fn(e._value);(t.version===0||zt(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{z=i,It=s,Cn(e),e.flags&=-3}}function cs(e,t=!1){const{dep:i,prevSub:s,nextSub:n}=e;if(s&&(s.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=s,e.nextSub=void 0),i.subs===e&&(i.subs=s,!s&&i.computed)){i.computed.flags&=-5;for(let l=i.computed.deps;l;l=l.nextDep)cs(l,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function ql(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let It=!0;const Ln=[];function Zt(){Ln.push(It),It=!1}function Qt(){const e=Ln.pop();It=e===void 0?!0:e}function ks(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=z;z=void 0;try{t()}finally{z=i}}}let Ue=0;class Kl{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class us{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!z||!It||z===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==z)i=this.activeLink=new Kl(z,this),z.deps?(i.prevDep=z.depsTail,z.depsTail.nextDep=i,z.depsTail=i):z.deps=z.depsTail=i,Dn(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const s=i.nextDep;s.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=s),i.prevDep=z.depsTail,i.nextDep=void 0,z.depsTail.nextDep=i,z.depsTail=i,z.deps===i&&(z.deps=s)}return i}trigger(t){this.version++,Ue++,this.notify(t)}notify(t){rs();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{as()}}}function Dn(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Dn(s)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const Bi=new WeakMap,ue=Symbol(""),ji=Symbol(""),Ve=Symbol("");function rt(e,t,i){if(It&&z){let s=Bi.get(e);s||Bi.set(e,s=new Map);let n=s.get(i);n||(s.set(i,n=new us),n.map=s,n.key=i),n.track()}}function Bt(e,t,i,s,n,l){const o=Bi.get(e);if(!o){Ue++;return}const r=a=>{a&&a.trigger()};if(rs(),t==="clear")o.forEach(r);else{const a=P(e),c=a&&ns(i);if(a&&i==="length"){const d=Number(s);o.forEach((h,g)=>{(g==="length"||g===Ve||!Jt(g)&&g>=d)&&r(h)})}else switch((i!==void 0||o.has(void 0))&&r(o.get(i)),c&&r(o.get(Ve)),t){case"add":a?c&&r(o.get("length")):(r(o.get(ue)),Te(e)&&r(o.get(ji)));break;case"delete":a||(r(o.get(ue)),Te(e)&&r(o.get(ji)));break;case"set":Te(e)&&r(o.get(ue));break}}as()}function be(e){const t=F(e);return t===e?t:(rt(t,"iterate",Ve),St(e)?t:t.map(at))}function Ei(e){return rt(e=F(e),"iterate",Ve),e}const Xl={__proto__:null,[Symbol.iterator](){return Ri(this,Symbol.iterator,at)},concat(...e){return be(this).concat(...e.map(t=>P(t)?be(t):t))},entries(){return Ri(this,"entries",e=>(e[1]=at(e[1]),e))},every(e,t){return Gt(this,"every",e,t,void 0,arguments)},filter(e,t){return Gt(this,"filter",e,t,i=>i.map(at),arguments)},find(e,t){return Gt(this,"find",e,t,at,arguments)},findIndex(e,t){return Gt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Gt(this,"findLast",e,t,at,arguments)},findLastIndex(e,t){return Gt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Gt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ni(this,"includes",e)},indexOf(...e){return Ni(this,"indexOf",e)},join(e){return be(this).join(e)},lastIndexOf(...e){return Ni(this,"lastIndexOf",e)},map(e,t){return Gt(this,"map",e,t,void 0,arguments)},pop(){return Re(this,"pop")},push(...e){return Re(this,"push",e)},reduce(e,...t){return Ps(this,"reduce",e,t)},reduceRight(e,...t){return Ps(this,"reduceRight",e,t)},shift(){return Re(this,"shift")},some(e,t){return Gt(this,"some",e,t,void 0,arguments)},splice(...e){return Re(this,"splice",e)},toReversed(){return be(this).toReversed()},toSorted(e){return be(this).toSorted(e)},toSpliced(...e){return be(this).toSpliced(...e)},unshift(...e){return Re(this,"unshift",e)},values(){return Ri(this,"values",at)}};function Ri(e,t,i){const s=Ei(e),n=s[t]();return s!==e&&!St(e)&&(n._next=n.next,n.next=()=>{const l=n._next();return l.value&&(l.value=i(l.value)),l}),n}const zl=Array.prototype;function Gt(e,t,i,s,n,l){const o=Ei(e),r=o!==e&&!St(e),a=o[t];if(a!==zl[t]){const h=a.apply(e,l);return r?at(h):h}let c=i;o!==e&&(r?c=function(h,g){return i.call(this,at(h),g,e)}:i.length>2&&(c=function(h,g){return i.call(this,h,g,e)}));const d=a.call(o,c,s);return r&&n?n(d):d}function Ps(e,t,i,s){const n=Ei(e);let l=i;return n!==e&&(St(e)?i.length>3&&(l=function(o,r,a){return i.call(this,o,r,a,e)}):l=function(o,r,a){return i.call(this,o,at(r),a,e)}),n[t](l,...s)}function Ni(e,t,i){const s=F(e);rt(s,"iterate",Ve);const n=s[t](...i);return(n===-1||n===!1)&&ps(i[0])?(i[0]=F(i[0]),s[t](...i)):n}function Re(e,t,i=[]){Zt(),rs();const s=F(e)[t].apply(e,i);return as(),Qt(),s}const Yl=es("__proto__,__v_isRef,__isVue"),In=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Jt));function Jl(e){Jt(e)||(e=String(e));const t=F(this);return rt(t,"has",e),t.hasOwnProperty(e)}class An{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,s){if(i==="__v_skip")return t.__v_skip;const n=this._isReadonly,l=this._isShallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return l;if(i==="__v_raw")return s===(n?l?ro:$n:l?Nn:Rn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=P(t);if(!n){let a;if(o&&(a=Xl[i]))return a;if(i==="hasOwnProperty")return Jl}const r=Reflect.get(t,i,dt(t)?t:s);return(Jt(i)?In.has(i):Yl(i))||(n||rt(t,"get",i),l)?r:dt(r)?o&&ns(i)?r:r.value:tt(r)?n?kn(r):fs(r):r}}class Mn extends An{constructor(t=!1){super(!1,t)}set(t,i,s,n){let l=t[i];if(!this._isShallow){const a=he(l);if(!St(s)&&!he(s)&&(l=F(l),s=F(s)),!P(t)&&dt(l)&&!dt(s))return a?!1:(l.value=s,!0)}const o=P(t)&&ns(i)?Number(i)<t.length:B(t,i),r=Reflect.set(t,i,s,dt(t)?t:n);return t===F(n)&&(o?zt(s,l)&&Bt(t,"set",i,s):Bt(t,"add",i,s)),r}deleteProperty(t,i){const s=B(t,i);t[i];const n=Reflect.deleteProperty(t,i);return n&&s&&Bt(t,"delete",i,void 0),n}has(t,i){const s=Reflect.has(t,i);return(!Jt(i)||!In.has(i))&&rt(t,"has",i),s}ownKeys(t){return rt(t,"iterate",P(t)?"length":ue),Reflect.ownKeys(t)}}class Zl extends An{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const Ql=new Mn,to=new Zl,eo=new Mn(!0);const Ui=e=>e,ei=e=>Reflect.getPrototypeOf(e);function io(e,t,i){return function(...s){const n=this.__v_raw,l=F(n),o=Te(l),r=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,c=n[e](...s),d=i?Ui:t?Vi:at;return!t&&rt(l,"iterate",a?ji:ue),{next(){const{value:h,done:g}=c.next();return g?{value:h,done:g}:{value:r?[d(h[0]),d(h[1])]:d(h),done:g}},[Symbol.iterator](){return this}}}}function ii(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function so(e,t){const i={get(n){const l=this.__v_raw,o=F(l),r=F(n);e||(zt(n,r)&&rt(o,"get",n),rt(o,"get",r));const{has:a}=ei(o),c=t?Ui:e?Vi:at;if(a.call(o,n))return c(l.get(n));if(a.call(o,r))return c(l.get(r));l!==o&&l.get(n)},get size(){const n=this.__v_raw;return!e&&rt(F(n),"iterate",ue),Reflect.get(n,"size",n)},has(n){const l=this.__v_raw,o=F(l),r=F(n);return e||(zt(n,r)&&rt(o,"has",n),rt(o,"has",r)),n===r?l.has(n):l.has(n)||l.has(r)},forEach(n,l){const o=this,r=o.__v_raw,a=F(r),c=t?Ui:e?Vi:at;return!e&&rt(a,"iterate",ue),r.forEach((d,h)=>n.call(l,c(d),c(h),o))}};return lt(i,e?{add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear")}:{add(n){!t&&!St(n)&&!he(n)&&(n=F(n));const l=F(this);return ei(l).has.call(l,n)||(l.add(n),Bt(l,"add",n,n)),this},set(n,l){!t&&!St(l)&&!he(l)&&(l=F(l));const o=F(this),{has:r,get:a}=ei(o);let c=r.call(o,n);c||(n=F(n),c=r.call(o,n));const d=a.call(o,n);return o.set(n,l),c?zt(l,d)&&Bt(o,"set",n,l):Bt(o,"add",n,l),this},delete(n){const l=F(this),{has:o,get:r}=ei(l);let a=o.call(l,n);a||(n=F(n),a=o.call(l,n)),r&&r.call(l,n);const c=l.delete(n);return a&&Bt(l,"delete",n,void 0),c},clear(){const n=F(this),l=n.size!==0,o=n.clear();return l&&Bt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{i[n]=io(n,e,t)}),i}function ds(e,t){const i=so(e,t);return(s,n,l)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(B(i,n)&&n in s?i:s,n,l)}const no={get:ds(!1,!1)},lo={get:ds(!1,!0)},oo={get:ds(!0,!1)};const Rn=new WeakMap,Nn=new WeakMap,$n=new WeakMap,ro=new WeakMap;function ao(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function co(e){return e.__v_skip||!Object.isExtensible(e)?0:ao(Nl(e))}function fs(e){return he(e)?e:hs(e,!1,Ql,no,Rn)}function uo(e){return hs(e,!1,eo,lo,Nn)}function kn(e){return hs(e,!0,to,oo,$n)}function hs(e,t,i,s,n){if(!tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=n.get(e);if(l)return l;const o=co(e);if(o===0)return e;const r=new Proxy(e,o===2?s:i);return n.set(e,r),r}function Se(e){return he(e)?Se(e.__v_raw):!!(e&&e.__v_isReactive)}function he(e){return!!(e&&e.__v_isReadonly)}function St(e){return!!(e&&e.__v_isShallow)}function ps(e){return e?!!e.__v_raw:!1}function F(e){const t=e&&e.__v_raw;return t?F(t):e}function fo(e){return!B(e,"__v_skip")&&Object.isExtensible(e)&&_n(e,"__v_skip",!0),e}const at=e=>tt(e)?fs(e):e,Vi=e=>tt(e)?kn(e):e;function dt(e){return e?e.__v_isRef===!0:!1}function Pn(e){return Hn(e,!1)}function ho(e){return Hn(e,!0)}function Hn(e,t){return dt(e)?e:new po(e,t)}class po{constructor(t,i){this.dep=new us,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:F(t),this._value=i?t:at(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,s=this.__v_isShallow||St(t)||he(t);t=s?t:F(t),zt(t,i)&&(this._rawValue=t,this._value=s?t:at(t),this.dep.trigger())}}function Lt(e){return dt(e)?e.value:e}const mo={get:(e,t,i)=>t==="__v_raw"?e:Lt(Reflect.get(e,t,i)),set:(e,t,i,s)=>{const n=e[t];return dt(n)&&!dt(i)?(n.value=i,!0):Reflect.set(e,t,i,s)}};function Wn(e){return Se(e)?e:new Proxy(e,mo)}class go{constructor(t,i,s){this.fn=t,this.setter=i,this._value=void 0,this.dep=new us(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ue-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&z!==this)return Sn(this,!0),!0}get value(){const t=this.dep.track();return On(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function vo(e,t,i=!1){let s,n;return H(e)?s=e:(s=e.get,n=e.set),new go(s,n,i)}const si={},ci=new WeakMap;let re;function _o(e,t=!1,i=re){if(i){let s=ci.get(i);s||ci.set(i,s=[]),s.push(e)}}function bo(e,t,i=U){const{immediate:s,deep:n,once:l,scheduler:o,augmentJob:r,call:a}=i,c=I=>n?I:St(I)||n===!1||n===0?Kt(I,1):Kt(I);let d,h,g,m,E=!1,w=!1;if(dt(e)?(h=()=>e.value,E=St(e)):Se(e)?(h=()=>c(e),E=!0):P(e)?(w=!0,E=e.some(I=>Se(I)||St(I)),h=()=>e.map(I=>{if(dt(I))return I.value;if(Se(I))return c(I);if(H(I))return a?a(I,2):I()})):H(e)?t?h=a?()=>a(e,2):e:h=()=>{if(g){Zt();try{g()}finally{Qt()}}const I=re;re=d;try{return a?a(e,3,[m]):e(m)}finally{re=I}}:h=Pt,t&&n){const I=h,W=n===!0?1/0:n;h=()=>Kt(I(),W)}const D=Vl(),x=()=>{d.stop(),D&&D.active&&ss(D.effects,d)};if(l&&t){const I=t;t=(...W)=>{I(...W),x()}}let A=w?new Array(e.length).fill(si):si;const M=I=>{if(!(!(d.flags&1)||!d.dirty&&!I))if(t){const W=d.run();if(n||E||(w?W.some((V,q)=>zt(V,A[q])):zt(W,A))){g&&g();const V=re;re=d;try{const q=[W,A===si?void 0:w&&A[0]===si?[]:A,m];a?a(t,3,q):t(...q),A=W}finally{re=V}}}else d.run()};return r&&r(M),d=new wn(h),d.scheduler=o?()=>o(M,!1):M,m=I=>_o(I,!1,d),g=d.onStop=()=>{const I=ci.get(d);if(I){if(a)a(I,4);else for(const W of I)W();ci.delete(d)}},t?s?M(!0):A=d.run():o?o(M.bind(null,!0),!0):d.run(),x.pause=d.pause.bind(d),x.resume=d.resume.bind(d),x.stop=x,x}function Kt(e,t=1/0,i){if(t<=0||!tt(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,dt(e))Kt(e.value,t,i);else if(P(e))for(let s=0;s<e.length;s++)Kt(e[s],t,i);else if(hn(e)||Te(e))e.forEach(s=>{Kt(s,t,i)});else if(gn(e)){for(const s in e)Kt(e[s],t,i);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Kt(e[s],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ze(e,t,i,s){try{return s?e(...s):e()}catch(n){wi(n,t,i)}}function Ht(e,t,i,s){if(H(e)){const n=ze(e,t,i,s);return n&&pn(n)&&n.catch(l=>{wi(l,t,i)}),n}if(P(e)){const n=[];for(let l=0;l<e.length;l++)n.push(Ht(e[l],t,i,s));return n}}function wi(e,t,i,s=!0){const n=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||U;if(t){let r=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;r;){const d=r.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,a,c)===!1)return}r=r.parent}if(l){Zt(),ze(l,null,10,[e,a,c]),Qt();return}}yo(e,i,n,s,o)}function yo(e,t,i,s=!0,n=!1){if(n)throw e;console.error(e)}const pt=[];let $t=-1;const xe=[];let Vt=null,Ee=0;const Gn=Promise.resolve();let ui=null;function Eo(e){const t=ui||Gn;return e?t.then(this?e.bind(this):e):t}function wo(e){let t=$t+1,i=pt.length;for(;t<i;){const s=t+i>>>1,n=pt[s],l=qe(n);l<e||l===e&&n.flags&2?t=s+1:i=s}return t}function ms(e){if(!(e.flags&1)){const t=qe(e),i=pt[pt.length-1];!i||!(e.flags&2)&&t>=qe(i)?pt.push(e):pt.splice(wo(t),0,e),e.flags|=1,Fn()}}function Fn(){ui||(ui=Gn.then(jn))}function To(e){P(e)?xe.push(...e):Vt&&e.id===-1?Vt.splice(Ee+1,0,e):e.flags&1||(xe.push(e),e.flags|=1),Fn()}function Hs(e,t,i=$t+1){for(;i<pt.length;i++){const s=pt[i];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;pt.splice(i,1),i--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Bn(e){if(xe.length){const t=[...new Set(xe)].sort((i,s)=>qe(i)-qe(s));if(xe.length=0,Vt){Vt.push(...t);return}for(Vt=t,Ee=0;Ee<Vt.length;Ee++){const i=Vt[Ee];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Vt=null,Ee=0}}const qe=e=>e.id==null?e.flags&2?-1:1/0:e.id;function jn(e){try{for($t=0;$t<pt.length;$t++){const t=pt[$t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ze(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$t<pt.length;$t++){const t=pt[$t];t&&(t.flags&=-2)}$t=-1,pt.length=0,Bn(),ui=null,(pt.length||xe.length)&&jn()}}let Dt=null,Un=null;function di(e){const t=Dt;return Dt=e,Un=e&&e.type.__scopeId||null,t}function So(e,t=Dt,i){if(!t||e._n)return e;const s=(...n)=>{s._d&&qs(-1);const l=di(t);let o;try{o=e(...n)}finally{di(l),s._d&&qs(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function le(e,t,i,s){const n=e.dirs,l=t&&t.dirs;for(let o=0;o<n.length;o++){const r=n[o];l&&(r.oldValue=l[o].value);let a=r.dir[s];a&&(Zt(),Ht(a,i,8,[e.el,r,e,t]),Qt())}}const xo=Symbol("_vte"),Co=e=>e.__isTeleport;function gs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,gs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Vn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function qn(e){const t=wr(),i=ho(null);if(t){const n=t.refs===U?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>i.value,set:l=>i.value=l})}return i}function fi(e,t,i,s,n=!1){if(P(e)){e.forEach((E,w)=>fi(E,t&&(P(t)?t[w]:t),i,s,n));return}if(Fe(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&fi(e,t,i,s.component.subTree);return}const l=s.shapeFlag&4?Es(s.component):s.el,o=n?null:l,{i:r,r:a}=e,c=t&&t.r,d=r.refs===U?r.refs={}:r.refs,h=r.setupState,g=F(h),m=h===U?()=>!1:E=>B(g,E);if(c!=null&&c!==a&&(it(c)?(d[c]=null,m(c)&&(h[c]=null)):dt(c)&&(c.value=null)),H(a))ze(a,r,12,[o,d]);else{const E=it(a),w=dt(a);if(E||w){const D=()=>{if(e.f){const x=E?m(a)?h[a]:d[a]:a.value;n?P(x)&&ss(x,l):P(x)?x.includes(l)||x.push(l):E?(d[a]=[l],m(a)&&(h[a]=d[a])):(a.value=[l],e.k&&(d[e.k]=a.value))}else E?(d[a]=o,m(a)&&(h[a]=o)):w&&(a.value=o,e.k&&(d[e.k]=o))};o?(D.id=-1,bt(D,i)):D()}}}yi().requestIdleCallback;yi().cancelIdleCallback;const Fe=e=>!!e.type.__asyncLoader,Kn=e=>e.type.__isKeepAlive;function Oo(e,t){Xn(e,"a",t)}function Lo(e,t){Xn(e,"da",t)}function Xn(e,t,i=ct){const s=e.__wdc||(e.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ti(t,s,i),i){let n=i.parent;for(;n&&n.parent;)Kn(n.parent.vnode)&&Do(s,t,i,n),n=n.parent}}function Do(e,t,i,s){const n=Ti(t,e,s,!0);zn(()=>{ss(s[t],n)},i)}function Ti(e,t,i=ct,s=!1){if(i){const n=i[e]||(i[e]=[]),l=t.__weh||(t.__weh=(...o)=>{Zt();const r=Ye(i),a=Ht(t,i,e,o);return r(),Qt(),a});return s?n.unshift(l):n.push(l),l}}const Ut=e=>(t,i=ct)=>{(!Xe||e==="sp")&&Ti(e,(...s)=>t(...s),i)},Io=Ut("bm"),te=Ut("m"),Ao=Ut("bu"),Mo=Ut("u"),ve=Ut("bum"),zn=Ut("um"),Ro=Ut("sp"),No=Ut("rtg"),$o=Ut("rtc");function ko(e,t=ct){Ti("ec",e,t)}const Po=Symbol.for("v-ndc");function ae(e,t,i,s){let n;const l=i,o=P(e);if(o||it(e)){const r=o&&Se(e);let a=!1;r&&(a=!St(e),e=Ei(e)),n=new Array(e.length);for(let c=0,d=e.length;c<d;c++)n[c]=t(a?at(e[c]):e[c],c,void 0,l)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,l)}else if(tt(e))if(e[Symbol.iterator])n=Array.from(e,(r,a)=>t(r,a,void 0,l));else{const r=Object.keys(e);n=new Array(r.length);for(let a=0,c=r.length;a<c;a++){const d=r[a];n[a]=t(e[d],d,a,l)}}else n=[];return n}const qi=e=>e?gl(e)?Es(e):qi(e.parent):null,Be=lt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qi(e.parent),$root:e=>qi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vs(e),$forceUpdate:e=>e.f||(e.f=()=>{ms(e.update)}),$nextTick:e=>e.n||(e.n=Eo.bind(e.proxy)),$watch:e=>lr.bind(e)}),$i=(e,t)=>e!==U&&!e.__isScriptSetup&&B(e,t),Ho={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:s,data:n,props:l,accessCache:o,type:r,appContext:a}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return n[t];case 4:return i[t];case 3:return l[t]}else{if($i(s,t))return o[t]=1,s[t];if(n!==U&&B(n,t))return o[t]=2,n[t];if((c=e.propsOptions[0])&&B(c,t))return o[t]=3,l[t];if(i!==U&&B(i,t))return o[t]=4,i[t];Ki&&(o[t]=0)}}const d=Be[t];let h,g;if(d)return t==="$attrs"&&rt(e.attrs,"get",""),d(e);if((h=r.__cssModules)&&(h=h[t]))return h;if(i!==U&&B(i,t))return o[t]=4,i[t];if(g=a.config.globalProperties,B(g,t))return g[t]},set({_:e},t,i){const{data:s,setupState:n,ctx:l}=e;return $i(n,t)?(n[t]=i,!0):s!==U&&B(s,t)?(s[t]=i,!0):B(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:s,appContext:n,propsOptions:l}},o){let r;return!!i[o]||e!==U&&B(e,o)||$i(t,o)||(r=l[0])&&B(r,o)||B(s,o)||B(Be,o)||B(n.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:B(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function Ws(e){return P(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let Ki=!0;function Wo(e){const t=vs(e),i=e.proxy,s=e.ctx;Ki=!1,t.beforeCreate&&Gs(t.beforeCreate,e,"bc");const{data:n,computed:l,methods:o,watch:r,provide:a,inject:c,created:d,beforeMount:h,mounted:g,beforeUpdate:m,updated:E,activated:w,deactivated:D,beforeDestroy:x,beforeUnmount:A,destroyed:M,unmounted:I,render:W,renderTracked:V,renderTriggered:q,errorCaptured:et,serverPrefetch:xt,expose:ie,inheritAttrs:De,components:Je,directives:Ze,filters:Oi}=t;if(c&&Go(c,s,null),o)for(const Z in o){const K=o[Z];H(K)&&(s[Z]=K.bind(i))}if(n){const Z=n.call(i,i);tt(Z)&&(e.data=fs(Z))}if(Ki=!0,l)for(const Z in l){const K=l[Z],se=H(K)?K.bind(i,i):H(K.get)?K.get.bind(i,i):Pt,Qe=!H(K)&&H(K.set)?K.set.bind(i):Pt,ne=Lr({get:se,set:Qe});Object.defineProperty(s,Z,{enumerable:!0,configurable:!0,get:()=>ne.value,set:Mt=>ne.value=Mt})}if(r)for(const Z in r)Yn(r[Z],s,i,Z);if(a){const Z=H(a)?a.call(i):a;Reflect.ownKeys(Z).forEach(K=>{qo(K,Z[K])})}d&&Gs(d,e,"c");function ft(Z,K){P(K)?K.forEach(se=>Z(se.bind(i))):K&&Z(K.bind(i))}if(ft(Io,h),ft(te,g),ft(Ao,m),ft(Mo,E),ft(Oo,w),ft(Lo,D),ft(ko,et),ft($o,V),ft(No,q),ft(ve,A),ft(zn,I),ft(Ro,xt),P(ie))if(ie.length){const Z=e.exposed||(e.exposed={});ie.forEach(K=>{Object.defineProperty(Z,K,{get:()=>i[K],set:se=>i[K]=se})})}else e.exposed||(e.exposed={});W&&e.render===Pt&&(e.render=W),De!=null&&(e.inheritAttrs=De),Je&&(e.components=Je),Ze&&(e.directives=Ze),xt&&Vn(e)}function Go(e,t,i=Pt){P(e)&&(e=Xi(e));for(const s in e){const n=e[s];let l;tt(n)?"default"in n?l=de(n.from||s,n.default,!0):l=de(n.from||s):l=de(n),dt(l)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:o=>l.value=o}):t[s]=l}}function Gs(e,t,i){Ht(P(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,i)}function Yn(e,t,i,s){let n=s.includes(".")?ul(i,s):()=>i[s];if(it(e)){const l=t[e];H(l)&&Pi(n,l)}else if(H(e))Pi(n,e.bind(i));else if(tt(e))if(P(e))e.forEach(l=>Yn(l,t,i,s));else{const l=H(e.handler)?e.handler.bind(i):t[e.handler];H(l)&&Pi(n,l,e)}}function vs(e){const t=e.type,{mixins:i,extends:s}=t,{mixins:n,optionsCache:l,config:{optionMergeStrategies:o}}=e.appContext,r=l.get(t);let a;return r?a=r:!n.length&&!i&&!s?a=t:(a={},n.length&&n.forEach(c=>hi(a,c,o,!0)),hi(a,t,o)),tt(t)&&l.set(t,a),a}function hi(e,t,i,s=!1){const{mixins:n,extends:l}=t;l&&hi(e,l,i,!0),n&&n.forEach(o=>hi(e,o,i,!0));for(const o in t)if(!(s&&o==="expose")){const r=Fo[o]||i&&i[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const Fo={data:Fs,props:Bs,emits:Bs,methods:ke,computed:ke,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:ke,directives:ke,watch:jo,provide:Fs,inject:Bo};function Fs(e,t){return t?e?function(){return lt(H(e)?e.call(this,this):e,H(t)?t.call(this,this):t)}:t:e}function Bo(e,t){return ke(Xi(e),Xi(t))}function Xi(e){if(P(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function ht(e,t){return e?[...new Set([].concat(e,t))]:t}function ke(e,t){return e?lt(Object.create(null),e,t):t}function Bs(e,t){return e?P(e)&&P(t)?[...new Set([...e,...t])]:lt(Object.create(null),Ws(e),Ws(t??{})):t}function jo(e,t){if(!e)return t;if(!t)return e;const i=lt(Object.create(null),e);for(const s in t)i[s]=ht(e[s],t[s]);return i}function Jn(){return{app:null,config:{isNativeTag:Ml,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Uo=0;function Vo(e,t){return function(s,n=null){H(s)||(s=lt({},s)),n!=null&&!tt(n)&&(n=null);const l=Jn(),o=new WeakSet,r=[];let a=!1;const c=l.app={_uid:Uo++,_component:s,_props:n,_container:null,_context:l,_instance:null,version:Dr,get config(){return l.config},set config(d){},use(d,...h){return o.has(d)||(d&&H(d.install)?(o.add(d),d.install(c,...h)):H(d)&&(o.add(d),d(c,...h))),c},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),c},component(d,h){return h?(l.components[d]=h,c):l.components[d]},directive(d,h){return h?(l.directives[d]=h,c):l.directives[d]},mount(d,h,g){if(!a){const m=c._ceVNode||At(s,n);return m.appContext=l,g===!0?g="svg":g===!1&&(g=void 0),h&&t?t(m,d):e(m,d,g),a=!0,c._container=d,d.__vue_app__=c,Es(m.component)}},onUnmount(d){r.push(d)},unmount(){a&&(Ht(r,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(d,h){return l.provides[d]=h,c},runWithContext(d){const h=Ce;Ce=c;try{return d()}finally{Ce=h}}};return c}}let Ce=null;function qo(e,t){if(ct){let i=ct.provides;const s=ct.parent&&ct.parent.provides;s===i&&(i=ct.provides=Object.create(s)),i[e]=t}}function de(e,t,i=!1){const s=ct||Dt;if(s||Ce){const n=Ce?Ce._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return i&&H(t)?t.call(s&&s.proxy):t}}const Zn={},Qn=()=>Object.create(Zn),tl=e=>Object.getPrototypeOf(e)===Zn;function Ko(e,t,i,s=!1){const n={},l=Qn();e.propsDefaults=Object.create(null),el(e,t,n,l);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);i?e.props=s?n:uo(n):e.type.props?e.props=n:e.props=l,e.attrs=l}function Xo(e,t,i,s){const{props:n,attrs:l,vnode:{patchFlag:o}}=e,r=F(n),[a]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let h=0;h<d.length;h++){let g=d[h];if(Si(e.emitsOptions,g))continue;const m=t[g];if(a)if(B(l,g))m!==l[g]&&(l[g]=m,c=!0);else{const E=Yt(g);n[E]=zi(a,r,E,m,e,!1)}else m!==l[g]&&(l[g]=m,c=!0)}}}else{el(e,t,n,l)&&(c=!0);let d;for(const h in r)(!t||!B(t,h)&&((d=ge(h))===h||!B(t,d)))&&(a?i&&(i[h]!==void 0||i[d]!==void 0)&&(n[h]=zi(a,r,h,void 0,e,!0)):delete n[h]);if(l!==r)for(const h in l)(!t||!B(t,h))&&(delete l[h],c=!0)}c&&Bt(e.attrs,"set","")}function el(e,t,i,s){const[n,l]=e.propsOptions;let o=!1,r;if(t)for(let a in t){if(He(a))continue;const c=t[a];let d;n&&B(n,d=Yt(a))?!l||!l.includes(d)?i[d]=c:(r||(r={}))[d]=c:Si(e.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(l){const a=F(i),c=r||U;for(let d=0;d<l.length;d++){const h=l[d];i[h]=zi(n,a,h,c[h],e,!B(c,h))}}return o}function zi(e,t,i,s,n,l){const o=e[i];if(o!=null){const r=B(o,"default");if(r&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&H(a)){const{propsDefaults:c}=n;if(i in c)s=c[i];else{const d=Ye(n);s=c[i]=a.call(null,t),d()}}else s=a;n.ce&&n.ce._setProp(i,s)}o[0]&&(l&&!r?s=!1:o[1]&&(s===""||s===ge(i))&&(s=!0))}return s}const zo=new WeakMap;function il(e,t,i=!1){const s=i?zo:t.propsCache,n=s.get(e);if(n)return n;const l=e.props,o={},r=[];let a=!1;if(!H(e)){const d=h=>{a=!0;const[g,m]=il(h,t,!0);lt(o,g),m&&r.push(...m)};!i&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!l&&!a)return tt(e)&&s.set(e,we),we;if(P(l))for(let d=0;d<l.length;d++){const h=Yt(l[d]);js(h)&&(o[h]=U)}else if(l)for(const d in l){const h=Yt(d);if(js(h)){const g=l[d],m=o[h]=P(g)||H(g)?{type:g}:lt({},g),E=m.type;let w=!1,D=!0;if(P(E))for(let x=0;x<E.length;++x){const A=E[x],M=H(A)&&A.name;if(M==="Boolean"){w=!0;break}else M==="String"&&(D=!1)}else w=H(E)&&E.name==="Boolean";m[0]=w,m[1]=D,(w||B(m,"default"))&&r.push(h)}}const c=[o,r];return tt(e)&&s.set(e,c),c}function js(e){return e[0]!=="$"&&!He(e)}const sl=e=>e[0]==="_"||e==="$stable",_s=e=>P(e)?e.map(kt):[kt(e)],Yo=(e,t,i)=>{if(t._n)return t;const s=So((...n)=>_s(t(...n)),i);return s._c=!1,s},nl=(e,t,i)=>{const s=e._ctx;for(const n in e){if(sl(n))continue;const l=e[n];if(H(l))t[n]=Yo(n,l,s);else if(l!=null){const o=_s(l);t[n]=()=>o}}},ll=(e,t)=>{const i=_s(t);e.slots.default=()=>i},ol=(e,t,i)=>{for(const s in t)(i||s!=="_")&&(e[s]=t[s])},Jo=(e,t,i)=>{const s=e.slots=Qn();if(e.vnode.shapeFlag&32){const n=t._;n?(ol(s,t,i),i&&_n(s,"_",n,!0)):nl(t,s)}else t&&ll(e,t)},Zo=(e,t,i)=>{const{vnode:s,slots:n}=e;let l=!0,o=U;if(s.shapeFlag&32){const r=t._;r?i&&r===1?l=!1:ol(n,t,i):(l=!t.$stable,nl(t,n)),o=t}else t&&(ll(e,t),o={default:1});if(l)for(const r in n)!sl(r)&&o[r]==null&&delete n[r]},bt=fr;function Qo(e){return tr(e)}function tr(e,t){const i=yi();i.__VUE__=!0;const{insert:s,remove:n,patchProp:l,createElement:o,createText:r,createComment:a,setText:c,setElementText:d,parentNode:h,nextSibling:g,setScopeId:m=Pt,insertStaticContent:E}=e,w=(u,f,p,b=null,v=null,_=null,C=void 0,S=null,T=!!f.dynamicChildren)=>{if(u===f)return;u&&!Ne(u,f)&&(b=ti(u),Mt(u,v,_,!0),u=null),f.patchFlag===-2&&(T=!1,f.dynamicChildren=null);const{type:y,ref:N,shapeFlag:L}=f;switch(y){case xi:D(u,f,p,b);break;case pe:x(u,f,p,b);break;case li:u==null&&A(f,p,b,C);break;case nt:Je(u,f,p,b,v,_,C,S,T);break;default:L&1?W(u,f,p,b,v,_,C,S,T):L&6?Ze(u,f,p,b,v,_,C,S,T):(L&64||L&128)&&y.process(u,f,p,b,v,_,C,S,T,Ae)}N!=null&&v&&fi(N,u&&u.ref,_,f||u,!f)},D=(u,f,p,b)=>{if(u==null)s(f.el=r(f.children),p,b);else{const v=f.el=u.el;f.children!==u.children&&c(v,f.children)}},x=(u,f,p,b)=>{u==null?s(f.el=a(f.children||""),p,b):f.el=u.el},A=(u,f,p,b)=>{[u.el,u.anchor]=E(u.children,f,p,b,u.el,u.anchor)},M=({el:u,anchor:f},p,b)=>{let v;for(;u&&u!==f;)v=g(u),s(u,p,b),u=v;s(f,p,b)},I=({el:u,anchor:f})=>{let p;for(;u&&u!==f;)p=g(u),n(u),u=p;n(f)},W=(u,f,p,b,v,_,C,S,T)=>{f.type==="svg"?C="svg":f.type==="math"&&(C="mathml"),u==null?V(f,p,b,v,_,C,S,T):xt(u,f,v,_,C,S,T)},V=(u,f,p,b,v,_,C,S)=>{let T,y;const{props:N,shapeFlag:L,transition:R,dirs:k}=u;if(T=u.el=o(u.type,_,N&&N.is,N),L&8?d(T,u.children):L&16&&et(u.children,T,null,b,v,ki(u,_),C,S),k&&le(u,null,b,"created"),q(T,u,u.scopeId,C,b),N){for(const X in N)X!=="value"&&!He(X)&&l(T,X,null,N[X],_,b);"value"in N&&l(T,"value",null,N.value,_),(y=N.onVnodeBeforeMount)&&Nt(y,b,u)}k&&le(u,null,b,"beforeMount");const G=er(v,R);G&&R.beforeEnter(T),s(T,f,p),((y=N&&N.onVnodeMounted)||G||k)&&bt(()=>{y&&Nt(y,b,u),G&&R.enter(T),k&&le(u,null,b,"mounted")},v)},q=(u,f,p,b,v)=>{if(p&&m(u,p),b)for(let _=0;_<b.length;_++)m(u,b[_]);if(v){let _=v.subTree;if(f===_||fl(_.type)&&(_.ssContent===f||_.ssFallback===f)){const C=v.vnode;q(u,C,C.scopeId,C.slotScopeIds,v.parent)}}},et=(u,f,p,b,v,_,C,S,T=0)=>{for(let y=T;y<u.length;y++){const N=u[y]=S?qt(u[y]):kt(u[y]);w(null,N,f,p,b,v,_,C,S)}},xt=(u,f,p,b,v,_,C)=>{const S=f.el=u.el;let{patchFlag:T,dynamicChildren:y,dirs:N}=f;T|=u.patchFlag&16;const L=u.props||U,R=f.props||U;let k;if(p&&oe(p,!1),(k=R.onVnodeBeforeUpdate)&&Nt(k,p,f,u),N&&le(f,u,p,"beforeUpdate"),p&&oe(p,!0),(L.innerHTML&&R.innerHTML==null||L.textContent&&R.textContent==null)&&d(S,""),y?ie(u.dynamicChildren,y,S,p,b,ki(f,v),_):C||K(u,f,S,null,p,b,ki(f,v),_,!1),T>0){if(T&16)De(S,L,R,p,v);else if(T&2&&L.class!==R.class&&l(S,"class",null,R.class,v),T&4&&l(S,"style",L.style,R.style,v),T&8){const G=f.dynamicProps;for(let X=0;X<G.length;X++){const j=G[X],gt=L[j],ot=R[j];(ot!==gt||j==="value")&&l(S,j,gt,ot,v,p)}}T&1&&u.children!==f.children&&d(S,f.children)}else!C&&y==null&&De(S,L,R,p,v);((k=R.onVnodeUpdated)||N)&&bt(()=>{k&&Nt(k,p,f,u),N&&le(f,u,p,"updated")},b)},ie=(u,f,p,b,v,_,C)=>{for(let S=0;S<f.length;S++){const T=u[S],y=f[S],N=T.el&&(T.type===nt||!Ne(T,y)||T.shapeFlag&70)?h(T.el):p;w(T,y,N,null,b,v,_,C,!0)}},De=(u,f,p,b,v)=>{if(f!==p){if(f!==U)for(const _ in f)!He(_)&&!(_ in p)&&l(u,_,f[_],null,v,b);for(const _ in p){if(He(_))continue;const C=p[_],S=f[_];C!==S&&_!=="value"&&l(u,_,S,C,v,b)}"value"in p&&l(u,"value",f.value,p.value,v)}},Je=(u,f,p,b,v,_,C,S,T)=>{const y=f.el=u?u.el:r(""),N=f.anchor=u?u.anchor:r("");let{patchFlag:L,dynamicChildren:R,slotScopeIds:k}=f;k&&(S=S?S.concat(k):k),u==null?(s(y,p,b),s(N,p,b),et(f.children||[],p,N,v,_,C,S,T)):L>0&&L&64&&R&&u.dynamicChildren?(ie(u.dynamicChildren,R,p,v,_,C,S),(f.key!=null||v&&f===v.subTree)&&rl(u,f,!0)):K(u,f,p,N,v,_,C,S,T)},Ze=(u,f,p,b,v,_,C,S,T)=>{f.slotScopeIds=S,u==null?f.shapeFlag&512?v.ctx.activate(f,p,b,C,T):Oi(f,p,b,v,_,C,T):Ls(u,f,T)},Oi=(u,f,p,b,v,_,C)=>{const S=u.component=Er(u,b,v);if(Kn(u)&&(S.ctx.renderer=Ae),Tr(S,!1,C),S.asyncDep){if(v&&v.registerDep(S,ft,C),!u.el){const T=S.subTree=At(pe);x(null,T,f,p)}}else ft(S,u,f,p,v,_,C)},Ls=(u,f,p)=>{const b=f.component=u.component;if(ur(u,f,p))if(b.asyncDep&&!b.asyncResolved){Z(b,f,p);return}else b.next=f,b.update();else f.el=u.el,b.vnode=f},ft=(u,f,p,b,v,_,C)=>{const S=()=>{if(u.isMounted){let{next:L,bu:R,u:k,parent:G,vnode:X}=u;{const vt=al(u);if(vt){L&&(L.el=X.el,Z(u,L,C)),vt.asyncDep.then(()=>{u.isUnmounted||S()});return}}let j=L,gt;oe(u,!1),L?(L.el=X.el,Z(u,L,C)):L=X,R&&Ii(R),(gt=L.props&&L.props.onVnodeBeforeUpdate)&&Nt(gt,G,L,X),oe(u,!0);const ot=Hi(u),Ct=u.subTree;u.subTree=ot,w(Ct,ot,h(Ct.el),ti(Ct),u,v,_),L.el=ot.el,j===null&&dr(u,ot.el),k&&bt(k,v),(gt=L.props&&L.props.onVnodeUpdated)&&bt(()=>Nt(gt,G,L,X),v)}else{let L;const{el:R,props:k}=f,{bm:G,m:X,parent:j,root:gt,type:ot}=u,Ct=Fe(f);if(oe(u,!1),G&&Ii(G),!Ct&&(L=k&&k.onVnodeBeforeMount)&&Nt(L,j,f),oe(u,!0),R&&Ms){const vt=()=>{u.subTree=Hi(u),Ms(R,u.subTree,u,v,null)};Ct&&ot.__asyncHydrate?ot.__asyncHydrate(R,u,vt):vt()}else{gt.ce&&gt.ce._injectChildStyle(ot);const vt=u.subTree=Hi(u);w(null,vt,p,b,u,v,_),f.el=vt.el}if(X&&bt(X,v),!Ct&&(L=k&&k.onVnodeMounted)){const vt=f;bt(()=>Nt(L,j,vt),v)}(f.shapeFlag&256||j&&Fe(j.vnode)&&j.vnode.shapeFlag&256)&&u.a&&bt(u.a,v),u.isMounted=!0,f=p=b=null}};u.scope.on();const T=u.effect=new wn(S);u.scope.off();const y=u.update=T.run.bind(T),N=u.job=T.runIfDirty.bind(T);N.i=u,N.id=u.uid,T.scheduler=()=>ms(N),oe(u,!0),y()},Z=(u,f,p)=>{f.component=u;const b=u.vnode.props;u.vnode=f,u.next=null,Xo(u,f.props,b,p),Zo(u,f.children,p),Zt(),Hs(u),Qt()},K=(u,f,p,b,v,_,C,S,T=!1)=>{const y=u&&u.children,N=u?u.shapeFlag:0,L=f.children,{patchFlag:R,shapeFlag:k}=f;if(R>0){if(R&128){Qe(y,L,p,b,v,_,C,S,T);return}else if(R&256){se(y,L,p,b,v,_,C,S,T);return}}k&8?(N&16&&Ie(y,v,_),L!==y&&d(p,L)):N&16?k&16?Qe(y,L,p,b,v,_,C,S,T):Ie(y,v,_,!0):(N&8&&d(p,""),k&16&&et(L,p,b,v,_,C,S,T))},se=(u,f,p,b,v,_,C,S,T)=>{u=u||we,f=f||we;const y=u.length,N=f.length,L=Math.min(y,N);let R;for(R=0;R<L;R++){const k=f[R]=T?qt(f[R]):kt(f[R]);w(u[R],k,p,null,v,_,C,S,T)}y>N?Ie(u,v,_,!0,!1,L):et(f,p,b,v,_,C,S,T,L)},Qe=(u,f,p,b,v,_,C,S,T)=>{let y=0;const N=f.length;let L=u.length-1,R=N-1;for(;y<=L&&y<=R;){const k=u[y],G=f[y]=T?qt(f[y]):kt(f[y]);if(Ne(k,G))w(k,G,p,null,v,_,C,S,T);else break;y++}for(;y<=L&&y<=R;){const k=u[L],G=f[R]=T?qt(f[R]):kt(f[R]);if(Ne(k,G))w(k,G,p,null,v,_,C,S,T);else break;L--,R--}if(y>L){if(y<=R){const k=R+1,G=k<N?f[k].el:b;for(;y<=R;)w(null,f[y]=T?qt(f[y]):kt(f[y]),p,G,v,_,C,S,T),y++}}else if(y>R)for(;y<=L;)Mt(u[y],v,_,!0),y++;else{const k=y,G=y,X=new Map;for(y=G;y<=R;y++){const _t=f[y]=T?qt(f[y]):kt(f[y]);_t.key!=null&&X.set(_t.key,y)}let j,gt=0;const ot=R-G+1;let Ct=!1,vt=0;const Me=new Array(ot);for(y=0;y<ot;y++)Me[y]=0;for(y=k;y<=L;y++){const _t=u[y];if(gt>=ot){Mt(_t,v,_,!0);continue}let Rt;if(_t.key!=null)Rt=X.get(_t.key);else for(j=G;j<=R;j++)if(Me[j-G]===0&&Ne(_t,f[j])){Rt=j;break}Rt===void 0?Mt(_t,v,_,!0):(Me[Rt-G]=y+1,Rt>=vt?vt=Rt:Ct=!0,w(_t,f[Rt],p,null,v,_,C,S,T),gt++)}const Rs=Ct?ir(Me):we;for(j=Rs.length-1,y=ot-1;y>=0;y--){const _t=G+y,Rt=f[_t],Ns=_t+1<N?f[_t+1].el:b;Me[y]===0?w(null,Rt,p,Ns,v,_,C,S,T):Ct&&(j<0||y!==Rs[j]?ne(Rt,p,Ns,2):j--)}}},ne=(u,f,p,b,v=null)=>{const{el:_,type:C,transition:S,children:T,shapeFlag:y}=u;if(y&6){ne(u.component.subTree,f,p,b);return}if(y&128){u.suspense.move(f,p,b);return}if(y&64){C.move(u,f,p,Ae);return}if(C===nt){s(_,f,p);for(let L=0;L<T.length;L++)ne(T[L],f,p,b);s(u.anchor,f,p);return}if(C===li){M(u,f,p);return}if(b!==2&&y&1&&S)if(b===0)S.beforeEnter(_),s(_,f,p),bt(()=>S.enter(_),v);else{const{leave:L,delayLeave:R,afterLeave:k}=S,G=()=>s(_,f,p),X=()=>{L(_,()=>{G(),k&&k()})};R?R(_,G,X):X()}else s(_,f,p)},Mt=(u,f,p,b=!1,v=!1)=>{const{type:_,props:C,ref:S,children:T,dynamicChildren:y,shapeFlag:N,patchFlag:L,dirs:R,cacheIndex:k}=u;if(L===-2&&(v=!1),S!=null&&fi(S,null,p,u,!0),k!=null&&(f.renderCache[k]=void 0),N&256){f.ctx.deactivate(u);return}const G=N&1&&R,X=!Fe(u);let j;if(X&&(j=C&&C.onVnodeBeforeUnmount)&&Nt(j,f,u),N&6)Dl(u.component,p,b);else{if(N&128){u.suspense.unmount(p,b);return}G&&le(u,null,f,"beforeUnmount"),N&64?u.type.remove(u,f,p,Ae,b):y&&!y.hasOnce&&(_!==nt||L>0&&L&64)?Ie(y,f,p,!1,!0):(_===nt&&L&384||!v&&N&16)&&Ie(T,f,p),b&&Ds(u)}(X&&(j=C&&C.onVnodeUnmounted)||G)&&bt(()=>{j&&Nt(j,f,u),G&&le(u,null,f,"unmounted")},p)},Ds=u=>{const{type:f,el:p,anchor:b,transition:v}=u;if(f===nt){Ll(p,b);return}if(f===li){I(u);return}const _=()=>{n(p),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(u.shapeFlag&1&&v&&!v.persisted){const{leave:C,delayLeave:S}=v,T=()=>C(p,_);S?S(u.el,_,T):T()}else _()},Ll=(u,f)=>{let p;for(;u!==f;)p=g(u),n(u),u=p;n(f)},Dl=(u,f,p)=>{const{bum:b,scope:v,job:_,subTree:C,um:S,m:T,a:y}=u;Us(T),Us(y),b&&Ii(b),v.stop(),_&&(_.flags|=8,Mt(C,u,f,p)),S&&bt(S,f),bt(()=>{u.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Ie=(u,f,p,b=!1,v=!1,_=0)=>{for(let C=_;C<u.length;C++)Mt(u[C],f,p,b,v)},ti=u=>{if(u.shapeFlag&6)return ti(u.component.subTree);if(u.shapeFlag&128)return u.suspense.next();const f=g(u.anchor||u.el),p=f&&f[xo];return p?g(p):f};let Li=!1;const Is=(u,f,p)=>{u==null?f._vnode&&Mt(f._vnode,null,null,!0):w(f._vnode||null,u,f,null,null,null,p),f._vnode=u,Li||(Li=!0,Hs(),Bn(),Li=!1)},Ae={p:w,um:Mt,m:ne,r:Ds,mt:Oi,mc:et,pc:K,pbc:ie,n:ti,o:e};let As,Ms;return{render:Is,hydrate:As,createApp:Vo(Is,As)}}function ki({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function oe({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function er(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function rl(e,t,i=!1){const s=e.children,n=t.children;if(P(s)&&P(n))for(let l=0;l<s.length;l++){const o=s[l];let r=n[l];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=n[l]=qt(n[l]),r.el=o.el),!i&&r.patchFlag!==-2&&rl(o,r)),r.type===xi&&(r.el=o.el)}}function ir(e){const t=e.slice(),i=[0];let s,n,l,o,r;const a=e.length;for(s=0;s<a;s++){const c=e[s];if(c!==0){if(n=i[i.length-1],e[n]<c){t[s]=n,i.push(s);continue}for(l=0,o=i.length-1;l<o;)r=l+o>>1,e[i[r]]<c?l=r+1:o=r;c<e[i[l]]&&(l>0&&(t[s]=i[l-1]),i[l]=s)}}for(l=i.length,o=i[l-1];l-- >0;)i[l]=o,o=t[o];return i}function al(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:al(t)}function Us(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const sr=Symbol.for("v-scx"),nr=()=>de(sr);function Pi(e,t,i){return cl(e,t,i)}function cl(e,t,i=U){const{immediate:s,deep:n,flush:l,once:o}=i,r=lt({},i),a=t&&s||!t&&l!=="post";let c;if(Xe){if(l==="sync"){const m=nr();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!a){const m=()=>{};return m.stop=Pt,m.resume=Pt,m.pause=Pt,m}}const d=ct;r.call=(m,E,w)=>Ht(m,d,E,w);let h=!1;l==="post"?r.scheduler=m=>{bt(m,d&&d.suspense)}:l!=="sync"&&(h=!0,r.scheduler=(m,E)=>{E?m():ms(m)}),r.augmentJob=m=>{t&&(m.flags|=4),h&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const g=bo(e,t,r);return Xe&&(c?c.push(g):a&&g()),g}function lr(e,t,i){const s=this.proxy,n=it(e)?e.includes(".")?ul(s,e):()=>s[e]:e.bind(s,s);let l;H(t)?l=t:(l=t.handler,i=t);const o=Ye(this),r=cl(n,l.bind(s),i);return o(),r}function ul(e,t){const i=t.split(".");return()=>{let s=e;for(let n=0;n<i.length&&s;n++)s=s[i[n]];return s}}const or=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Yt(t)}Modifiers`]||e[`${ge(t)}Modifiers`];function rr(e,t,...i){if(e.isUnmounted)return;const s=e.vnode.props||U;let n=i;const l=t.startsWith("update:"),o=l&&or(s,t.slice(7));o&&(o.trim&&(n=i.map(d=>it(d)?d.trim():d)),o.number&&(n=i.map(Pl)));let r,a=s[r=Di(t)]||s[r=Di(Yt(t))];!a&&l&&(a=s[r=Di(ge(t))]),a&&Ht(a,e,6,n);const c=s[r+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,Ht(c,e,6,n)}}function dl(e,t,i=!1){const s=t.emitsCache,n=s.get(e);if(n!==void 0)return n;const l=e.emits;let o={},r=!1;if(!H(e)){const a=c=>{const d=dl(c,t,!0);d&&(r=!0,lt(o,d))};!i&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!l&&!r?(tt(e)&&s.set(e,null),null):(P(l)?l.forEach(a=>o[a]=null):lt(o,l),tt(e)&&s.set(e,o),o)}function Si(e,t){return!e||!vi(t)?!1:(t=t.slice(2).replace(/Once$/,""),B(e,t[0].toLowerCase()+t.slice(1))||B(e,ge(t))||B(e,t))}function Hi(e){const{type:t,vnode:i,proxy:s,withProxy:n,propsOptions:[l],slots:o,attrs:r,emit:a,render:c,renderCache:d,props:h,data:g,setupState:m,ctx:E,inheritAttrs:w}=e,D=di(e);let x,A;try{if(i.shapeFlag&4){const I=n||s,W=I;x=kt(c.call(W,I,d,h,m,g,E)),A=r}else{const I=t;x=kt(I.length>1?I(h,{attrs:r,slots:o,emit:a}):I(h,null)),A=t.props?r:ar(r)}}catch(I){je.length=0,wi(I,e,1),x=At(pe)}let M=x;if(A&&w!==!1){const I=Object.keys(A),{shapeFlag:W}=M;I.length&&W&7&&(l&&I.some(is)&&(A=cr(A,l)),M=Le(M,A,!1,!0))}return i.dirs&&(M=Le(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(i.dirs):i.dirs),i.transition&&gs(M,i.transition),x=M,di(D),x}const ar=e=>{let t;for(const i in e)(i==="class"||i==="style"||vi(i))&&((t||(t={}))[i]=e[i]);return t},cr=(e,t)=>{const i={};for(const s in e)(!is(s)||!(s.slice(9)in t))&&(i[s]=e[s]);return i};function ur(e,t,i){const{props:s,children:n,component:l}=e,{props:o,children:r,patchFlag:a}=t,c=l.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&a>=0){if(a&1024)return!0;if(a&16)return s?Vs(s,o,c):!!o;if(a&8){const d=t.dynamicProps;for(let h=0;h<d.length;h++){const g=d[h];if(o[g]!==s[g]&&!Si(c,g))return!0}}}else return(n||r)&&(!r||!r.$stable)?!0:s===o?!1:s?o?Vs(s,o,c):!0:!!o;return!1}function Vs(e,t,i){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const l=s[n];if(t[l]!==e[l]&&!Si(i,l))return!0}return!1}function dr({vnode:e,parent:t},i){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=i,t=t.parent;else break}}const fl=e=>e.__isSuspense;function fr(e,t){t&&t.pendingBranch?P(e)?t.effects.push(...e):t.effects.push(e):To(e)}const nt=Symbol.for("v-fgt"),xi=Symbol.for("v-txt"),pe=Symbol.for("v-cmt"),li=Symbol.for("v-stc"),je=[];let Et=null;function J(e=!1){je.push(Et=e?null:[])}function hr(){je.pop(),Et=je[je.length-1]||null}let Ke=1;function qs(e,t=!1){Ke+=e,e<0&&Et&&t&&(Et.hasOnce=!0)}function hl(e){return e.dynamicChildren=Ke>0?Et||we:null,hr(),Ke>0&&Et&&Et.push(e),e}function Q(e,t,i,s,n,l){return hl(O(e,t,i,s,n,l,!0))}function pr(e,t,i,s,n){return hl(At(e,t,i,s,n,!0))}function pl(e){return e?e.__v_isVNode===!0:!1}function Ne(e,t){return e.type===t.type&&e.key===t.key}const ml=({key:e})=>e??null,oi=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?it(e)||dt(e)||H(e)?{i:Dt,r:e,k:t,f:!!i}:e:null);function O(e,t=null,i=null,s=0,n=null,l=e===nt?0:1,o=!1,r=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ml(t),ref:t&&oi(t),scopeId:Un,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Dt};return r?(ys(a,i),l&128&&e.normalize(a)):i&&(a.shapeFlag|=it(i)?8:16),Ke>0&&!o&&Et&&(a.patchFlag>0||l&6)&&a.patchFlag!==32&&Et.push(a),a}const At=mr;function mr(e,t=null,i=null,s=0,n=null,l=!1){if((!e||e===Po)&&(e=pe),pl(e)){const r=Le(e,t,!0);return i&&ys(r,i),Ke>0&&!l&&Et&&(r.shapeFlag&6?Et[Et.indexOf(e)]=r:Et.push(r)),r.patchFlag=-2,r}if(Or(e)&&(e=e.__vccOpts),t){t=gr(t);let{class:r,style:a}=t;r&&!it(r)&&(t.class=os(r)),tt(a)&&(ps(a)&&!P(a)&&(a=lt({},a)),t.style=ls(a))}const o=it(e)?1:fl(e)?128:Co(e)?64:tt(e)?4:H(e)?2:0;return O(e,t,i,s,n,o,l,!0)}function gr(e){return e?ps(e)||tl(e)?lt({},e):e:null}function Le(e,t,i=!1,s=!1){const{props:n,ref:l,patchFlag:o,children:r,transition:a}=e,c=t?_r(n||{},t):n,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ml(c),ref:t&&t.ref?i&&l?P(l)?l.concat(oi(t)):[l,oi(t)]:oi(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Le(e.ssContent),ssFallback:e.ssFallback&&Le(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&s&&gs(d,a.clone(d)),d}function bs(e=" ",t=0){return At(xi,null,e,t)}function Yi(e,t){const i=At(li,null,e);return i.staticCount=t,i}function vr(e="",t=!1){return t?(J(),pr(pe,null,e)):At(pe,null,e)}function kt(e){return e==null||typeof e=="boolean"?At(pe):P(e)?At(nt,null,e.slice()):pl(e)?qt(e):At(xi,null,String(e))}function qt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Le(e)}function ys(e,t){let i=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(P(t))i=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),ys(e,n()),n._c&&(n._d=!0));return}else{i=32;const n=t._;!n&&!tl(t)?t._ctx=Dt:n===3&&Dt&&(Dt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else H(t)?(t={default:t,_ctx:Dt},i=32):(t=String(t),s&64?(i=16,t=[bs(t)]):i=8);e.children=t,e.shapeFlag|=i}function _r(...e){const t={};for(let i=0;i<e.length;i++){const s=e[i];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=os([t.class,s.class]));else if(n==="style")t.style=ls([t.style,s.style]);else if(vi(n)){const l=t[n],o=s[n];o&&l!==o&&!(P(l)&&l.includes(o))&&(t[n]=l?[].concat(l,o):o)}else n!==""&&(t[n]=s[n])}return t}function Nt(e,t,i,s=null){Ht(e,t,7,[i,s])}const br=Jn();let yr=0;function Er(e,t,i){const s=e.type,n=(t?t.appContext:e.appContext)||br,l={uid:yr++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ul(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:il(s,n),emitsOptions:dl(s,n),emit:null,emitted:null,propsDefaults:U,inheritAttrs:s.inheritAttrs,ctx:U,data:U,props:U,attrs:U,slots:U,refs:U,setupState:U,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=rr.bind(null,l),e.ce&&e.ce(l),l}let ct=null;const wr=()=>ct||Dt;let pi,Ji;{const e=yi(),t=(i,s)=>{let n;return(n=e[i])||(n=e[i]=[]),n.push(s),l=>{n.length>1?n.forEach(o=>o(l)):n[0](l)}};pi=t("__VUE_INSTANCE_SETTERS__",i=>ct=i),Ji=t("__VUE_SSR_SETTERS__",i=>Xe=i)}const Ye=e=>{const t=ct;return pi(e),e.scope.on(),()=>{e.scope.off(),pi(t)}},Ks=()=>{ct&&ct.scope.off(),pi(null)};function gl(e){return e.vnode.shapeFlag&4}let Xe=!1;function Tr(e,t=!1,i=!1){t&&Ji(t);const{props:s,children:n}=e.vnode,l=gl(e);Ko(e,s,l,t),Jo(e,n,i);const o=l?Sr(e,t):void 0;return t&&Ji(!1),o}function Sr(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ho);const{setup:s}=i;if(s){Zt();const n=e.setupContext=s.length>1?Cr(e):null,l=Ye(e),o=ze(s,e,0,[e.props,n]),r=pn(o);if(Qt(),l(),(r||e.sp)&&!Fe(e)&&Vn(e),r){if(o.then(Ks,Ks),t)return o.then(a=>{Xs(e,a,t)}).catch(a=>{wi(a,e,0)});e.asyncDep=o}else Xs(e,o,t)}else vl(e,t)}function Xs(e,t,i){H(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:tt(t)&&(e.setupState=Wn(t)),vl(e,i)}let zs;function vl(e,t,i){const s=e.type;if(!e.render){if(!t&&zs&&!s.render){const n=s.template||vs(e).template;if(n){const{isCustomElement:l,compilerOptions:o}=e.appContext.config,{delimiters:r,compilerOptions:a}=s,c=lt(lt({isCustomElement:l,delimiters:r},o),a);s.render=zs(n,c)}}e.render=s.render||Pt}{const n=Ye(e);Zt();try{Wo(e)}finally{Qt(),n()}}}const xr={get(e,t){return rt(e,"get",""),e[t]}};function Cr(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,xr),slots:e.slots,emit:e.emit,expose:t}}function Es(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Wn(fo(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Be)return Be[i](e)},has(t,i){return i in t||i in Be}})):e.proxy}function Or(e){return H(e)&&"__vccOpts"in e}const Lr=(e,t)=>vo(e,t,Xe),Dr="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zi;const Ys=typeof window<"u"&&window.trustedTypes;if(Ys)try{Zi=Ys.createPolicy("vue",{createHTML:e=>e})}catch{}const _l=Zi?e=>Zi.createHTML(e):e=>e,Ir="http://www.w3.org/2000/svg",Ar="http://www.w3.org/1998/Math/MathML",Ft=typeof document<"u"?document:null,Js=Ft&&Ft.createElement("template"),Mr={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,s)=>{const n=t==="svg"?Ft.createElementNS(Ir,e):t==="mathml"?Ft.createElementNS(Ar,e):i?Ft.createElement(e,{is:i}):Ft.createElement(e);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>Ft.createTextNode(e),createComment:e=>Ft.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ft.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,s,n,l){const o=i?i.previousSibling:t.lastChild;if(n&&(n===l||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),i),!(n===l||!(n=n.nextSibling)););else{Js.innerHTML=_l(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const r=Js.content;if(s==="svg"||s==="mathml"){const a=r.firstChild;for(;a.firstChild;)r.appendChild(a.firstChild);r.removeChild(a)}t.insertBefore(r,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Rr=Symbol("_vtc");function Nr(e,t,i){const s=e[Rr];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const Zs=Symbol("_vod"),$r=Symbol("_vsh"),kr=Symbol(""),Pr=/(^|;)\s*display\s*:/;function Hr(e,t,i){const s=e.style,n=it(i);let l=!1;if(i&&!n){if(t)if(it(t))for(const o of t.split(";")){const r=o.slice(0,o.indexOf(":")).trim();i[r]==null&&ri(s,r,"")}else for(const o in t)i[o]==null&&ri(s,o,"");for(const o in i)o==="display"&&(l=!0),ri(s,o,i[o])}else if(n){if(t!==i){const o=s[kr];o&&(i+=";"+o),s.cssText=i,l=Pr.test(i)}}else t&&e.removeAttribute("style");Zs in e&&(e[Zs]=l?s.display:"",e[$r]&&(s.display="none"))}const Qs=/\s*!important$/;function ri(e,t,i){if(P(i))i.forEach(s=>ri(e,t,s));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const s=Wr(e,t);Qs.test(i)?e.setProperty(ge(s),i.replace(Qs,""),"important"):e[s]=i}}const tn=["Webkit","Moz","ms"],Wi={};function Wr(e,t){const i=Wi[t];if(i)return i;let s=Yt(t);if(s!=="filter"&&s in e)return Wi[t]=s;s=vn(s);for(let n=0;n<tn.length;n++){const l=tn[n]+s;if(l in e)return Wi[t]=l}return t}const en="http://www.w3.org/1999/xlink";function sn(e,t,i,s,n,l=jl(t)){s&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(en,t.slice(6,t.length)):e.setAttributeNS(en,t,i):i==null||l&&!bn(i)?e.removeAttribute(t):e.setAttribute(t,l?"":Jt(i)?String(i):i)}function nn(e,t,i,s,n){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?_l(i):i);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const r=l==="OPTION"?e.getAttribute("value")||"":e.value,a=i==null?e.type==="checkbox"?"on":"":String(i);(r!==a||!("_value"in e))&&(e.value=a),i==null&&e.removeAttribute(t),e._value=i;return}let o=!1;if(i===""||i==null){const r=typeof e[t];r==="boolean"?i=bn(i):i==null&&r==="string"?(i="",o=!0):r==="number"&&(i=0,o=!0)}try{e[t]=i}catch{}o&&e.removeAttribute(n||t)}function Gr(e,t,i,s){e.addEventListener(t,i,s)}function Fr(e,t,i,s){e.removeEventListener(t,i,s)}const ln=Symbol("_vei");function Br(e,t,i,s,n=null){const l=e[ln]||(e[ln]={}),o=l[t];if(s&&o)o.value=s;else{const[r,a]=jr(t);if(s){const c=l[t]=qr(s,n);Gr(e,r,c,a)}else o&&(Fr(e,r,o,a),l[t]=void 0)}}const on=/(?:Once|Passive|Capture)$/;function jr(e){let t;if(on.test(e)){t={};let s;for(;s=e.match(on);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ge(e.slice(2)),t]}let Gi=0;const Ur=Promise.resolve(),Vr=()=>Gi||(Ur.then(()=>Gi=0),Gi=Date.now());function qr(e,t){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;Ht(Kr(s,i.value),t,5,[s])};return i.value=e,i.attached=Vr(),i}function Kr(e,t){if(P(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const rn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Xr=(e,t,i,s,n,l)=>{const o=n==="svg";t==="class"?Nr(e,s,o):t==="style"?Hr(e,i,s):vi(t)?is(t)||Br(e,t,i,s,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zr(e,t,s,o))?(nn(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&sn(e,t,s,o,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!it(s))?nn(e,Yt(t),s,l,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),sn(e,t,s,o))};function zr(e,t,i,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&rn(t)&&H(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return rn(t)&&it(i)?!1:t in e}const Yr=["ctrl","shift","alt","meta"],Jr={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yr.some(i=>e[`${i}Key`]&&!t.includes(i))},an=(e,t)=>{const i=e._withMods||(e._withMods={}),s=t.join(".");return i[s]||(i[s]=(n,...l)=>{for(let o=0;o<t.length;o++){const r=Jr[t[o]];if(r&&r(n,t))return}return e(n,...l)})},Zr=lt({patchProp:Xr},Mr);let cn;function Qr(){return cn||(cn=Qo(Zr))}const Qi=(...e)=>{const t=Qr().createApp(...e),{mount:i}=t;return t.mount=s=>{const n=ea(s);if(!n)return;const l=t._component;!H(l)&&!l.render&&!l.template&&(l.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=i(n,!1,ta(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function ta(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ea(e){return it(e)?document.querySelector(e):e}class ia{constructor(){this.events={}}subscribe(t,i){this.events[t]||(this.events[t]=[]),this.events[t].push(i)}publish(t,i){!this.events[t]||this.events[t].length<1||this.events[t].forEach(s=>s(i))}unsubscribe(t,i){this.events[t]&&(this.events[t]=this.events[t].filter(s=>s!==i))}once(t,i,s){let n=l=>{s&&!s(l)||(i(l),this.unsubscribe(t,n))};this.subscribe(t,n)}onceMulti(t,i,s){let n=l=>{s&&!s(l)||(i(l),t.forEach(o=>this.unsubscribe(o,n)))};t.forEach(l=>this.subscribe(l,n))}async wait(t,i){return new Promise((s,n)=>{this.once(t,s,i)})}}const st=e=>new Promise(t=>setTimeout(t,e)),ws=e=>{te(()=>{console.log("onMounted"),window.addEventListener("popstate",e,!1)}),ve(()=>{console.log("onBeforeUnmount"),window.removeEventListener("popstate",e,!1)})},sa=async e=>{e.mount("#app"),setTimeout(()=>{oa()},250)},na=async e=>{let t=new Promise(i=>{e.onUnmount(i)});e.unmount(),await t},bl=250;let ni=null,mi=$("#app")[0],yl=null;mi.style.opacity=0;mi.style.transition="opacity "+bl+"ms";const ut=async(e,t)=>{ni&&(mi.style.opacity=0,await st(bl),await na(ni)),yl=t,ni=Qi(e),await sa(ni),mi.style.opacity=1},la=()=>yl;class Ts{constructor(t){this.timer=Date.now(),this.delay=t,this.pending,this.callback}run(t){if(this.callback=t,this.pending)return;let s=Date.now()-this.timer,n=this.delay-s;n<=0?(this.callback(),this.timer=Date.now()):this.pending=setTimeout(()=>{this.callback(),this.timer=Date.now(),this.pending=void 0},n)}}function oa(){var e=document.querySelector('meta[name="viewport"]');e&&(e.content="initial-scale=0.1",e.content="width=500")}const Ci="/logic-gate-game-vue/logowhite.png",ra="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-play'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M10.804%208%205%204.633v6.734zm.792-.696a.802.802%200%200%201%200%201.392l-6.363%203.692C4.713%2012.69%204%2012.345%204%2011.692V4.308c0-.653.713-.998%201.233-.696z'%20fill='%23ffffff'/%3e%3c/svg%3e",ts="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-star-fill'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M3.612%2015.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173%206.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927%200l2.184%204.327%204.898.696c.441.062.612.636.282.95l-3.522%203.356.83%204.73c.078.443-.36.79-.746.592L8%2013.187l-4.389%202.256z'%20fill='%23ffffff'/%3e%3c/svg%3e",El="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-star'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M2.866%2014.85c-.078.444.36.791.746.593l4.39-2.256%204.389%202.256c.386.198.824-.149.746-.592l-.83-4.73%203.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513%200%200%200-.927%200L5.354%205.12l-4.898.696c-.441.062-.612.636-.283.95l3.523%203.356-.83%204.73zm4.905-2.767-3.686%201.894.694-3.957a.56.56%200%200%200-.163-.505L1.71%206.745l4.052-.576a.53.53%200%200%200%20.393-.288L8%202.223l1.847%203.658a.53.53%200%200%200%20.393.288l4.052.575-2.906%202.77a.56.56%200%200%200-.163.506l.694%203.957-3.686-1.894a.5.5%200%200%200-.461%200z'%20fill='%23ffffff'/%3e%3c/svg%3e",_e=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i},aa={class:"module-container"},ca={__name:"smarthomevitual",setup(e,{expose:t}){let i=!1;async function s(a){let c=document.getElementById("living-room-person-1");const d=100;for(let h=0;h<1;h+=1/d){if(await st(1e3/40),await new Promise(M=>requestAnimationFrame(M)),i)return;let g=document.getElementById("living-room-1"),m=$(g).width(),E=$(g).height(),w=Math.sin(h*Math.PI*2)*150+m/2,D=Math.cos(h*Math.PI*2)*100+E/2;c.style.left=w+"px",c.style.top=D+"px";let x=document.getElementsByClassName("living-room-motion-sensor"),A=[];for(let M=0;M<x.length;M++){let I=x[M],W={left:parseFloat(I.style.left),top:parseFloat(I.style.top)},V={left:parseFloat(c.style.left),top:parseFloat(c.style.top)},q=W.left-V.left,et=W.top-V.top,xt=Math.sqrt(q*q+et*et);xt<450/2?I.classList.remove("sensor-deactivated"):I.classList.add("sensor-deactivated"),A.push(xt)}if(a&&a({person:{x:w,y:D},distances:A}))return}}function n(){document.querySelector(".living-room").classList.remove("light-off")}function l(){document.querySelector(".living-room").classList.add("light-off")}function o(a,c){let d=document.querySelector(".living-room"),h=document.createElement("div");a<0&&(a+=$(d).width(),a-=30),c<0&&(c+=$(d).height(),c-=30),h.style.left=a+"px",h.style.top=c+"px",h.classList.add("living-room-motion-sensor"),d.appendChild(h)}function r(a){let c=document.querySelector(".switch-container"),d=document.createElement("div");d.classList.add("labeled-switch"),d.innerHTML=`
    <label>${a}</label>
    <label class="switch">
      <input type="checkbox" checked>
      <span class="slider round"></span>
    </label>
  `,c.appendChild(d)}return ve(()=>{i=!0}),t({personCycleTest:s,lightOn:n,lightOff:l,addMotionSensor:o,addSwitch:r}),(a,c)=>(J(),Q("div",aa,c[0]||(c[0]=[O("div",{class:"living-room-container",id:"living-room-1"},[O("div",{class:"living-room"},[bs("LIVING ROOM "),O("div",{class:"living-room-person",id:"living-room-person-1"},"P")])],-1),O("div",{class:"switch-container"},null,-1)])))}},ua=_e(ca,[["__scopeId","data-v-5584e43e"]]),da={class:"challenge"},fa={class:"mobile-scale"},un={name:"Smart Home Dev",description:"For Testing Smart Home Levels",availableGates:["NOT","AND","OR","XOR","NAND","NOR","XNOR"],hideSubmit:!1},ha={...un,data(){return{...un}}},pa=Object.assign(ha,{__name:"smarthome1",setup(e,{expose:t}){let i=de("logicCanvas"),s=qn("smvitual");const n=o=>{let r=i.world;o==r.outputs[0].in(0)&&(o.getState()?s.value.lightOn():s.value.lightOff())};return te(async()=>{let o=s.value;o.addMotionSensor(10,10),o.addMotionSensor(10,-10),o.addSwitch("Test1"),o.addSwitch("Test2"),i.createInput().setLabel("M1"),i.createInput().setLabel("M2"),i.createOutput().setLabel("Light"),i.createGate("AND",100,100),i.eventManager.subscribe("TERMINAL_STATE_CHANGED",n)}),ve(()=>{i.eventManager.unsubscribe("TERMINAL_STATE_CHANGED",n)}),t({onSubmit:async()=>{$("#submit-btn").prop("disabled",!0),await s.value.personCycleTest(o=>{o.distances.forEach((r,a)=>{r<450/2?i.world.inputs[a].out(0).setState(!0):i.world.inputs[a].out(0).setState(!1)})}),$("#submit-btn").prop("disabled",!1)}}),(o,r)=>(J(),Q("div",da,[r[0]||(r[0]=O("p",{class:"challenge-description"},"Description",-1)),O("div",fa,[At(ua,{ref_key:"smvitual",ref:s},null,512)])]))}}),ma=_e(pa,[["__scopeId","data-v-89765206"]]);class mt{}wt(mt,"ON",!0),wt(mt,"OFF",!1);class dn{constructor(t,i,s){this.isSource=s,this.state=mt.OFF,this.parent=i,this.index=-1,this.relatedTerminals=[],this.world=t,t.terminals.push(this),this.world.eventManager.publish("TERMINAL_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("TERMINAL_DOM_SET",this)}setState(t){this.state!==t&&(this.state=t,this.world.eventManager.publish("TERMINAL_STATE_CHANGED",this))}getState(){return this.state}toggle(){this.setState(!this.state)}remove(){this.parent=null,this.relatedTerminals=null,this.domElement&&(this.domElement.remove(),this.domElement=null),this.world.terminals=this.world.terminals.filter(t=>t!==this),this.world.eventManager.publish("TERMINAL_REMOVED",this),this.world=null}}class ga{constructor(t,i,s){if(i===s){console.error("Cannot connect terminal to itself");return}if(i.isSource&&s.isSource){console.error("Wire cannot connect two sources");return}if(!i.isSource&&!s.isSource){console.error("Wire cannot connect two sinks");return}this.world=t,t.wires.push(this),i.isSource?(this.terminalSrc=i,this.terminalSink=s):(this.terminalSrc=s,this.terminalSink=i),this.state=mt.OFF,this.terminalSrc.relatedTerminals.push(this.terminalSink),this.terminalSink.relatedTerminals.push(this.terminalSrc),this.world.eventManager.publish("WIRE_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("WIRE_DOM_SET",this)}update(){this.state!==this.terminalSrc.state&&(this.world.eventManager.publish("WIRE_STATE_CHANGED",this),this.state=this.terminalSrc.state),this.terminalSink.setState(this.state)}remove(){this.terminalSrc.relatedTerminals=this.terminalSrc.relatedTerminals.filter(t=>t!==this.terminalSink),this.terminalSink.relatedTerminals=this.terminalSink.relatedTerminals.filter(t=>t!==this.terminalSrc),this.terminalSink.setState(mt.OFF),this.world.wires=this.world.wires.filter(t=>t!==this),this.world.eventManager.publish("WIRE_REMOVED",this),this.world=null,this.terminalSrc=null,this.terminalSink=null,this.domElement&&(this.domElement.remove(),this.domElement=null),delete this}getState(){return this.state?mt.ON:mt.OFF}setState(t){t!==this.state&&(this.state=t,this.world.eventManager.publish("WIRE_STATE_CHANGED",this))}}class va{constructor(t,i){this.world=t,t.gates.push(this),this.funcSpec=i,this.inputTerminals=[],this.outputTerminals=[];for(let s=0;s<i.inputCount;s++)this.inputTerminals.push(new dn(t,this,!1));for(let s=0;s<i.outputCount;s++)this.outputTerminals.push(new dn(t,this,!0));this.terminals().forEach((s,n)=>{s.index=n}),this.world.eventManager.publish("GATE_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("GATE_DOM_SET",this)}update(){if(this.inputTerminals.length===0||this.outputTerminals.length===0)return;let t=this.inputTerminals.map(s=>s.state),i=this.funcSpec.func(...t);i!==void 0&&(i instanceof Array?i.forEach((s,n)=>{this.outputTerminals[n].setState(s)}):this.outputTerminals[0].setState(i))}terminals(){return this.inputTerminals.concat(this.outputTerminals)}getTerminalIndex(t){return this.terminals().indexOf(t)}setTerminalStateByIndex(t,i){this.terminals()[t].state=i}getState(){return this.terminals().map(t=>t.state?mt.ON:mt.OFF)}setState(t){t.forEach((i,s)=>{this.terminals()[s].state=i?mt.ON:mt.OFF})}getTerminalStateByIndex(t){return this.terminals()[t].state}unlinkAll(){this.terminals().forEach(t=>{this.world.getWiresByTerminal(t).forEach(i=>i.remove())})}remove(){this.terminals().some(t=>t===this.world.previousTerminal)&&(this.world.previousTerminal=null),this.unlinkAll(),this.world.inputs=this.world.inputs.filter(t=>t!==this),this.world.outputs=this.world.outputs.filter(t=>t!==this),this.world.gates=this.world.gates.filter(t=>t!==this),this.world.eventManager.publish("GATE_REMOVED",this),this.world=null,this.inputTerminals.forEach(t=>t.remove()),this.outputTerminals.forEach(t=>t.remove()),this.domElement&&(this.domElement.remove(),this.domElement=null),delete this}isFundamental(){return fe.isSpecFundamental(this.funcSpec)}in(t){return this.inputTerminals[t]}out(t){return this.outputTerminals[t]}}class Wt{constructor(t,i,s,n){this.name=t,this.func=i,this.inputCount=s,this.outputCount=n}}class Oe{constructor(t){this.eventManager=t===void 0?new ia:t,this.terminals=[],this.wires=[],this.gates=[],this.inputs=[],this.outputs=[],this.previousState="",this.stableCount=0,this.instableCount=0,this.tickCount=0,this.eventManager.publish("WORLD_CREATED",this)}get numGate(){return this.nonIOGates.length}get nonIOGates(){return this.gates.filter(t=>!this.inputs.includes(t)&&!this.outputs.includes(t))}get in(){return this.inputs}get out(){return this.outputs}setDomElement(t){this.domElement=t,this.eventManager.publish("WORLD_DOM_SET",this)}setParent(t){this.parent=t,this.eventManager.publish("WORLD_PARENT_SET",this)}setInputsState(t){t=t.map(i=>i?mt.ON:mt.OFF),this.inputs.forEach((i,s)=>{i.out(0).setState(t[s])})}async evaluate(t,i){if(t&&this.setInputsState(t),i)for(this.notifyInstability();!this.isStable();)this.tick();else await this.waitStable();let s=this.outputs.map(n=>n.in(0).state);return this.eventManager.publish("WORLD_RESULT",{inputs:t,results:s}),s}evaluateSync(t){for(this.setInputsState(t),this.notifyInstability();!this.isStable();)this.tick();let i=this.outputs.map(s=>s.in(0).state);return this.eventManager.publish("WORLD_RESULT",{inputs:t,results:i}),i}notifyInstability(){this.instableCount++,this.stableCount=0}getStateSignature(){let t="";return this.terminals.forEach(i=>{t+=i.state?"1":"0"}),t}checkFinished(){let t=this.getStateSignature();t===this.previousState?(this.stableCount++,this.instableCount=0):(this.stableCount=0,this.instableCount++,this.previousState=t),this.stableCount===3&&this.eventManager.publish("WORLD_STABLE",this),this.instableCount===1&&this.eventManager.publish("WORLD_INSTABLE",this)}isStable(){return this.stableCount>3}async waitStable(){return this.notifyInstability(),new Promise((t,i)=>{this.eventManager.subscribe("WORLD_STABLE",()=>{t()})})}enableAutoSleep(){this.autoSleep=!0,this.sleepSince=Date.now()}tick(){if(this.autoSleep){let t=Date.now(),i=t-this.sleepSince;if(this.stableCount>10){if(i<100)return;this.sleepSince=t}}this.gates.forEach(t=>t.update()),this.wires.forEach(t=>t.update()),this.checkFinished(),this.tickCount++,this.eventManager.publish("WORLD_TICK",this)}makeConnection(t){let i=!1;if(!this.previousTerminal)this.previousTerminal=t,this.eventManager.publish("WORLD_TERMINAL_SELECTED",{from:this.previousTerminal,world:this});else{let s=this.getWiresBetween(this.previousTerminal,t);if(s.length>0)s.forEach(n=>n.remove()),this.eventManager.publish("WORLD_TERMINAL_DISCONNECTED",{from:this.previousTerminal,to:t,world:this});else{let n=t.isSource?this.previousTerminal:t;this.getWiresByTerminal(n).length==0&&(i=new ga(this,this.previousTerminal,t),this.eventManager.publish("WORLD_TERMINAL_CONNECTED",{from:this.previousTerminal,to:t,world:this}))}this.previousTerminal=null}return i}clearSelction(){this.previousTerminal=null}createLogicGate(t){return new va(this,t)}addInputGate(t){this.inputs.push(t),this.eventManager.publish("GATE_INPUT_ADDED",t)}removeInputGate(t){this.inputs=this.inputs.filter(i=>i!==t),this.eventManager.publish("GATE_INPUT_REMOVED",t)}addOutputGate(t){this.outputs.push(t),this.eventManager.publish("GATE_OUTPUT_ADDED",t)}removeOutputGate(t){this.outputs=this.outputs.filter(i=>i!==t),this.eventManager.publish("GATE_OUTPUT_REMOVED",t)}getWiresByTerminal(t){return this.wires.filter(i=>i.terminalSrc===t||i.terminalSink===t)}getWiresBetween(t,i){return this.wires.filter(s=>s.terminalSrc===t&&s.terminalSink===i||s.terminalSrc===i&&s.terminalSink===t)}export(){return{inputs:this.inputs,outputs:this.outputs,gates:this.gates,wires:this.wires}}clearNonIO(){this.nonIOGates.forEach(t=>t.remove())}clear(){this.gates.forEach(t=>t.remove()),this.wires.forEach(t=>t.remove()),this.terminals.forEach(t=>t.remove()),this.inputs=[],this.outputs=[]}remove(){this.clear(),this.domElement=null,this.eventManager=null,this.parent=null,delete this}}let _a=new Wt("NOT",e=>!e,1,1),ba=new Wt("AND",(e,t)=>e&&t,2,1),ya=new Wt("NAND",(e,t)=>!(e&&t),2,1),Ea=new Wt("OR",(e,t)=>e||t,2,1),wa=new Wt("NOR",(e,t)=>!(e||t),2,1),Ta=new Wt("XOR",(e,t)=>(e||t)&&!(e&&t),2,1),Sa=new Wt("XNOR",(e,t)=>!((e||t)&&!(e&&t)),2,1),wl=new Wt("IN",()=>{},0,1),Tl=new Wt("OUT",()=>{},1,0);const Tt=class Tt{static isSpecFundamental(t){return Object.values(Tt).some(s=>{var n;return((n=s==null?void 0:s.functionSpec)==null?void 0:n.name)===(t==null?void 0:t.name)})}};wt(Tt,"AND",{name:"AND",functionSpec:ba}),wt(Tt,"OR",{name:"OR",functionSpec:Ea}),wt(Tt,"NOT",{name:"NOT",functionSpec:_a}),wt(Tt,"NAND",{name:"NAND",functionSpec:ya}),wt(Tt,"NOR",{name:"NOR",functionSpec:wa}),wt(Tt,"XOR",{name:"XOR",functionSpec:Ta}),wt(Tt,"XNOR",{name:"XNOR",functionSpec:Sa}),wt(Tt,"IN",{name:"IN",functionSpec:wl}),wt(Tt,"OUT",{name:"OUT",functionSpec:Tl});let fe=Tt;console.log("logicgate_back.js loaded");let xa=`
<div id="logic-gate-templates" class="">
  <h3>Logic Gates Preview</h3>
  <div class="logic-gate-div-relative logic-gate logic-and-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-and.png" alt="AND Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
    <div class="logic-gate-terminal"></div>
    <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
    <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-or-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-or.png" alt="OR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-not-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-not.png" alt="NOT Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-xor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-xor.png" alt="XOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-nand-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-nand.png" alt="NAND Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-nor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-nor.png" alt="NOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-xnor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-xnor.png" alt="XNOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-in-template">
    <span class="logic-gate-label">IN</span>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-out-template">
    <span class="logic-gate-label">OUT</span>
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-world-template">
    <span class="logic-gate-label">USER</span>
    <div class="logic-gate-input-terminal logic-gate-terminal-container"></div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container"></div>
    <div class="logic-gate-body"></div>
  </div>
</div>
`;const Ca=()=>{let e=document.createElement("div");e.id="logic-gate-default-template",e.style.display="none",document.body.appendChild(e),e.innerHTML=xa};Ca();const ce=(e,t)=>{let i={top:0,left:0};return!e||(i.top+=$(e).offset().top,i.left+=$(e).offset().left,!t)||(i.top-=$(t).offset().top,i.left-=$(t).offset().left),i};function Sl(e,t){let i=e.getBoundingClientRect(),s=t.getBoundingClientRect();return i.top>=s.top&&i.left>=s.left&&i.bottom<=s.bottom&&i.right<=s.right}let ai=0;const Oa=(e,t,i)=>{let s=0;const n=l=>{if(l.preventDefault(),l.stopPropagation(),l.type.includes("touch")&&(ai=3),l.type.includes("mouse")&&ai){ai--;return}let o=Date.now();o-s<100||(s=o,t(l))};["mousedown","touchstart"].forEach(l=>{e.addEventListener(l,n,i)})};class Xt{constructor(t,i,s,n){n=n===void 0?!0:n,t.setDomElement(i),t.setParent(this),this.world=t,this.domElement=i,this.eventManager=this.world.eventManager,this.loadTemplate(s||"logic-gate-templates"),$(i).addClass("logic-gate-div"),this.canvas=document.createElement("canvas"),this.domElement.appendChild(this.canvas),this.updateCanvas(!0),this.clearCanvas(),this.drawGrid();let l=new Ts(100);this.onResize=()=>{l.run(()=>{this.updateCanvas(),this.visualTick()})},window.addEventListener("resize",this.onResize),this.mousePos={x:0,y:0},this.onMouseMove=o=>{let r=this.domElement.getBoundingClientRect();this.mousePos={x:o.clientX-r.left,y:o.clientY-r.top}},this.domElement.addEventListener("mousemove",this.onMouseMove,!0),this.canvas.addEventListener("contextmenu",o=>{console.log(JSON.stringify(this.export()))}),this.slowVisualTick=setInterval(()=>{this.visualTick()},100),this.eventManager.subscribe("TERMINAL_STATE_CHANGED",o=>{o.state===mt.ON?$(o.domElement).addClass("logic-gate-terminal-on"):$(o.domElement).removeClass("logic-gate-terminal-on")}),n&&this.createEditModeButton(),this.scaleX=1,this.scaleY=1,this.scaleTrackerInterval=setInterval(()=>{let o=this.canvas.getBoundingClientRect(),r=this.canvas.width/o.width,a=this.canvas.height/o.height;this.scaleX=r,this.scaleY=a},1e3/15),this.domElement.addEventListener("dragover",o=>{let r=this.domElement.getBoundingClientRect();this.mousePos={x:o.clientX-r.left,y:o.clientY-r.top}})}createEditModeButton(){let t=document.createElement("div");t.classList.add("logic-gate-edit-mode-button"),t.innerHTML="Edit Mode: Wiring",this.domElement.appendChild(t),this.moveMode=!1,t.addEventListener("click",()=>{this.moveMode=!this.moveMode,this.moveMode?(t.innerHTML="Edit Mode: Moving",$(this.domElement).addClass("logic-gate-move-mode"),this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING")):(t.innerHTML="Edit Mode: Wiring",$(this.domElement).removeClass("logic-gate-move-mode"),this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","WIRING"))})}showingModeSelector(){return!matchMedia("(pointer:fine)").matches}updateCanvas(t){if(!t){let i=this.domElement.clientWidth/this.canvas.width,s=this.domElement.clientHeight/this.canvas.height;(i!==1||s!==1)&&this.world.gates.forEach(n=>{let l=parseInt(n.domElement.style.left)*i,o=parseInt(n.domElement.style.top)*s;n.domElement.style.left=l+"px",n.domElement.style.top=o+"px"})}this.canvas.width=this.domElement.clientWidth,this.canvas.height=this.domElement.clientHeight,this.canvas.style.width=this.domElement.clientWidth+"px",this.canvas.style.height=this.domElement.clientHeight+"px",$(this.canvas).addClass("logic-gate-canvas"),this.ctx=this.canvas.getContext("2d"),this.arrangeIOGates()}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawGrid(){let t=this.ctx;t.strokeStyle="rgba(0, 0, 0, 0.1)",t.lineWidth=1,t.beginPath();let i=0;for(;i<this.canvas.width;)t.moveTo(i,0),t.lineTo(i,this.canvas.height),i+=20;let s=0;for(;s<this.canvas.height;)t.moveTo(0,s),t.lineTo(this.canvas.width,s),s+=20;t.stroke()}drawWires(){let t=this.ctx,i=this.world.terminals.map(s=>s);if(this.world.wires.forEach(s=>{let n=s.terminalSrc,l=s.terminalSink;i=i.filter(x=>x!==n&&x!==l);let o=$(n.domElement),r=$(l.domElement),a=ce(n.domElement,this.domElement),c=ce(l.domElement,this.domElement);a.top+=o.height()/2/this.scaleY,a.left+=o.width()/2/this.scaleX,c.top+=r.height()/2/this.scaleY,c.left+=r.width()/2/this.scaleX;let d=(a.left+c.left)/2;(a.top+c.top)/2;let h=Math.abs(a.left-c.left);t.beginPath(),t.strokeStyle=s.state===mt.ON?"white":"#0096d2",t.lineWidth=2/this.scaleX;const g={"self-connecting":()=>{let x=50/this.scaleY,A=30/this.scaleX,M;c.top>a.top?M=a.top-x:M=a.top+x,t.moveTo(a.left,a.top),t.lineTo(a.left+A,a.top),t.lineTo(a.left+A,M),t.lineTo(c.left-A,M),t.lineTo(c.left-A,c.top),t.lineTo(c.left,c.top)},"src-right-of-sink":()=>{let x=30/this.scaleY,A=30/this.scaleX;t.moveTo(a.left,a.top),t.lineTo(a.left+A,a.top),a.top<c.top?(t.lineTo(a.left+A,a.top+x),t.lineTo(c.left-A,c.top-x),t.lineTo(c.left-A,c.top),t.lineTo(c.left,c.top)):(t.lineTo(a.left+A,a.top-x),t.lineTo(c.left-A,c.top+x),t.lineTo(c.left-A,c.top),t.lineTo(c.left,c.top))},"default-grid":()=>{t.moveTo(a.left,a.top),t.lineTo(d,a.top),t.lineTo(d,c.top),t.lineTo(c.left,c.top)},"default-steep":()=>{t.moveTo(a.left,a.top),t.lineTo(a.left+h*.3,a.top),t.lineTo(c.left-h*.3,c.top),t.lineTo(c.left,c.top)},default:()=>{t.moveTo(a.left,a.top),t.lineTo(c.left,c.top)}};let m=c.left-a.left,E=Math.abs(a.top-c.top);m*=this.scaleX,E*=this.scaleY;let w=a.left>c.left;if(n.parent===l.parent||w&&E<70)g["self-connecting"]();else if(m<50&&E>70)g["src-right-of-sink"]();else{let x;m==0?x=999:x=Math.abs(E/m),x>.5,g["default-steep"]()}t.stroke()}),!ai&&this.world.previousTerminal){let s=this.world.previousTerminal,n=ce(s.domElement,this.domElement),l=$(s.domElement);n.top+=l.height()/2,n.left+=l.width()/2,t.beginPath(),t.strokeStyle="red",t.moveTo(n.left,n.top),t.lineTo(this.mousePos.x,this.mousePos.y),t.stroke()}i.forEach(s=>{let n=ce(s.domElement,this.domElement),l=$(s.domElement);n.top+=l.height()/2/this.scaleY,n.left+=l.width()/2/this.scaleX,t.beginPath(),t.strokeStyle=s.state?"white":"#0096d2",t.lineWidth=3/this.scaleX,t.moveTo(n.left,n.top);let o=15/this.scaleX;s.isSource?t.lineTo(n.left+o,n.top):t.lineTo(n.left-o,n.top),t.stroke()})}drawIndicators(){let t=this.indicatorSize||10,i=this.ctx;i.fillStyle=this.world.isStable()?"#4f4":"#f44",i.fillRect(0,t,t,t),i.fillStyle=this.world.tickCount%2===0?"#fff":"#ccc",i.fillRect(t,0,t,t)}createGateElement(t,i,s,n,l,o){s=s||100,n=n||100,l=l===void 0?!0:l,o=o===void 0?!0:o;let r=t.cloneNode(!0);$(r).removeClass("logic-gate-div-relative"),$(r).addClass("logic-gate-div-absolute"),r.style.left=`${s}px`,r.style.top=`${n}px`,this.domElement.appendChild(r);let a=this.world.createLogicGate(i);a.setDomElement(r),a._removeable=o,a._draggable=l;function c(){a.domElement.style.transition="all 0.1s",a.domElement.style.left=s+"px",a.domElement.style.top=n+"px",setTimeout(()=>{a.domElement.style.transition=""},500)}l&&($(r).draggable({handle:".logic-gate-body",distance:15,start:()=>{this.eventManager.publish("CANVAS_GATE_MOVE_START",a)},stop:()=>{this.eventManager.publish("CANVAS_GATE_MOVE_END",a);let E=Sl(a.domElement,this.domElement),w=a._removeable;E||(w?a.remove():c())}}),$(r).find(".logic-gate-body").addClass("logic-gate-body-active")),o&&a.domElement.addEventListener("contextmenu",E=>{a._removeable&&(this.eventManager.publish("CANVAS_GATE_REMOVED",a),E.preventDefault(),a.remove())});let d=$(r).find(".logic-gate-input-terminal")[0],h=$(r).find(".logic-gate-output-terminal")[0],g=$(d).children(),m=$(h).children();if(g.length!==i.inputCount)throw new Error("Input count does not match");if(m.length!==i.outputCount)throw new Error("Output count does not match");return a.setLabel=E=>{let w=a.domElement,D=$(w).find(".logic-gate-label")[0];D.innerHTML=E},a.inputTerminals.forEach((E,w)=>{E.setDomElement(g[w])}),a.outputTerminals.forEach((E,w)=>{E.setDomElement(m[w])}),a.terminals().forEach(E=>{E.domElement.addEventListener("click",w=>{w.stopPropagation(),this.world.makeConnection(E),this.showConnectableTerminals()}),E.domElement.draggable=!0,E.domElement.addEventListener("dragstart",w=>{w.dataTransfer.dropEffect="link",w.dataTransfer.setData("text","terminal"),this.world.clearSelction(),this.world.makeConnection(E),this.showConnectableTerminals()}),E.domElement.addEventListener("dragend",w=>{this.world.clearSelction(),this.showConnectableTerminals()}),E.domElement.addEventListener("dragover",w=>{this.mousePos={x:w.clientX,y:w.clientY},w.preventDefault()}),E.domElement.addEventListener("drop",w=>{w.dataTransfer.getData("text")==="terminal"&&(this.world.makeConnection(E),this.world.clearSelction(),this.showConnectableTerminals())})}),this.eventManager.publish("CANVAS_GATE_CREATED",a),a}showConnectableTerminals(){let t=this.world.previousTerminal,i=t==null?void 0:t.isSource;if(t){if(t.domElement.classList.add("logic-gate-terminal-selected"),t.relatedTerminals.forEach(s=>{$(s.domElement).addClass("logic-gate-terminal-removeable")}),!i&&t.relatedTerminals.length>0)return;this.world.terminals.forEach(s=>{i!==s.isSource&&$(s.domElement).addClass("logic-gate-terminal-connectable")}),this.world.wires.forEach(s=>{$(s.terminalSink.domElement).removeClass("logic-gate-terminal-connectable")})}else this.world.terminals.forEach(s=>{let n=$(s.domElement);n.removeClass("logic-gate-terminal-connectable"),n.removeClass("logic-gate-terminal-removeable"),n.removeClass("logic-gate-terminal-selected")})}createInput(t){t=t||this.templates.IN;let i=this.createGateElement(t,wl,0,100,!1,!1);this.world.addInputGate(i);let s=$(i.domElement).find(".logic-gate-body")[0];return Oa(s,()=>{i.out(0).toggle()}),this.arrangeIOGates(),i}createOutput(t){t=t||this.templates.OUT;let i=this.createGateElement(t,Tl,500,100,!1,!1);return this.world.addOutputGate(i),this.arrangeIOGates(),i}removeInput(){this.world.inputs.pop().remove(),this.arrangeIOGates()}removeOutput(){this.world.outputs.pop().remove(),this.arrangeIOGates()}arrangeIOGates(){let t=this.world.inputs,i=this.world.outputs;{let s=this.canvas.height/(t.length+1),n=s-25;t.forEach(l=>{l.domElement.style.left="0px",l.domElement.style.right="",l.domElement.style.top=`${n}px`,n+=s})}{let s=this.canvas.height/(i.length+1),n=s-25;i.forEach(l=>{l.domElement.style.right="0px",l.domElement.style.left="",l.domElement.style.top=`${n}px`,n+=s})}}connect(t,i){return this.world.clearSelction(),this.world.makeConnection(t),this.world.makeConnection(i)}linkWorld(t,i,s){let n=this.templates.WORLD.cloneNode(!0),l=$(n).find(".logic-gate-input-terminal")[0],o=$(n).find(".logic-gate-output-terminal")[0],r=document.createElement("div");r.classList.add("logic-gate-terminal"),t.inputs.forEach(m=>{l.appendChild(r.cloneNode(!0))}),t.outputs.forEach(m=>{o.appendChild(r.cloneNode(!0))});let c=(Math.max(t.inputs.length,t.outputs.length)-3)*15;if(c>0){let m=$(n).height();$(n).height(m+c)}r.remove(),r=null;let d=new Wt("WORLD",()=>{},t.inputs.length,t.outputs.length),h=this.createGateElement(n,d,i,s,!0,!1);h._linkedWorld=t;let g=()=>{t.inputs.forEach((m,E)=>{m.outputTerminals[0].setState(h.inputTerminals[E].state)}),t.outputs.forEach((m,E)=>{h.outputTerminals[E].setState(m.inputTerminals[0].state)}),t.tick(),t.isStable()||this.world.notifyInstability()};return d.func=g,h.domElement.addEventListener("contextmenu",m=>{m.preventDefault(),h._linkedWorld.parent.remove(),h.remove()}),l=null,o=null,h}worldTick(){this.world.tick()}visualTick(){this.clearCanvas(),this.drawGrid(),this.drawIndicators(),this.ctx.scale(this.scaleX,this.scaleY),this.drawWires(),this.ctx.setTransform(1,0,0,1,0,0)}startVisualTick(){clearInterval(this.slowVisualTick),this.visualTickRunning=!0;const t=()=>{this.visualTickRunning&&(this.visualTick(),requestAnimationFrame(t))};requestAnimationFrame(t)}stopVisualTick(){this.slowVisualTick=setInterval(()=>{},100),this.visualTickRunning=!1}startWorldTick(t){t=t||60,this.worldTickInterval&&clearInterval(this.worldTickInterval),this.worldTickInterval=setInterval(()=>{this.worldTick()},1e3/t)}stopWorldTick(){clearInterval(this.worldTickInterval)}loadTemplate(t){let i=$(`#${t}`)[0],s={NOT:"logic-not-template",AND:"logic-and-template",NAND:"logic-nand-template",OR:"logic-or-template",NOR:"logic-nor-template",XOR:"logic-xor-template",XNOR:"logic-xnor-template",IN:"logic-in-template",OUT:"logic-out-template",WORLD:"logic-world-template"},n={};for(const[l,o]of Object.entries(s))n[l]=$(i).find(`.${o}`)[0];return this.templates=n,n}getGateTemplate(t){return this.templates[t]}createGate(t,i,s,n,l){if(this.world.clearSelction(),this.showConnectableTerminals(),i>=0&&i<=1&&(i=i*this.domElement.clientWidth),s>=0&&s<=1&&(s=s*this.domElement.clientHeight),i===void 0&&(i=this.domElement.clientWidth/2-25),s===void 0&&(s=this.domElement.clientHeight/2-25),fe[t]===void 0){console.error("Invalid fundamental gate type");return}let o=this.templates[t],r=fe[t].functionSpec;return this.createGateElement(o,r,i,s,n,l)}showWireFrame(t){t=t===void 0?this.domElement:t;let i=$(t).children();for(let s=0;s<i.length;s++){let n=i[s];$(n).addClass("show-wireframe"),this.showWireFrame(n)}}hideWireFrame(t){t=t===void 0?this.domElement:t;let i=$(t).find(".show-wireframe");for(let s=0;s<i.length;s++){let n=i[s];$(n).removeClass("show-wireframe")}}async evaluate(t){return await this.world.evaluate(t)}export(){let t=this.world.export(),i=[];t.gates.forEach((l,o)=>{if(l._exportID=o,l.funcSpec.name==="WORLD")i.push({type:l.funcSpec.name,x:l.domElement.style.left,y:l.domElement.style.top,id:l._exportID,state:l.getState(),worldExport:l._linkedWorld.parent.export(),canvasSize:{width:l._linkedWorld.domElement.clientWidth,height:l._linkedWorld.domElement.clientHeight}});else if(l.isFundamental())i.push({type:l.funcSpec.name,x:l.domElement.style.left,y:l.domElement.style.top,id:l._exportID,state:l.getState(),isWorldInput:this.world.inputs.includes(l),isWorldOutput:this.world.outputs.includes(l)});else{console.error("Unknown gate type");return}});let s=[];return t.wires.forEach(l=>{let o=l.terminalSrc,r=l.terminalSink,a=o.parent,c=r.parent,d=a.terminals().indexOf(o),h=c.terminals().indexOf(r);s.push({t1:{gateID:a._exportID,terminalID:d},t2:{gateID:c._exportID,terminalID:h},state:l.state})}),{gates:i,wires:s,canvasSize:{width:this.domElement.clientWidth,height:this.domElement.clientHeight}}}load(t){this.updateCanvas();let i=this.domElement.clientWidth/t.canvasSize.width,s=this.domElement.clientHeight/t.canvasSize.height;this.clear();let n={};t.gates.forEach(l=>{if(l.type==="WORLD"){let o=new Oe,r=document.createElement("div");r.style.width=l.canvasSize.width+"px",r.style.height=l.canvasSize.height+"px",document.body.appendChild(r),new Xt(o,r).load(l.worldExport);let c=parseInt(l.x),d=parseInt(l.y),h=this.linkWorld(o,c,d);n[l.id]=h,n[l.id].setState(l.state)}else if(fe[l.type]!==void 0){let o=parseInt(l.x)*i,r=parseInt(l.y)*s;l.isWorldInput?n[l.id]=this.createInput():l.isWorldOutput?n[l.id]=this.createOutput():n[l.id]=this.createGate(l.type,o,r),n[l.id].setState(l.state)}else{console.error("Unknown gate type",l);return}}),t.wires.forEach(l=>{let o=n[l.t1.gateID].terminals()[l.t1.terminalID],r=n[l.t2.gateID].terminals()[l.t2.terminalID];this.connect(o,r).setState(l.state)}),this.visualTick()}clone(){let t=this.export(),i=this.domElement.cloneNode(!1),s=new Xt(new Oe,i);return s.load(t),s}clear(t){this.world.gates.forEach(i=>{i.funcSpec.name==="WORLD"&&i._linkedWorld.parent.remove()}),t?(this.world.gates.forEach(i=>{let s=this.world.inputs.includes(i),n=this.world.outputs.includes(i);s||n||i.remove()}),this.world.wires.forEach(i=>{i.remove()})):this.world.clear()}remove(){this.clear(),window.removeEventListener("resize",this.onResize),clearInterval(this.slowVisualTick),this.stopVisualTick(),this.stopWorldTick(),this.domElement.remove(),this.domElement=null,this.world.remove(),this.world=null}importAsGate(t,i,s){t instanceof Xt&&(t=t.export());let n=document.createElement("div");n.style.width=`${t.canvasSize.width}px`,n.style.height=`${t.canvasSize.height}px`,document.body.appendChild(n);let l=new Oe,o=new Xt(l,n);return o.load(t),i=i||100,s=s||100,this.linkWorld(o.world,i,s)}}console.log("logicgate_front.js loaded");const La="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-info-circle'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M8%2015A7%207%200%201%201%208%201a7%207%200%200%201%200%2014m0%201A8%208%200%201%200%208%200a8%208%200%200%200%200%2016'%20fill='%23ffffff'/%3e%3cpath%20d='m8.93%206.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738%203.468c-.194.897.105%201.319.808%201.319.545%200%201.178-.252%201.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275%200-.375-.193-.304-.533zM9%204.5a1%201%200%201%201-2%200%201%201%200%200%201%202%200'%20fill='%23ffffff'/%3e%3c/svg%3e";class Da{constructor(t){if(this.name=t.name,this.description=t.description,this.availableGates=t.availableGates,this.maxGateCount=t.maxGateCount,this.timeLimit=t.timeLimit,this.onCreated=t.onCreated,this.onSubmit=t.onSubmit,!t.name)throw new Error("Level must have a name");if(!t.description)throw new Error("Level must have a description");if(!t.availableGates)throw new Error("Level must have availableGates")}onCreated(){}async onSubmit(){return!0}}class Ss extends Da{constructor(t){super(t),this.inputs=t.inputs,this.outputs=t.outputs,this.truthTableFn=t.truthTable,typeof this.truthTableFn!="function"?this.truthTableFn=()=>t.truthTable:this.truthTableFn=this.truthTableFn}get truthTable(){return console.log(this.truthTableFn()),this.truthTableFn()}}const Ia={class:"test-case-table-container"},Aa={class:"table table-dark table-hover text-center table-striped table-test-case"},Ma={class:"col-1"},Ra=["onClick"],Na={__name:"truthtableleveltemplate",setup(e,{expose:t}){const i=de("logicCanvas"),s=i.world,n=de("truthTableLevelData"),l=n.inputs,o=n.outputs,r=[...l,...o],a=Pn(n.truthTable.map(m=>[...m.outputs]));console.log(a),console.log(i),console.log(n),te(()=>{i.clear(),n.inputs.forEach(m=>{i.createInput().setLabel(m)}),n.outputs.forEach(m=>{i.createOutput().setLabel(m)})});const c=async m=>{let E=n.truthTable[m],w=E.inputs,D=E.outputs,x=await s.evaluate(w);x=x.map(M=>M?1:0);let A=!0;return x.forEach((M,I)=>{let W=D[I];M==W?a.value[m][I]=W:(a.value[m][I]=`${W} (got: ${M})`,A=!1)}),A?$(".table-test-case").find("tbody tr").eq(m).addClass("table-success"):$(".table-test-case").find("tbody tr").eq(m).addClass("table-danger"),console.log("result",w,D,x),A},d=async()=>{h();let m=!0;for(let E=0;E<n.truthTable.length;E++)await c(E)||(m=!1);return m},h=()=>{$(".table-test-case").find("tr").removeClass("table-primary"),$(".table-test-case").find("tr").removeClass("table-success"),$(".table-test-case").find("tr").removeClass("table-danger")},g=async(m,E)=>{let w=E.target.parentElement;h(),n.truthTable.forEach((D,x)=>{D.outputs.forEach((A,M)=>{a.value[x][M]=A})}),w.classList.toggle("table-primary"),await c(m)};return t({onSubmit:d,onCreated:n.onCreated}),(m,E)=>(J(),Q(nt,null,[O("p",null,Ot(Lt(n).description),1),O("div",Ia,[O("table",Aa,[O("thead",null,[O("tr",null,[(J(),Q(nt,null,ae(r,w=>O("th",Ma,Ot(w),1)),64))])]),O("tbody",null,[(J(!0),Q(nt,null,ae(Lt(n).truthTable,(w,D)=>(J(),Q("tr",{class:"table-test-case-row",onClick:x=>{g(D,x)}},[(J(!0),Q(nt,null,ae(w.inputs,x=>(J(),Q("td",null,Ot(x),1))),256)),(J(!0),Q(nt,null,ae(a.value[D],x=>(J(),Q("td",null,Ot(x),1))),256))],8,Ra))),256))])])])],64))}},$a=_e(Na,[["__scopeId","data-v-96528b01"]]),ka={class:"app-container"},Pa={class:"back-button"},Ha={class:"app-outer"},Wa={class:"w-100 text-center"},Ga={class:"app-inner"},Fa={class:"d-flex justify-content-center m-1 logic-canvas-container"},Ba={class:"logic-gate-deck"},ja={class:"d-flex deck-btns flex-column justify-content-around"},Ua={class:"challenge-container"},Va={class:"modal fade",tabindex:"-1","data-bs-backdrop":"static",id:"reviewPopup","data-bs-theme":"dark"},qa={class:"modal-dialog modal-dialog-centered"},Ka={class:"modal-content"},Xa={class:"modal-body d-flex justify-content-around"},za={class:"d-flex flex-column align-items-center"},Ya={key:0,src:ts,alt:"star",class:"star result-star result-star-fill"},Ja={key:1,src:El,alt:"star",class:"star result-star"},Za={class:"mt-3"},xl=(e,t)=>{let i=document.querySelector(".logic-gate-deck");t.forEach(s=>{let l=e.getGateTemplate(s).cloneNode(!0);l.classList.add("gate-deck-item"),l.classList.add(`add-${s.toLowerCase()}-btn`);let o=document.createElement("div");o.classList.add("gate-deck-item-container"),o.appendChild(l);let r=document.createElement("span");r.classList.add("gate-deck-item-title"),r.innerText=s,o.appendChild(r),i.appendChild(o),l.addEventListener("click",async a=>{let c=e.createGate(s),d=$(c.domElement).offset(),h=$(l).offset(),g=c.domElement.style.transition,m=c.domElement.style.zIndex,E=c.domElement.style.pointerEvents;c.domElement.style.zIndex=1e3,c.domElement.style.pointerEvents="none",$(c.domElement).offset(h),await st(30),c.domElement.style.transition="top 0.2s, left 0.2s, transform 0.2s, opacity 0.2s",await st(30),$(c.domElement).offset(d),await st(200),c.domElement.style.transition=g,c.domElement.style.zIndex=m,c.domElement.style.pointerEvents=E}),l.draggable=!0,l.ondragstart=a=>{a.dataTransfer.setData("gate",s)}}),e.domElement.ondragover=s=>{s.preventDefault()},e.domElement.ondrop=s=>{if(!s.dataTransfer.getData("gate"))return;let n=s.dataTransfer.getData("gate"),l=e.domElement.getBoundingClientRect(),o=s.clientX-l.left,r=s.clientY-l.top;o-=25,r-=25,e.createGate(n,o,r)}},Qa={__name:"Play",setup(e){const t=()=>{console.log("back"),$("#reviewPopup").modal("hide"),Y.clear(),ut(me)};ws(t);const i=()=>{let w=window.location.hash.split("?")[1];w=w?decodeURI(w):void 0;let D=la(),A=Ol[w||D];if(!A){ut(me);return}return A};let s,n,l=i(),o,r,a,c=Pn([{star:!0,text:"Level Solved!"},{star:!0,text:"Time"},{star:!1,text:"# of Gates"}]);te(async()=>{if(!l)return;let D=window.location.href.split("#")[0]+`#play?${l.id}`;if(window.history.pushState({},"",D),!l.hideCanvas){let x=document.querySelector(".logic-canvas-here"),A=new Oe;s=new Xt(A,x),s.startVisualTick(),s.startWorldTick(20),s.world.enableAutoSleep(),xl(s,l.availableGates||["AND","OR","NOT","NAND","NOR","XOR","XNOR"]);const M=document.querySelector(".logic-canvas-container"),I=.95,W=new IntersectionObserver(([V])=>{let q=V.intersectionRatio<I&&V.boundingClientRect.y<=10;V.target.classList.toggle("is-pinned",q)},{threshold:[I]});W.observe(M),o=W,M.getBoundingClientRect().top<=10&&M.classList.add("is-pinned"),$('[data-toggle="tooltip"]').tooltip()}l instanceof Ss?(console.log(l),n=Qi($a),n.provide("logicCanvas",s),n.provide("truthTableLevelData",l),n.mount("#challenge")):(n=Qi(l),n.provide("logicCanvas",s),n.mount("#challenge")),a=Date.now(),r=setInterval(()=>{let x=Date.now()-a,A=Math.floor(x/6e4),M=Math.floor(x%6e4/1e3),I=document.querySelector(".level-timer"),W=`${A}:${M.toString().padStart(2,"0")}`,V;if(l.timeLimit){let q=l.timeLimit,et=Math.floor(q/60),xt=q%60;V=`${et}:${xt.toString().padStart(2,"0")}`}else V="∞";I.innerText=`${W} / ${V}`},1e3),setTimeout(()=>{l==null||l.onCreated(s)},200)}),ve(()=>{clearInterval(r),o==null||o.disconnect(),s==null||s.remove(),console.log("logic canvas removed"),n==null||n.unmount()});let d=null;const h=async()=>{if(!d)return;s.load(d),d=null;let w=document.querySelector(".undo-btn");w.style.display="none"},g=async w=>{let D=document.querySelector(".clear-btn"),x=document.querySelector(".undo-btn");D.disabled=!0,d=s.export(),s.world.nonIOGates.forEach(A=>{A.domElement.animate([{opacity:1},{opacity:0}],{duration:200}).onfinish=()=>{A.remove()}}),await st(200),s.world.wires.forEach(A=>{A.remove()}),await st(300),D.disabled=!1,x.style.display="block",s.eventManager.onceMulti(["GATE_CREATED","WIRE_CREATED","TERMINAL_STATE_CHANGED"],()=>{let A=document.querySelector(".undo-btn");A.style.display="none"})},m=qn("test"),E=async()=>{await m.value._vnode.component.exposed.onSubmit()&&(clearInterval(r),c.value[0].star=!1,c.value[1].star=!1,c.value[2].star=!1,$("#reviewPopup").modal("show"),await st(200),c.value[0].star=!0,await st(200),c.value[1].star=!0,await st(200),c.value[2].star=!0)};return(w,D)=>{var x,A,M,I;return J(),Q("div",ka,[D[6]||(D[6]=O("img",{class:"logo",src:Ci},null,-1)),O("div",Pa,[O("button",{class:"btn btn-outline-secondary",onClick:D[0]||(D[0]=W=>t())},"Back")]),O("div",Ha,[O("h1",Wa,Ot((A=(x=Lt(l))==null?void 0:x.world)==null?void 0:A.name)+" - "+Ot((M=Lt(l))==null?void 0:M.name),1),O("div",Ga,[O("div",Fa,[D[1]||(D[1]=Yi('<div class="logic-canvas-scale" data-v-e507c49f><div class="logic-canvas-here" data-v-e507c49f><div class="level-timer" data-v-e507c49f></div><img src="'+La+'" class="canvas-info-icon position-absolute top-0 end-0 m-3 z-3" alt="info" data-v-e507c49f><div class="canvas-info-tooltip position-absolute top-50 start-50 translate-middle" data-v-e507c49f><p data-v-e507c49f><b data-v-e507c49f>Add Gate:</b> Click / Tap the gate you want to add from the gate deck. You can also drag the gate from the gate deck</p><div class="logic-canvas-and-demo" data-v-e507c49f></div><p data-v-e507c49f><b data-v-e507c49f>Remove Gate:</b> Right-click or drag the gate outside the canvas</p><p data-v-e507c49f><b data-v-e507c49f>Move Gate:</b> Drag the gate.</p><p data-v-e507c49f><b data-v-e507c49f>Connect Gates:</b> Click / Tap on the terminal of one gate, then on the terminal of another gate. Or drag one of the terminal to another terminal</p></div></div></div>',1)),O("div",Ba,[O("div",ja,[O("button",{class:"btn btn-secondary clear-btn m-1",onClick:an(g,["prevent"])},"Clear"),O("button",{class:"btn btn-secondary undo-btn m-1",onClick:an(h,["prevent"])},"Undo")])]),(I=Lt(l))!=null&&I.hideSubmit?vr("",!0):(J(),Q("button",{key:0,class:"btn btn-primary mt-0 mb-2",id:"submit-btn",onClick:E},"Submit"))]),O("div",Ua,[O("div",{id:"challenge",ref_key:"test",ref:m},null,512),D[2]||(D[2]=O("div",{class:"testdummy"},null,-1))])])]),O("div",Va,[O("div",qa,[O("div",Ka,[D[5]||(D[5]=O("div",{class:"modal-header"},[O("h5",{class:"modal-title"},"Result"),O("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),O("div",Xa,[(J(!0),Q(nt,null,ae(Lt(c),W=>(J(),Q("div",za,[W.star?(J(),Q("img",Ya)):(J(),Q("img",Ja)),O("p",Za,Ot(W.text),1)]))),256))]),O("div",{class:"modal-footer"},[O("button",{type:"button",class:"btn btn-primary",onClick:t},"World Selection"),D[3]||(D[3]=O("button",{type:"button",class:"btn btn-primary"},"Restart",-1)),D[4]||(D[4]=O("button",{type:"button",class:"btn btn-primary"},"Next Level",-1))])])])])])}}},xs=_e(Qa,[["__scopeId","data-v-e507c49f"]]),tc={class:"app-container"},ec={class:"back-button"},ic={class:"app-outer"},sc={class:"app-inner"},nc={class:"challenge"},lc={class:"mech-current-step"},oc={__name:"Tutorial",setup(e){const t=()=>{console.log("back"),$("html, body").animate({scrollTop:0},10),ut(me)};ws(t);let i=[],s=null,n=null,l=null;return te(async()=>{console.log("mounted");let r=window.location.href.split("#")[0]+"#tutorial";window.history.pushState({},"",r);let a=["AND","OR","XOR","NOT","NAND","NOR","XNOR"];for(let c of a){let d=document.querySelector(`.${c.toLowerCase()}-demo`),h=new Oe,g=new Xt(h,d,null,!1);i.push(g),g.startVisualTick(),g.startWorldTick(10),g.indicatorSize=5,g.world.enableAutoSleep();let m=fe[c].functionSpec;console.log(m);for(let D=0;D<m.inputCount;D++)g.createInput().setLabel(["A","B","C","D"][D]);g.createOutput().setLabel("OUT");let E=g.createGate(c);for(let D=0;D<m.inputCount;D++){let x=g.world.in[D];g.world.makeConnection(x.out(0)),g.world.makeConnection(E.in(D))}let w=g.world.out[0];g.world.makeConnection(E.out(0)),g.world.makeConnection(w.in(0))}{let c=i[0];Y.clear(),Y.setCanvas(c),n=setInterval(()=>{let d=c.world.in[0].domElement.getBoundingClientRect();d.y+d.height<0&&(clearInterval(n),Y.skip())},100),l=setInterval(()=>{let d=c.world.in[1].domElement.getBoundingClientRect();d.y+d.height<0&&(clearInterval(l),Y.skip())},100),await Y.toggleInput(c.world.in[0]),clearInterval(n),await Y.toggleInput(c.world.in[1]),clearInterval(l)}{let c=document.querySelector(".main-logic-canvas"),d=new Oe,h=new Xt(d,c);i.push(h),h.startVisualTick(),h.startWorldTick(10),h.createInput().setLabel("A"),h.createInput().setLabel("B"),h.createInput().setLabel("C"),h.createOutput().setLabel("OUT"),xl(h,["AND","OR","XOR","NOT","NAND","NOR","XNOR"]);let g=document.querySelector(".mech-add"),m=document.querySelector(".mech-remove"),E=document.querySelector(".mech-move"),w=document.querySelector(".mech-conneect"),D=document.querySelector(".mech-toggle"),x=document.querySelector(".mech-complete-text"),A=document.querySelector(".skip-btn"),M=null,I=new Ts(100);const W=()=>{I.run(()=>{let et=document.querySelector(".mech-current-step");if(M){let xt=$(M).offset();$(et).offset(xt),et.style.display="block",et.style.width=$(M).outerWidth()+"px",et.style.height=$(M).outerHeight()+"px"}else et.style.display="none"})},V=et=>{M&&M.classList.add("mech-complete"),M=et,W()};s=setInterval(W,100),Y.setCanvas(h),V(m);let q=h.createGate("AND");await Y.removeGate(q),V(g),q=await Y.addGate("AND"),await st(100),setTimeout(async()=>{Y.skip()},100),await Y.moveGate(q,.5,.8),V(E),await Y.moveGate(q,.33,.33),V(w),await Y.addWire(h.world.in[0].out(0),q.in(0)),await Y.addWire(h.world.in[1].out(0),q.in(1)),await Y.addWire(q.out(0),h.world.out[0].in(0)),V(D),await Y.toggleInput(h.world.in[0]),await Y.toggleInput(h.world.in[1]),V(x),x.style.opacity=1,A.style.display="none"}}),ve(()=>{Y.clear(),clearInterval(s),clearInterval(n),clearInterval(l),i.forEach(o=>o.remove())}),(o,r)=>(J(),Q("div",tc,[r[6]||(r[6]=O("img",{class:"logo",src:Ci},null,-1)),O("div",ec,[O("button",{class:"btn btn-outline-secondary",onClick:r[0]||(r[0]=a=>t())},"Back")]),O("div",ic,[O("div",sc,[O("div",nc,[r[4]||(r[4]=Yi('<h1 data-v-29351fb7>What is a Logic Gate?</h1><p data-v-29351fb7> A <strong data-v-29351fb7>logic gate</strong> is a fundamental building block of digital circuits. It is an electronic device or circuit that performs a basic logical operation on one or more input signals and produces a single output signal. Logic gates are based on <strong data-v-29351fb7>Boolean algebra</strong>, a mathematical system of logic used in computing and electronics. </p><h2 data-v-29351fb7>Common Types of Logic Gates:</h2><ul data-v-29351fb7><li data-v-29351fb7><strong data-v-29351fb7>AND Gate:</strong> Outputs <code data-v-29351fb7>1</code> (true) only if <em data-v-29351fb7>all</em> inputs are <code data-v-29351fb7>1</code>. </li><div class="and-demo gate-demo" data-v-29351fb7></div><li data-v-29351fb7><strong data-v-29351fb7>OR Gate:</strong> Outputs <code data-v-29351fb7>1</code> if <em data-v-29351fb7>at least one</em> input is <code data-v-29351fb7>1</code>. </li><div class="or-demo gate-demo" data-v-29351fb7></div><li data-v-29351fb7><strong data-v-29351fb7>XOR Gate:</strong> Outputs <code data-v-29351fb7>1</code> if <em data-v-29351fb7>only one</em> of the inputs is <code data-v-29351fb7>1</code>. </li><div class="xor-demo gate-demo" data-v-29351fb7></div><li data-v-29351fb7><strong data-v-29351fb7>NOT Gate:</strong> Inverts the input signal </li><div class="not-demo gate-demo" data-v-29351fb7></div><li data-v-29351fb7><strong data-v-29351fb7>NAND Gate:</strong> Outputs the opposite of an AND gate.</li><div class="nand-demo gate-demo" data-v-29351fb7></div><li data-v-29351fb7><strong data-v-29351fb7>NOR Gate:</strong> Outputs the opposite of an OR gate.</li><div class="nor-demo gate-demo" data-v-29351fb7></div><li data-v-29351fb7><strong data-v-29351fb7>XNOR Gate:</strong> Outputs the opposite of an XOR gate.</li><div class="xnor-demo gate-demo" data-v-29351fb7></div></ul><h2 data-v-29351fb7>Why Are Logic Gates Important?</h2><ol data-v-29351fb7><li data-v-29351fb7><strong data-v-29351fb7>Foundation of Digital Electronics:</strong><p data-v-29351fb7>Logic gates are the basic components of digital circuits. They are used in designing microprocessors, memory devices, and control systems.</p></li><li data-v-29351fb7><strong data-v-29351fb7>Decision Making:</strong><p data-v-29351fb7>Logic gates enable devices to make logical decisions by processing binary data (1s and 0s).</p></li><li data-v-29351fb7><strong data-v-29351fb7>Binary Operations:</strong><p data-v-29351fb7>Since computers work in binary (0s and 1s), logic gates are essential for enabling computers to execute instructions.</p></li></ol><p data-v-29351fb7> Logic gates serve as the &quot;brain&quot; of digital systems, making them a cornerstone of modern technology. </p><h2 data-v-29351fb7>Game Mechanics</h2><div class="main-logic-canvas" data-v-29351fb7></div><div class="logic-gate-deck" data-v-29351fb7></div>',10)),O("div",lc,[r[3]||(r[3]=O("div",{class:"mech-current-step-highlighter"},null,-1)),O("button",{class:"btn btn-primary skip-btn",onClick:r[1]||(r[1]=a=>Lt(Y).skip())},"Skip")]),r[5]||(r[5]=Yi('<p class="mech-remove mech-demo" data-v-29351fb7><b data-v-29351fb7>Remove Gate:</b> Right-click or drag the gate outside the canvas </p><p class="mech-add mech-demo" data-v-29351fb7><b data-v-29351fb7>Add Gate:</b> Click / Tap the gate you want to add from the gate deck. You can also drag the gate from the gate deck</p><p class="mech-move mech-demo" data-v-29351fb7><b data-v-29351fb7>Move Gate:</b> Drag the gate.</p><p class="mech-conneect mech-demo" data-v-29351fb7><b data-v-29351fb7>Connect Gates:</b> Click / Tap on the terminal of one gate, then on the terminal of another gate. Or drag one of the terminal to another terminal</p><p class="mech-toggle mech-demo" data-v-29351fb7><b data-v-29351fb7>Toggle Input:</b> Click / Tap on the input gate to toggle it on or off</p><p class="mech-complete-text mech-demo" data-v-29351fb7><b data-v-29351fb7>Congratulations!</b> You&#39;ve completed the tutorial. Feel free to experiment with the circuit now.</p>',6)),O("button",{class:"btn btn-secondary",onClick:r[2]||(r[2]=a=>t())},"Go Back To World Selector")])])])]))}},Cl=_e(oc,[["__scopeId","data-v-29351fb7"]]),rc=new Ss({name:"Lets Make NAND 1",description:"Create a NAND gate using AND and NOT gates",inputs:["A","B"],outputs:["OUT"],availableGates:["AND","NOT"],truthTable:[{inputs:[0,0],outputs:[1]},{inputs:[0,1],outputs:[1]},{inputs:[1,0],outputs:[1]},{inputs:[1,1],outputs:[0]}],maxGateCount:2,timeLimit:3*60}),ac=new Ss({name:"Nothing",description:"Just connect the input to the output",inputs:["IN"],outputs:["OUT"],availableGates:["AND","NOT"],truthTable:[{inputs:[0],outputs:[0]},{inputs:[1],outputs:[1]}],maxGateCount:2,timeLimit:3*60,onCreated:e=>{let t=e.world,i=t.inputs[0],s=t.outputs[0];console.log(i,s),t.makeConnection(i.out(0)),t.makeConnection(s.in(0))}}),Cs=[{name:"Basic",description:"Basic level",levels:[{name:"Tutorial",description:"Learn the basics of logic gates and game mechanics",goToPage:Cl},rc,ac]},{name:"Intermediate",description:"Intermediate level",levels:[ma]},{name:"Advanced",description:"Advanced level",levels:[{name:"Level 4",description:"Level 4Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 5",description:"Level 5Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"}]},{name:"Expert",description:"Expert level",levels:[{name:"Level 7",description:"Level 7Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 8",description:"Level 8Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 9",description:"Level 9Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 7",description:"Level 7Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 8",description:"Level 8Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 9",description:"Level 9Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 7",description:"Level 7Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 8",description:"Level 8Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 9",description:"Level 9Level 3Level 3Level 3Level 3Level 3Level 3"}]}],Ol={};Cs.forEach(e=>{e.levels.forEach(t=>{let i=`${e.name}.${t.name}`;t.world=e,t.id=i,Ol[i]=t})});const cc={class:"app-container"},uc={class:"back-button"},dc={class:"app-inner"},fc={id:"world-selection",class:"world-selection-container","data-bs-theme":"dark"},hc={class:"world"},pc={class:"world-title"},mc={class:"level-container"},gc={class:"level"},vc={class:"card",style:{width:"18rem"}},_c={class:"card-body"},bc={class:"card-title"},yc={class:"card-text"},Ec=["onClick"],wc={__name:"WorldSelection",setup(e){ws(()=>{ut(gi)}),te(()=>{let s=window.location.href.split("#")[0]+"#world-selection";window.history.pushState({},"",s);const n=$(".go-to-play")[0];Y.clear(),Y.add({element:n,animation:"click"})}),ve(()=>{Y.clear()});const t=i=>{i.goToPage?ut(i.goToPage):($("html, body").animate({scrollTop:0},10),ut(xs,i.id))};return(i,s)=>(J(),Q("div",cc,[O("div",uc,[O("button",{class:"btn btn-outline-secondary",onClick:s[0]||(s[0]=n=>Lt(ut)(gi))},"Back")]),O("div",dc,[s[2]||(s[2]=O("img",{class:"logo wsimg",src:Ci},null,-1)),O("div",fc,[(J(!0),Q(nt,null,ae(Lt(Cs),n=>(J(),Q("div",hc,[O("h1",pc,Ot(n.name),1),O("div",mc,[(J(!0),Q(nt,null,ae(n.levels,l=>(J(),Q("div",gc,[O("div",vc,[O("div",_c,[O("h5",bc,[bs(Ot(l.name)+" ",1),s[1]||(s[1]=O("div",{class:"star-container"},[O("img",{src:ts,alt:"star",class:"star wsimg"}),O("img",{src:ts,alt:"star",class:"star wsimg"}),O("img",{src:El,alt:"star",class:"star wsimg"})],-1))]),O("p",yc,Ot(l.description),1),O("button",{class:"btn btn-primary go-to-play float-right",onClick:o=>t(l)},"Start",8,Ec)])])]))),256))])]))),256))])])]))}},me=_e(wc,[["__scopeId","data-v-55fddab6"]]),Tc={class:"app-inner"},Sc={class:"d-flex justify-content-center"},xc={__name:"MainMenu",setup(e){return te(()=>{console.log("mounted");let i=window.location.href.split("#")[0]+"#main-menu";window.history.pushState({},"",i);const s=$(".start-btn")[0];Y.clear(),Y.add({element:s,animation:"click"})}),(t,i)=>(J(),Q("div",Tc,[i[2]||(i[2]=O("img",{alt:"Vue logo",class:"logo",src:Ci},null,-1)),O("div",Sc,[O("a",{class:"start-btn",id:"start-btn",onClick:i[0]||(i[0]=s=>Lt(ut)(me))},i[1]||(i[1]=[O("img",{src:ra,class:"start-btn-img",viewBox:"0 0 16 16"},null,-1)]))])]))}},gi=_e(xc,[["__scopeId","data-v-659addd0"]]);function ye(e,t){let i=document.createElement("div");i.style.position=e.style.position,i.style.top=e.style.top,i.style.left=e.style.left,i.style.width=e.style.width,i.style.height=e.style.height,i.style.zIndex=e.style.zIndex,i.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",i.classList.add(t),i.classList.add("hintcursor-animation-stacked"),e.replaceWith(i),i.appendChild(e)}function Pe(e){let t=e.parentElement;t.classList.contains("hintcursor-animation-stacked")&&(e.style.top=t.style.top,e.style.left=t.style.left,t.parentElement.appendChild(e),t.remove(),Pe(e))}function Os(e){let t=e==null?void 0:e.parentElement;return t==null?e:t.classList.contains("hintcursor-animation-stacked")?Os(t):e}function Cc(e,t,i){let s=Os(e);s.style.top=`${i}px`,s.style.left=`${t}px`}class Oc{constructor(t,i,s){this.transitionDuration=i||500,this.target={},this.hintElement=null,this.creatDomElement(s),this.currentAnimation=null,this.animations={click:()=>{Pe(this.hintElement),ye(this.hintElement,"hintcursor-animation-fadeinfromright"),ye(this.hintElement,"hintcursor-animation-jiggle"),ye(this.hintElement,"hintcursor-animation-blink"),this.setTransitionDuration(this.transitionDuration)},drag:()=>{Pe(this.hintElement),ye(this.hintElement,"hintcursor-animation-drag"),this.setTransitionDuration(this.transitionDuration)},point:()=>{Pe(this.hintElement),ye(this.hintElement,"hintcursor-animation-fadeinfromright"),ye(this.hintElement,"hintcursor-animation-point"),this.setTransitionDuration(this.transitionDuration)}},this.setAnimation("click"),this.moveTo(t,i);let n=new Ts(100);this._onWindowResizeProxy=()=>{n.run(()=>{this.moveToTarget()})},window.addEventListener("resize",this._onWindowResizeProxy),this.followInterval=setInterval(()=>{n.run(()=>{this.moveToTarget()})},200)}creatDomElement(t){let i=document.createElement("img");i.src="hintcursor_click.png",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.width="40px",i.style.height="40px",i.style.zIndex=3e3,i.style.pointerEvents="none",this.hintElement=i,t=t||document.documentElement,t.appendChild(i)}setAnimation(t,i){(i||t!=this.currentAnimation)&&(this.currentAnimation=t,this.animations[t]())}setTarget(t){this.target=t}moveToTarget(){let t=this.target;if(this.hidden)return;let i=ce(t,document.documentElement),s=i.left,n=i.top;s+=$(t).outerWidth()*.6,n+=$(t).outerHeight()*.6,Cc(this.hintElement,s,n)}moveTo(t,i){this.setTransitionDuration(i),this.setTarget(t),this.moveToTarget()}setTransitionDuration(t){if(t==null)return;this.transitionDuration=t;let i=Os(this.hintElement);i.style.transition=`top ${t}ms, left ${t}ms`,i.style.transitionTimingFunction="ease-in-out"}hide(){this.hintElement.style.transition="opacity 0.5s",this.hintElement.style.opacity=0,this.hidden=!0}unhide(){this.hintElement.style.transition="opacity 0.5s",this.hintElement.style.opacity=1,this.hidden=!1}remove(){this.hide(),setTimeout(()=>{this._remove()},500)}_remove(){clearInterval(this.followInterval),window.removeEventListener("resize",this._onWindowResizeProxy),Pe(this.hintElement),this.hintElement.remove(),this.hintElement=null,this.target=null}}class Lc{constructor(t,i,s){this.elements=t||[],this.cursorHint=new Oc(void 0,void 0,s),this._finished=!1,this.next()}next(){if(this.current=this.elements.splice(0,1)[0],!this.current){this.cursorHint.hide(),this._finished=!0;return}this.current.animation&&this.cursorHint.setAnimation(this.current.animation),this.current.element&&this.cursorHint.moveTo(this.current.element)}add(t){this.elements.push(t),this._finished&&(this._finished=!1,this.cursorHint.unhide(),this.next())}clear(){this.elements=[],this.next()}}class Dc{constructor(t,i){this.logicCanvas=t,this.world=t==null?void 0:t.world,this.eventManager=t==null?void 0:t.eventManager,this.cursorHintSeries=new Lc([],500,i),this.currentHintSolution=null}setCanvas(t){this.cursorHintSeries.clear(),this.logicCanvas=t,this.world=t==null?void 0:t.world,this.eventManager=t==null?void 0:t.eventManager}next(){this.cursorHintSeries.next()}add(t){this.cursorHintSeries.add(t)}clear(){this.cursorHintSeries.clear()}async addGate(t,i){i=i||$(`.add-${t.toLowerCase()}-btn`)[0],this.setSolution("addGate",{gateType:t}),this.add({element:i,animation:"click"});let s=await this.eventManager.wait("CANVAS_GATE_CREATED",n=>n.funcSpec.name===t);return this.next(),s}async removeGate(t){if(this.setSolution("removeGate",{gate:t}),this.logicCanvas.showingModeSelector()){let i=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(i),this.logicCanvas.moveMode||(this.add({element:i,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",s=>s==="MOVING"),this.next())}this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("GATE_REMOVED",i=>i===t),this.next(),this.currentHintSolution=null}async addWire(t,i,s){if(this.setSolution("addWire",{terminal1:t,terminal2:i}),this.logicCanvas.showingModeSelector()){let n=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(n),this.logicCanvas.moveMode&&(this.add({element:n,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",l=>l==="WIRING"),this.next())}this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("WORLD_TERMINAL_SELECTED",n=>{if(n.from===i){this.cursorHintSeries.cursorHint.setAnimation("click",!0);let o=t;t=i,i=o}let l=n.from===t||n.from===i;return l||setTimeout(()=>{this.world.clearSelction(),this.logicCanvas.showConnectableTerminals(),this.cursorHintSeries.cursorHint.setAnimation("click",!0)},500),l}),this.next(),this.add({element:i.domElement,animation:"click"}),await this.eventManager.wait(s||"WORLD_TERMINAL_CONNECTED",n=>{let l=n.from===t&&n.to===i,o=n.from===i&&n.to===t;return l||o}),this.next()}async removeWire(t,i){await this.addWire(t,i,"WORLD_TERMINAL_DISCONNECTED")}async toggleInput(t){this.setSolution("toggleInput",{gate:t}),this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("TERMINAL_STATE_CHANGED",i=>i===t.out(0)),this.next()}async moveGate(t,i,s,n,l,o){n=n??100,l=l??100;const r=$(this.logicCanvas.domElement).width(),a=$(this.logicCanvas.domElement).height();console.log(a,r),i>=0&&i<=1&&(i=i*r-n/2),s>=0&&s<=1&&(s=s*a-l/2),this.setSolution("moveGate",{gate:t,x:i,y:s,width:n,height:l});let c=document.createElement("div");if(c.style.position="absolute",c.style.top=`${s/a*100}%`,c.style.left=`${i/r*100}%`,c.style.width=`${n}px`,c.style.height=`${l}px`,c.style.pointerEvents="none",c.style.zIndex=1e3,c.style.border="2px solid rgba(0,0,0,0.5)",c.style.borderRadius="5px",c.style.backgroundColor="rgba(100,0,0,0.1)",c.style.opacity=0,c.style.transition="opacity 0.5s",requestAnimationFrame(()=>{c.style.opacity=.5}),this.logicCanvas.domElement.appendChild(c),this.logicCanvas.showingModeSelector()){let d=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(d),this.logicCanvas.moveMode||(this.add({element:d,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",h=>h==="MOVING"),this.next())}this.add({element:t.domElement,animation:"drag"}),await this.eventManager.wait("CANVAS_GATE_MOVE_START",d=>d===t),o=o||$(t.domElement).offset(),c.style.opacity=1,this.next(),this.add({element:c,animation:"point"}),await this.eventManager.wait("CANVAS_GATE_MOVE_END",d=>d===t),this.next(),c.style.opacity=0,setTimeout(()=>{c.remove()},500),Sl(t.domElement,c)||($(t.domElement)[0].style.transition="top 0.5s, left 0.5s",$(t.domElement).offset(o),setTimeout(()=>{$(t.domElement)[0].style.transition=""},500),await this.moveGate(t,i,s,n,l,o))}setSolution(t,i){({addGate:()=>{let n=i.gateType;this.currentHintSolution=()=>{this.logicCanvas.createGate(n)}},removeGate:()=>{let n=i.gate;this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING"),await st(100),n.remove()}},addWire:()=>{let n=i.terminal1,l=i.terminal2,o=ce(n.domElement,this.logicCanvas.domElement),r=ce(l.domElement,this.logicCanvas.domElement);this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","WIRING"),await st(100),this.world.clearSelction(),this.world.makeConnection(n),this.logicCanvas.mousePos={x:(o.left+r.left)/2,y:(o.top+r.top)/2},await st(100),this.world.makeConnection(l)}},toggleInput:()=>{let n=i.gate;this.currentHintSolution=()=>{n.out(0).toggle()}},moveGate:()=>{let n=i.gate,l=i.x,o=i.y,r=i.width-$(n.domElement).outerWidth(),a=i.height-$(n.domElement).outerHeight();this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING"),await st(100),this.eventManager.publish("CANVAS_GATE_MOVE_START",n),n.domElement.style.transition="top 0.1s, left 0.1s",n.domElement.style.top=`${o+r/2}px`,n.domElement.style.left=`${l+a/2}px`,await st(100),n.domElement.style.transition="",this.eventManager.publish("CANVAS_GATE_MOVE_END",n)}}})[t]()}skip(){this.currentHintSolution&&(this.currentHintSolution(),this.currentHintSolution=null)}}console.log("HintCursor loaded");/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */(function(e){function t(o,r){if(!(o.originalEvent.touches.length>1)){o.preventDefault();var a=o.originalEvent.changedTouches[0],c=document.createEvent("MouseEvents");c.initMouseEvent(r,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(c)}}if(e.support.touch="ontouchend"in document,e.support.touch){var i,s=e.ui.mouse.prototype,n=s._mouseInit,l=s._mouseDestroy;s._touchStart=function(o){var r=this;!i&&r._mouseCapture(o.originalEvent.changedTouches[0])&&(i=!0,r._touchMoved=!1,t(o,"mouseover"),t(o,"mousemove"),t(o,"mousedown"))},s._touchMove=function(o){i&&(this._touchMoved=!0,t(o,"mousemove"))},s._touchEnd=function(o){i&&(t(o,"mouseup"),t(o,"mouseout"),this._touchMoved||t(o,"click"),i=!1)},s._mouseInit=function(){var o=this;o.element.bind({touchstart:e.proxy(o,"_touchStart"),touchmove:e.proxy(o,"_touchMove"),touchend:e.proxy(o,"_touchEnd")}),n.call(o)},s._mouseDestroy=function(){var o=this;o.element.unbind({touchstart:e.proxy(o,"_touchStart"),touchmove:e.proxy(o,"_touchMove"),touchend:e.proxy(o,"_touchEnd")}),l.call(o)}}})(jQuery);var fn;(function(e){var t=function(){function s(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(s.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(n){this._dropEffect=n},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(n){this._effectAllowed=n},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),s.prototype.clearData=function(n){n!=null?delete this._data[n]:this._data=null},s.prototype.getData=function(n){return this._data[n]||""},s.prototype.setData=function(n,l){this._data[n]=l},s.prototype.setDragImage=function(n,l,o){var r=i._instance;r._imgCustom=n,r._imgOffset={x:l,y:o}},s}();e.DataTransfer=t;var i=function(){function s(){if(this._lastClick=0,s._instance)throw"DragDropTouch instance already created.";var n=!1;if(document.addEventListener("test",function(){},{get passive(){return n=!0,!0}}),"ontouchstart"in document){var l=document,o=this._touchstart.bind(this),r=this._touchmove.bind(this),a=this._touchend.bind(this),c=n?{passive:!1,capture:!1}:!1;l.addEventListener("touchstart",o,c),l.addEventListener("touchmove",r,c),l.addEventListener("touchend",a),l.addEventListener("touchcancel",a)}}return s.getInstance=function(){return s._instance},s.prototype._touchstart=function(n){var l=this;if(this._shouldHandle(n)){if(Date.now()-this._lastClick<s._DBLCLICK&&this._dispatchEvent(n,"dblclick",n.target)){n.cancelable&&n.preventDefault(),this._reset();return}this._reset();var o=this._closestDraggable(n.target);o&&!this._dispatchEvent(n,"mousemove",n.target)&&!this._dispatchEvent(n,"mousedown",n.target)&&(this._dragSource=o,this._ptDown=this._getPoint(n),this._lastTouch=n,n.cancelable&&n.preventDefault(),setTimeout(function(){l._dragSource==o&&l._img==null&&l._dispatchEvent(n,"contextmenu",o)&&l._reset()},s._CTXMENU),s._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){l._isDragEnabled=!0,l._touchmove(n)},s._PRESSHOLDAWAIT)))}},s.prototype._touchmove=function(n){if(this._shouldCancelPressHoldMove(n)){this._reset();return}if(this._shouldHandleMove(n)||this._shouldHandlePressHoldMove(n)){var l=this._getTarget(n);if(this._dispatchEvent(n,"mousemove",l)){this._lastTouch=n,n.cancelable&&n.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(n)&&(this._dispatchEvent(n,"dragstart",this._dragSource),this._createImage(n),this._dispatchEvent(n,"dragenter",l)),this._img&&(this._lastTouch=n,n.cancelable&&n.preventDefault(),l!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(n,"dragenter",l),this._lastTarget=l),this._moveImage(n),this._isDropZone=this._dispatchEvent(n,"dragover",l))}},s.prototype._touchend=function(n){if(this._shouldHandle(n)){if(this._dispatchEvent(this._lastTouch,"mouseup",n.target)){n.cancelable&&n.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",n.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(n.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},s.prototype._shouldHandle=function(n){return n&&!n.defaultPrevented&&n.touches&&n.touches.length<2},s.prototype._shouldHandleMove=function(n){return!s._ISPRESSHOLDMODE&&this._shouldHandle(n)},s.prototype._shouldHandlePressHoldMove=function(n){return s._ISPRESSHOLDMODE&&this._isDragEnabled&&n&&n.touches&&n.touches.length},s.prototype._shouldCancelPressHoldMove=function(n){return s._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(n)>s._PRESSHOLDMARGIN},s.prototype._shouldStartDragging=function(n){var l=this._getDelta(n);return l>s._THRESHOLD||s._ISPRESSHOLDMODE&&l>=s._PRESSHOLDTHRESHOLD},s.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new t,clearInterval(this._pressHoldInterval)},s.prototype._getPoint=function(n,l){return n&&n.touches&&(n=n.touches[0]),{x:l?n.pageX:n.clientX,y:l?n.pageY:n.clientY}},s.prototype._getDelta=function(n){if(s._ISPRESSHOLDMODE&&!this._ptDown)return 0;var l=this._getPoint(n);return Math.abs(l.x-this._ptDown.x)+Math.abs(l.y-this._ptDown.y)},s.prototype._getTarget=function(n){for(var l=this._getPoint(n),o=document.elementFromPoint(l.x,l.y);o&&getComputedStyle(o).pointerEvents=="none";)o=o.parentElement;return o},s.prototype._createImage=function(n){this._img&&this._destroyImage();var l=this._imgCustom||this._dragSource;if(this._img=l.cloneNode(!0),this._copyStyle(l,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var o=l.getBoundingClientRect(),r=this._getPoint(n);this._imgOffset={x:r.x-o.left,y:r.y-o.top},this._img.style.opacity=s._OPACITY.toString()}this._moveImage(n),document.body.appendChild(this._img)},s.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},s.prototype._moveImage=function(n){var l=this;requestAnimationFrame(function(){if(l._img){var o=l._getPoint(n,!0),r=l._img.style;r.position="absolute",r.pointerEvents="none",r.zIndex="999999",r.left=Math.round(o.x-l._imgOffset.x)+"px",r.top=Math.round(o.y-l._imgOffset.y)+"px"}})},s.prototype._copyProps=function(n,l,o){for(var r=0;r<o.length;r++){var a=o[r];n[a]=l[a]}},s.prototype._copyStyle=function(n,l){if(s._rmvAtts.forEach(function(h){l.removeAttribute(h)}),n instanceof HTMLCanvasElement){var o=n,r=l;r.width=o.width,r.height=o.height,r.getContext("2d").drawImage(o,0,0)}for(var a=getComputedStyle(n),c=0;c<a.length;c++){var d=a[c];d.indexOf("transition")<0&&(l.style[d]=a[d])}l.style.pointerEvents="none";for(var c=0;c<n.children.length;c++)this._copyStyle(n.children[c],l.children[c])},s.prototype._dispatchEvent=function(n,l,o){if(n&&o){var r=document.createEvent("Event"),a=n.touches?n.touches[0]:n;return r.initEvent(l,!0,!0),r.button=0,r.which=r.buttons=1,this._copyProps(r,n,s._kbdProps),this._copyProps(r,a,s._ptProps),r.dataTransfer=this._dataTransfer,o.dispatchEvent(r),r.defaultPrevented}return!1},s.prototype._closestDraggable=function(n){for(;n;n=n.parentElement)if(n.hasAttribute("draggable")&&n.draggable)return n;return null},s}();i._instance=new i,i._THRESHOLD=5,i._OPACITY=.5,i._DBLCLICK=500,i._CTXMENU=900,i._ISPRESSHOLDMODE=!1,i._PRESSHOLDAWAIT=400,i._PRESSHOLDMARGIN=25,i._PRESSHOLDTHRESHOLD=0,i._rmvAtts="id,class,style,draggable".split(","),i._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),i._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),e.DragDropTouch=i})(fn||(fn={}));class Ic{constructor(){this.data={},this.loadFromLocalStorage()}loadFromLocalStorage(){try{if(this.data=JSON.parse(localStorage.getItem("userData")),console.log("Loaded user data from local storage",this.data),typeof this.data!="object"||this.data===null)throw new Error("Invalid data in local storage")}catch{console.error("Error loading user data from local storage"),this.data={},this.saveToLocalStorage()}}saveToLocalStorage(){localStorage.setItem("userData",JSON.stringify(this.data))}set(t,i){this.data[t]=i,this.saveToLocalStorage()}get(t){return this.data[t]}clear(){localStorage.removeItem("userData"),this.data={}}hasAttempted(t){var i,s;return(s=(i=this.data)==null?void 0:i.attempts)==null?void 0:s.hasOwnProperty(t)}getAttempt(t,i){var s,n;if((s=this.data)!=null&&s.attempts&&(n=this.data)!=null&&n.attempts[t])return this.data.attempts[t][i]}setAttempt(t,i,s){this.data.attempts||(this.data.attempts={}),this.data.attempts[t]||(this.data.attempts[t]={}),this.data.attempts[t][i]=s,this.saveToLocalStorage()}}const Ac=new Ic,Y=new Dc(void 0);console.log(location);const Mc=()=>{for(let e=0;e<20;e++){let t=document.createElement("div");t.innerHTML="dummy leak",document.body.appendChild(t),t.remove()}},Rc=async()=>{Mc();for(let e=0;e<10;e++)await ut(gi),await st(100),await ut(me),await st(100),await ut(xs,Cs[1].levels[0].id),await st(100)};let $e=document.location.hash;$e.startsWith("#play")?ut(xs):$e.startsWith("#world-selection")||$e.startsWith("#smart-home-debug")?ut(me):$e.startsWith("#tutorial")?ut(Cl):$e.startsWith("#mem-leak-test")?Rc():ut(gi);let jt=document.createElement("button");jt.innerHTML="Show Wireframe";jt.style.position="fixed";jt.style.bottom="10px";jt.style.right="10px";jt.style.zIndex="100";jt.style.opacity="0.1";jt.addEventListener("click",()=>{let e=document.createElement("style");e.innerHTML=`
    * {
      outline: rgba(255,0,0,0.3) dotted 1px;
    }
  `,document.documentElement.appendChild(e),jt.remove()});document.body.appendChild(jt);let ee=document.createElement("button");ee.innerHTML="Clear User Data";ee.style.position="fixed";ee.style.bottom="10px";ee.style.left="10px";ee.style.zIndex="100";ee.style.opacity="0.1";ee.addEventListener("click",()=>{Ac.clear()});document.body.appendChild(ee);
