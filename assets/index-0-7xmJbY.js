var $l=Object.defineProperty;var kl=(e,t,i)=>t in e?$l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var xt=(e,t,i)=>kl(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=i(n);fetch(n.href,l)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ls(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const z={},Ce=[],Gt=()=>{},Pl=()=>!1,Ei=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),os=e=>e.startsWith("onUpdate:"),rt=Object.assign,rs=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Hl=Object.prototype.hasOwnProperty,j=(e,t)=>Hl.call(e,t),P=Array.isArray,Oe=e=>wi(e)==="[object Map]",vn=e=>wi(e)==="[object Set]",H=e=>typeof e=="function",nt=e=>typeof e=="string",ie=e=>typeof e=="symbol",it=e=>e!==null&&typeof e=="object",_n=e=>(it(e)||H(e))&&H(e.then)&&H(e.catch),bn=Object.prototype.toString,wi=e=>bn.call(e),Gl=e=>wi(e).slice(8,-1),yn=e=>wi(e)==="[object Object]",as=e=>nt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fe=ls(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ti=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Wl=/-(\w)/g,ee=Ti(e=>e.replace(Wl,(t,i)=>i?i.toUpperCase():"")),Fl=/\B([A-Z])/g,ye=Ti(e=>e.replace(Fl,"-$1").toLowerCase()),En=Ti(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ni=Ti(e=>e?`on${En(e)}`:""),te=(e,t)=>!Object.is(e,t),$i=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},wn=(e,t,i,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:i})},Bl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Gs;const Si=()=>Gs||(Gs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cs(e){if(P(e)){const t={};for(let i=0;i<e.length;i++){const s=e[i],n=nt(s)?ql(s):cs(s);if(n)for(const l in n)t[l]=n[l]}return t}else if(nt(e)||it(e))return e}const jl=/;(?![^(]*\))/g,Ul=/:([^]+)/,Vl=/\/\*[^]*?\*\//g;function ql(e){const t={};return e.replace(Vl,"").split(jl).forEach(i=>{if(i){const s=i.split(Ul);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function us(e){let t="";if(nt(e))t=e;else if(P(e))for(let i=0;i<e.length;i++){const s=us(e[i]);s&&(t+=s+" ")}else if(it(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Kl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xl=ls(Kl);function Tn(e){return!!e||e===""}const Sn=e=>!!(e&&e.__v_isRef===!0),It=e=>nt(e)?e:e==null?"":P(e)||it(e)&&(e.toString===bn||!H(e.toString))?Sn(e)?It(e.value):JSON.stringify(e,xn,2):String(e),xn=(e,t)=>Sn(t)?xn(e,t.value):Oe(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[s,n],l)=>(i[ki(s,l)+" =>"]=n,i),{})}:vn(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>ki(i))}:ie(t)?ki(t):it(t)&&!P(t)&&!yn(t)?String(t):t,ki=(e,t="")=>{var i;return ie(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tt;class zl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Tt,!t&&Tt&&(this.index=(Tt.scopes||(Tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Tt;try{return Tt=this,t()}finally{Tt=i}}}on(){Tt=this}off(){Tt=this.parent}stop(t){if(this._active){this._active=!1;let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(this.effects.length=0,i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Yl(){return Tt}let Q;const Pi=new WeakSet;class Cn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Tt&&Tt.active&&Tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pi.has(this)&&(Pi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ln(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ws(this),Dn(this);const t=Q,i=Mt;Q=this,Mt=!0;try{return this.fn()}finally{In(this),Q=t,Mt=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)hs(t);this.deps=this.depsTail=void 0,Ws(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qi(this)&&this.run()}get dirty(){return qi(this)}}let On=0,Be,je;function Ln(e,t=!1){if(e.flags|=8,t){e.next=je,je=e;return}e.next=Be,Be=e}function ds(){On++}function fs(){if(--On>0)return;if(je){let t=je;for(je=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;Be;){let t=Be;for(Be=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=i}}if(e)throw e}function Dn(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function In(e){let t,i=e.depsTail,s=i;for(;s;){const n=s.prevDep;s.version===-1?(s===i&&(i=n),hs(s),Jl(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}e.deps=t,e.depsTail=i}function qi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(An(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function An(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ke))return;e.globalVersion=Ke;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!qi(e)){e.flags&=-3;return}const i=Q,s=Mt;Q=e,Mt=!0;try{Dn(e);const n=e.fn(e._value);(t.version===0||te(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Q=i,Mt=s,In(e),e.flags&=-3}}function hs(e,t=!1){const{dep:i,prevSub:s,nextSub:n}=e;if(s&&(s.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=s,e.nextSub=void 0),i.subs===e&&(i.subs=s,!s&&i.computed)){i.computed.flags&=-5;for(let l=i.computed.deps;l;l=l.nextDep)hs(l,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function Jl(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let Mt=!0;const Mn=[];function se(){Mn.push(Mt),Mt=!1}function ne(){const e=Mn.pop();Mt=e===void 0?!0:e}function Ws(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Q;Q=void 0;try{t()}finally{Q=i}}}let Ke=0;class Zl{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ps{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Q||!Mt||Q===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Q)i=this.activeLink=new Zl(Q,this),Q.deps?(i.prevDep=Q.depsTail,Q.depsTail.nextDep=i,Q.depsTail=i):Q.deps=Q.depsTail=i,Rn(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const s=i.nextDep;s.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=s),i.prevDep=Q.depsTail,i.nextDep=void 0,Q.depsTail.nextDep=i,Q.depsTail=i,Q.deps===i&&(Q.deps=s)}return i}trigger(t){this.version++,Ke++,this.notify(t)}notify(t){ds();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{fs()}}}function Rn(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Rn(s)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const Ki=new WeakMap,pe=Symbol(""),Xi=Symbol(""),Xe=Symbol("");function ct(e,t,i){if(Mt&&Q){let s=Ki.get(e);s||Ki.set(e,s=new Map);let n=s.get(i);n||(s.set(i,n=new ps),n.map=s,n.key=i),n.track()}}function Ut(e,t,i,s,n,l){const o=Ki.get(e);if(!o){Ke++;return}const r=a=>{a&&a.trigger()};if(ds(),t==="clear")o.forEach(r);else{const a=P(e),c=a&&as(i);if(a&&i==="length"){const d=Number(s);o.forEach((h,g)=>{(g==="length"||g===Xe||!ie(g)&&g>=d)&&r(h)})}else switch((i!==void 0||o.has(void 0))&&r(o.get(i)),c&&r(o.get(Xe)),t){case"add":a?c&&r(o.get("length")):(r(o.get(pe)),Oe(e)&&r(o.get(Xi)));break;case"delete":a||(r(o.get(pe)),Oe(e)&&r(o.get(Xi)));break;case"set":Oe(e)&&r(o.get(pe));break}}fs()}function Te(e){const t=B(e);return t===e?t:(ct(t,"iterate",Xe),Ot(e)?t:t.map(ut))}function xi(e){return ct(e=B(e),"iterate",Xe),e}const Ql={__proto__:null,[Symbol.iterator](){return Hi(this,Symbol.iterator,ut)},concat(...e){return Te(this).concat(...e.map(t=>P(t)?Te(t):t))},entries(){return Hi(this,"entries",e=>(e[1]=ut(e[1]),e))},every(e,t){return Bt(this,"every",e,t,void 0,arguments)},filter(e,t){return Bt(this,"filter",e,t,i=>i.map(ut),arguments)},find(e,t){return Bt(this,"find",e,t,ut,arguments)},findIndex(e,t){return Bt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Bt(this,"findLast",e,t,ut,arguments)},findLastIndex(e,t){return Bt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Bt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Gi(this,"includes",e)},indexOf(...e){return Gi(this,"indexOf",e)},join(e){return Te(this).join(e)},lastIndexOf(...e){return Gi(this,"lastIndexOf",e)},map(e,t){return Bt(this,"map",e,t,void 0,arguments)},pop(){return ke(this,"pop")},push(...e){return ke(this,"push",e)},reduce(e,...t){return Fs(this,"reduce",e,t)},reduceRight(e,...t){return Fs(this,"reduceRight",e,t)},shift(){return ke(this,"shift")},some(e,t){return Bt(this,"some",e,t,void 0,arguments)},splice(...e){return ke(this,"splice",e)},toReversed(){return Te(this).toReversed()},toSorted(e){return Te(this).toSorted(e)},toSpliced(...e){return Te(this).toSpliced(...e)},unshift(...e){return ke(this,"unshift",e)},values(){return Hi(this,"values",ut)}};function Hi(e,t,i){const s=xi(e),n=s[t]();return s!==e&&!Ot(e)&&(n._next=n.next,n.next=()=>{const l=n._next();return l.value&&(l.value=i(l.value)),l}),n}const to=Array.prototype;function Bt(e,t,i,s,n,l){const o=xi(e),r=o!==e&&!Ot(e),a=o[t];if(a!==to[t]){const h=a.apply(e,l);return r?ut(h):h}let c=i;o!==e&&(r?c=function(h,g){return i.call(this,ut(h),g,e)}:i.length>2&&(c=function(h,g){return i.call(this,h,g,e)}));const d=a.call(o,c,s);return r&&n?n(d):d}function Fs(e,t,i,s){const n=xi(e);let l=i;return n!==e&&(Ot(e)?i.length>3&&(l=function(o,r,a){return i.call(this,o,r,a,e)}):l=function(o,r,a){return i.call(this,o,ut(r),a,e)}),n[t](l,...s)}function Gi(e,t,i){const s=B(e);ct(s,"iterate",Xe);const n=s[t](...i);return(n===-1||n===!1)&&_s(i[0])?(i[0]=B(i[0]),s[t](...i)):n}function ke(e,t,i=[]){se(),ds();const s=B(e)[t].apply(e,i);return fs(),ne(),s}const eo=ls("__proto__,__v_isRef,__isVue"),Nn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ie));function io(e){ie(e)||(e=String(e));const t=B(this);return ct(t,"has",e),t.hasOwnProperty(e)}class $n{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,s){if(i==="__v_skip")return t.__v_skip;const n=this._isReadonly,l=this._isShallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return l;if(i==="__v_raw")return s===(n?l?ho:Gn:l?Hn:Pn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=P(t);if(!n){let a;if(o&&(a=Ql[i]))return a;if(i==="hasOwnProperty")return io}const r=Reflect.get(t,i,ft(t)?t:s);return(ie(i)?Nn.has(i):eo(i))||(n||ct(t,"get",i),l)?r:ft(r)?o&&as(i)?r:r.value:it(r)?n?Wn(r):gs(r):r}}class kn extends $n{constructor(t=!1){super(!1,t)}set(t,i,s,n){let l=t[i];if(!this._isShallow){const a=ve(l);if(!Ot(s)&&!ve(s)&&(l=B(l),s=B(s)),!P(t)&&ft(l)&&!ft(s))return a?!1:(l.value=s,!0)}const o=P(t)&&as(i)?Number(i)<t.length:j(t,i),r=Reflect.set(t,i,s,ft(t)?t:n);return t===B(n)&&(o?te(s,l)&&Ut(t,"set",i,s):Ut(t,"add",i,s)),r}deleteProperty(t,i){const s=j(t,i);t[i];const n=Reflect.deleteProperty(t,i);return n&&s&&Ut(t,"delete",i,void 0),n}has(t,i){const s=Reflect.has(t,i);return(!ie(i)||!Nn.has(i))&&ct(t,"has",i),s}ownKeys(t){return ct(t,"iterate",P(t)?"length":pe),Reflect.ownKeys(t)}}class so extends $n{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const no=new kn,lo=new so,oo=new kn(!0);const zi=e=>e,si=e=>Reflect.getPrototypeOf(e);function ro(e,t,i){return function(...s){const n=this.__v_raw,l=B(n),o=Oe(l),r=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,c=n[e](...s),d=i?zi:t?Yi:ut;return!t&&ct(l,"iterate",a?Xi:pe),{next(){const{value:h,done:g}=c.next();return g?{value:h,done:g}:{value:r?[d(h[0]),d(h[1])]:d(h),done:g}},[Symbol.iterator](){return this}}}}function ni(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ao(e,t){const i={get(n){const l=this.__v_raw,o=B(l),r=B(n);e||(te(n,r)&&ct(o,"get",n),ct(o,"get",r));const{has:a}=si(o),c=t?zi:e?Yi:ut;if(a.call(o,n))return c(l.get(n));if(a.call(o,r))return c(l.get(r));l!==o&&l.get(n)},get size(){const n=this.__v_raw;return!e&&ct(B(n),"iterate",pe),Reflect.get(n,"size",n)},has(n){const l=this.__v_raw,o=B(l),r=B(n);return e||(te(n,r)&&ct(o,"has",n),ct(o,"has",r)),n===r?l.has(n):l.has(n)||l.has(r)},forEach(n,l){const o=this,r=o.__v_raw,a=B(r),c=t?zi:e?Yi:ut;return!e&&ct(a,"iterate",pe),r.forEach((d,h)=>n.call(l,c(d),c(h),o))}};return rt(i,e?{add:ni("add"),set:ni("set"),delete:ni("delete"),clear:ni("clear")}:{add(n){!t&&!Ot(n)&&!ve(n)&&(n=B(n));const l=B(this);return si(l).has.call(l,n)||(l.add(n),Ut(l,"add",n,n)),this},set(n,l){!t&&!Ot(l)&&!ve(l)&&(l=B(l));const o=B(this),{has:r,get:a}=si(o);let c=r.call(o,n);c||(n=B(n),c=r.call(o,n));const d=a.call(o,n);return o.set(n,l),c?te(l,d)&&Ut(o,"set",n,l):Ut(o,"add",n,l),this},delete(n){const l=B(this),{has:o,get:r}=si(l);let a=o.call(l,n);a||(n=B(n),a=o.call(l,n)),r&&r.call(l,n);const c=l.delete(n);return a&&Ut(l,"delete",n,void 0),c},clear(){const n=B(this),l=n.size!==0,o=n.clear();return l&&Ut(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{i[n]=ro(n,e,t)}),i}function ms(e,t){const i=ao(e,t);return(s,n,l)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(j(i,n)&&n in s?i:s,n,l)}const co={get:ms(!1,!1)},uo={get:ms(!1,!0)},fo={get:ms(!0,!1)};const Pn=new WeakMap,Hn=new WeakMap,Gn=new WeakMap,ho=new WeakMap;function po(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mo(e){return e.__v_skip||!Object.isExtensible(e)?0:po(Gl(e))}function gs(e){return ve(e)?e:vs(e,!1,no,co,Pn)}function go(e){return vs(e,!1,oo,uo,Hn)}function Wn(e){return vs(e,!0,lo,fo,Gn)}function vs(e,t,i,s,n){if(!it(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=n.get(e);if(l)return l;const o=mo(e);if(o===0)return e;const r=new Proxy(e,o===2?s:i);return n.set(e,r),r}function Le(e){return ve(e)?Le(e.__v_raw):!!(e&&e.__v_isReactive)}function ve(e){return!!(e&&e.__v_isReadonly)}function Ot(e){return!!(e&&e.__v_isShallow)}function _s(e){return e?!!e.__v_raw:!1}function B(e){const t=e&&e.__v_raw;return t?B(t):e}function vo(e){return!j(e,"__v_skip")&&Object.isExtensible(e)&&wn(e,"__v_skip",!0),e}const ut=e=>it(e)?gs(e):e,Yi=e=>it(e)?Wn(e):e;function ft(e){return e?e.__v_isRef===!0:!1}function Fn(e){return Bn(e,!1)}function _o(e){return Bn(e,!0)}function Bn(e,t){return ft(e)?e:new bo(e,t)}class bo{constructor(t,i){this.dep=new ps,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:B(t),this._value=i?t:ut(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,s=this.__v_isShallow||Ot(t)||ve(t);t=s?t:B(t),te(t,i)&&(this._rawValue=t,this._value=s?t:ut(t),this.dep.trigger())}}function _t(e){return ft(e)?e.value:e}const yo={get:(e,t,i)=>t==="__v_raw"?e:_t(Reflect.get(e,t,i)),set:(e,t,i,s)=>{const n=e[t];return ft(n)&&!ft(i)?(n.value=i,!0):Reflect.set(e,t,i,s)}};function jn(e){return Le(e)?e:new Proxy(e,yo)}class Eo{constructor(t,i,s){this.fn=t,this.setter=i,this._value=void 0,this.dep=new ps(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ke-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Q!==this)return Ln(this,!0),!0}get value(){const t=this.dep.track();return An(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function wo(e,t,i=!1){let s,n;return H(e)?s=e:(s=e.get,n=e.set),new Eo(s,n,i)}const li={},hi=new WeakMap;let fe;function To(e,t=!1,i=fe){if(i){let s=hi.get(i);s||hi.set(i,s=[]),s.push(e)}}function So(e,t,i=z){const{immediate:s,deep:n,once:l,scheduler:o,augmentJob:r,call:a}=i,c=w=>n?w:Ot(w)||n===!1||n===0?Jt(w,1):Jt(w);let d,h,g,m,E=!1,x=!1;if(ft(e)?(h=()=>e.value,E=Ot(e)):Le(e)?(h=()=>c(e),E=!0):P(e)?(x=!0,E=e.some(w=>Le(w)||Ot(w)),h=()=>e.map(w=>{if(ft(w))return w.value;if(Le(w))return c(w);if(H(w))return a?a(w,2):w()})):H(e)?t?h=a?()=>a(e,2):e:h=()=>{if(g){se();try{g()}finally{ne()}}const w=fe;fe=d;try{return a?a(e,3,[m]):e(m)}finally{fe=w}}:h=Gt,t&&n){const w=h,k=n===!0?1/0:n;h=()=>Jt(w(),k)}const G=Yl(),O=()=>{d.stop(),G&&G.active&&rs(G.effects,d)};if(l&&t){const w=t;t=(...k)=>{w(...k),O()}}let M=x?new Array(e.length).fill(li):li;const I=w=>{if(!(!(d.flags&1)||!d.dirty&&!w))if(t){const k=d.run();if(n||E||(x?k.some((F,K)=>te(F,M[K])):te(k,M))){g&&g();const F=fe;fe=d;try{const K=[k,M===li?void 0:x&&M[0]===li?[]:M,m];a?a(t,3,K):t(...K),M=k}finally{fe=F}}}else d.run()};return r&&r(I),d=new Cn(h),d.scheduler=o?()=>o(I,!1):I,m=w=>To(w,!1,d),g=d.onStop=()=>{const w=hi.get(d);if(w){if(a)a(w,4);else for(const k of w)k();hi.delete(d)}},t?s?I(!0):M=d.run():o?o(I.bind(null,!0),!0):d.run(),O.pause=d.pause.bind(d),O.resume=d.resume.bind(d),O.stop=O,O}function Jt(e,t=1/0,i){if(t<=0||!it(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,ft(e))Jt(e.value,t,i);else if(P(e))for(let s=0;s<e.length;s++)Jt(e[s],t,i);else if(vn(e)||Oe(e))e.forEach(s=>{Jt(s,t,i)});else if(yn(e)){for(const s in e)Jt(e[s],t,i);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Jt(e[s],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Qe(e,t,i,s){try{return s?e(...s):e()}catch(n){Ci(n,t,i)}}function Wt(e,t,i,s){if(H(e)){const n=Qe(e,t,i,s);return n&&_n(n)&&n.catch(l=>{Ci(l,t,i)}),n}if(P(e)){const n=[];for(let l=0;l<e.length;l++)n.push(Wt(e[l],t,i,s));return n}}function Ci(e,t,i,s=!0){const n=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||z;if(t){let r=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;r;){const d=r.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,a,c)===!1)return}r=r.parent}if(l){se(),Qe(l,null,10,[e,a,c]),ne();return}}xo(e,i,n,s,o)}function xo(e,t,i,s=!0,n=!1){if(n)throw e;console.error(e)}const mt=[];let Pt=-1;const De=[];let zt=null,xe=0;const Un=Promise.resolve();let pi=null;function Co(e){const t=pi||Un;return e?t.then(this?e.bind(this):e):t}function Oo(e){let t=Pt+1,i=mt.length;for(;t<i;){const s=t+i>>>1,n=mt[s],l=ze(n);l<e||l===e&&n.flags&2?t=s+1:i=s}return t}function bs(e){if(!(e.flags&1)){const t=ze(e),i=mt[mt.length-1];!i||!(e.flags&2)&&t>=ze(i)?mt.push(e):mt.splice(Oo(t),0,e),e.flags|=1,Vn()}}function Vn(){pi||(pi=Un.then(Kn))}function Lo(e){P(e)?De.push(...e):zt&&e.id===-1?zt.splice(xe+1,0,e):e.flags&1||(De.push(e),e.flags|=1),Vn()}function Bs(e,t,i=Pt+1){for(;i<mt.length;i++){const s=mt[i];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;mt.splice(i,1),i--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function qn(e){if(De.length){const t=[...new Set(De)].sort((i,s)=>ze(i)-ze(s));if(De.length=0,zt){zt.push(...t);return}for(zt=t,xe=0;xe<zt.length;xe++){const i=zt[xe];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}zt=null,xe=0}}const ze=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Kn(e){try{for(Pt=0;Pt<mt.length;Pt++){const t=mt[Pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Qe(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Pt<mt.length;Pt++){const t=mt[Pt];t&&(t.flags&=-2)}Pt=-1,mt.length=0,qn(),pi=null,(mt.length||De.length)&&Kn()}}let At=null,Xn=null;function mi(e){const t=At;return At=e,Xn=e&&e.type.__scopeId||null,t}function Do(e,t=At,i){if(!t||e._n)return e;const s=(...n)=>{s._d&&Ys(-1);const l=mi(t);let o;try{o=e(...n)}finally{mi(l),s._d&&Ys(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ue(e,t,i,s){const n=e.dirs,l=t&&t.dirs;for(let o=0;o<n.length;o++){const r=n[o];l&&(r.oldValue=l[o].value);let a=r.dir[s];a&&(se(),Wt(a,i,8,[e.el,r,e,t]),ne())}}const Io=Symbol("_vte"),Ao=e=>e.__isTeleport;function ys(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ys(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Yn(e){const t=xr(),i=_o(null);if(t){const n=t.refs===z?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>i.value,set:l=>i.value=l})}return i}function gi(e,t,i,s,n=!1){if(P(e)){e.forEach((E,x)=>gi(E,t&&(P(t)?t[x]:t),i,s,n));return}if(Ue(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&gi(e,t,i,s.component.subTree);return}const l=s.shapeFlag&4?xs(s.component):s.el,o=n?null:l,{i:r,r:a}=e,c=t&&t.r,d=r.refs===z?r.refs={}:r.refs,h=r.setupState,g=B(h),m=h===z?()=>!1:E=>j(g,E);if(c!=null&&c!==a&&(nt(c)?(d[c]=null,m(c)&&(h[c]=null)):ft(c)&&(c.value=null)),H(a))Qe(a,r,12,[o,d]);else{const E=nt(a),x=ft(a);if(E||x){const G=()=>{if(e.f){const O=E?m(a)?h[a]:d[a]:a.value;n?P(O)&&rs(O,l):P(O)?O.includes(l)||O.push(l):E?(d[a]=[l],m(a)&&(h[a]=d[a])):(a.value=[l],e.k&&(d[e.k]=a.value))}else E?(d[a]=o,m(a)&&(h[a]=o)):x&&(a.value=o,e.k&&(d[e.k]=o))};o?(G.id=-1,wt(G,i)):G()}}}Si().requestIdleCallback;Si().cancelIdleCallback;const Ue=e=>!!e.type.__asyncLoader,Jn=e=>e.type.__isKeepAlive;function Mo(e,t){Zn(e,"a",t)}function Ro(e,t){Zn(e,"da",t)}function Zn(e,t,i=dt){const s=e.__wdc||(e.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Oi(t,s,i),i){let n=i.parent;for(;n&&n.parent;)Jn(n.parent.vnode)&&No(s,t,i,n),n=n.parent}}function No(e,t,i,s){const n=Oi(t,e,s,!0);Qn(()=>{rs(s[t],n)},i)}function Oi(e,t,i=dt,s=!1){if(i){const n=i[e]||(i[e]=[]),l=t.__weh||(t.__weh=(...o)=>{se();const r=ti(i),a=Wt(t,i,e,o);return r(),ne(),a});return s?n.unshift(l):n.push(l),l}}const Kt=e=>(t,i=dt)=>{(!Je||e==="sp")&&Oi(e,(...s)=>t(...s),i)},$o=Kt("bm"),le=Kt("m"),ko=Kt("bu"),Po=Kt("u"),Ee=Kt("bum"),Qn=Kt("um"),Ho=Kt("sp"),Go=Kt("rtg"),Wo=Kt("rtc");function Fo(e,t=dt){Oi("ec",e,t)}const Bo=Symbol.for("v-ndc");function Zt(e,t,i,s){let n;const l=i,o=P(e);if(o||nt(e)){const r=o&&Le(e);let a=!1;r&&(a=!Ot(e),e=xi(e)),n=new Array(e.length);for(let c=0,d=e.length;c<d;c++)n[c]=t(a?ut(e[c]):e[c],c,void 0,l)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,l)}else if(it(e))if(e[Symbol.iterator])n=Array.from(e,(r,a)=>t(r,a,void 0,l));else{const r=Object.keys(e);n=new Array(r.length);for(let a=0,c=r.length;a<c;a++){const d=r[a];n[a]=t(e[d],d,a,l)}}else n=[];return n}const Ji=e=>e?wl(e)?xs(e):Ji(e.parent):null,Ve=rt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ji(e.parent),$root:e=>Ji(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Es(e),$forceUpdate:e=>e.f||(e.f=()=>{bs(e.update)}),$nextTick:e=>e.n||(e.n=Co.bind(e.proxy)),$watch:e=>ur.bind(e)}),Wi=(e,t)=>e!==z&&!e.__isScriptSetup&&j(e,t),jo={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:s,data:n,props:l,accessCache:o,type:r,appContext:a}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return n[t];case 4:return i[t];case 3:return l[t]}else{if(Wi(s,t))return o[t]=1,s[t];if(n!==z&&j(n,t))return o[t]=2,n[t];if((c=e.propsOptions[0])&&j(c,t))return o[t]=3,l[t];if(i!==z&&j(i,t))return o[t]=4,i[t];Zi&&(o[t]=0)}}const d=Ve[t];let h,g;if(d)return t==="$attrs"&&ct(e.attrs,"get",""),d(e);if((h=r.__cssModules)&&(h=h[t]))return h;if(i!==z&&j(i,t))return o[t]=4,i[t];if(g=a.config.globalProperties,j(g,t))return g[t]},set({_:e},t,i){const{data:s,setupState:n,ctx:l}=e;return Wi(n,t)?(n[t]=i,!0):s!==z&&j(s,t)?(s[t]=i,!0):j(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:s,appContext:n,propsOptions:l}},o){let r;return!!i[o]||e!==z&&j(e,o)||Wi(t,o)||(r=l[0])&&j(r,o)||j(s,o)||j(Ve,o)||j(n.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:j(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function js(e){return P(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let Zi=!0;function Uo(e){const t=Es(e),i=e.proxy,s=e.ctx;Zi=!1,t.beforeCreate&&Us(t.beforeCreate,e,"bc");const{data:n,computed:l,methods:o,watch:r,provide:a,inject:c,created:d,beforeMount:h,mounted:g,beforeUpdate:m,updated:E,activated:x,deactivated:G,beforeDestroy:O,beforeUnmount:M,destroyed:I,unmounted:w,render:k,renderTracked:F,renderTriggered:K,errorCaptured:X,serverPrefetch:Y,expose:vt,inheritAttrs:Lt,components:Xt,directives:we,filters:Mi}=t;if(c&&Vo(c,s,null),o)for(const et in o){const J=o[et];H(J)&&(s[et]=J.bind(i))}if(n){const et=n.call(i,i);it(et)&&(e.data=gs(et))}if(Zi=!0,l)for(const et in l){const J=l[et],ae=H(J)?J.bind(i,i):H(J.get)?J.get.bind(i,i):Gt,ei=!H(J)&&H(J.set)?J.set.bind(i):Gt,ce=Ar({get:ae,set:ei});Object.defineProperty(s,et,{enumerable:!0,configurable:!0,get:()=>ce.value,set:Nt=>ce.value=Nt})}if(r)for(const et in r)tl(r[et],s,i,et);if(a){const et=H(a)?a.call(i):a;Reflect.ownKeys(et).forEach(J=>{Jo(J,et[J])})}d&&Us(d,e,"c");function ht(et,J){P(J)?J.forEach(ae=>et(ae.bind(i))):J&&et(J.bind(i))}if(ht($o,h),ht(le,g),ht(ko,m),ht(Po,E),ht(Mo,x),ht(Ro,G),ht(Fo,X),ht(Wo,F),ht(Go,K),ht(Ee,M),ht(Qn,w),ht(Ho,Y),P(vt))if(vt.length){const et=e.exposed||(e.exposed={});vt.forEach(J=>{Object.defineProperty(et,J,{get:()=>i[J],set:ae=>i[J]=ae})})}else e.exposed||(e.exposed={});k&&e.render===Gt&&(e.render=k),Lt!=null&&(e.inheritAttrs=Lt),Xt&&(e.components=Xt),we&&(e.directives=we),Y&&zn(e)}function Vo(e,t,i=Gt){P(e)&&(e=Qi(e));for(const s in e){const n=e[s];let l;it(n)?"default"in n?l=me(n.from||s,n.default,!0):l=me(n.from||s):l=me(n),ft(l)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:o=>l.value=o}):t[s]=l}}function Us(e,t,i){Wt(P(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,i)}function tl(e,t,i,s){let n=s.includes(".")?pl(i,s):()=>i[s];if(nt(e)){const l=t[e];H(l)&&Bi(n,l)}else if(H(e))Bi(n,e.bind(i));else if(it(e))if(P(e))e.forEach(l=>tl(l,t,i,s));else{const l=H(e.handler)?e.handler.bind(i):t[e.handler];H(l)&&Bi(n,l,e)}}function Es(e){const t=e.type,{mixins:i,extends:s}=t,{mixins:n,optionsCache:l,config:{optionMergeStrategies:o}}=e.appContext,r=l.get(t);let a;return r?a=r:!n.length&&!i&&!s?a=t:(a={},n.length&&n.forEach(c=>vi(a,c,o,!0)),vi(a,t,o)),it(t)&&l.set(t,a),a}function vi(e,t,i,s=!1){const{mixins:n,extends:l}=t;l&&vi(e,l,i,!0),n&&n.forEach(o=>vi(e,o,i,!0));for(const o in t)if(!(s&&o==="expose")){const r=qo[o]||i&&i[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const qo={data:Vs,props:qs,emits:qs,methods:Ge,computed:Ge,beforeCreate:pt,created:pt,beforeMount:pt,mounted:pt,beforeUpdate:pt,updated:pt,beforeDestroy:pt,beforeUnmount:pt,destroyed:pt,unmounted:pt,activated:pt,deactivated:pt,errorCaptured:pt,serverPrefetch:pt,components:Ge,directives:Ge,watch:Xo,provide:Vs,inject:Ko};function Vs(e,t){return t?e?function(){return rt(H(e)?e.call(this,this):e,H(t)?t.call(this,this):t)}:t:e}function Ko(e,t){return Ge(Qi(e),Qi(t))}function Qi(e){if(P(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function pt(e,t){return e?[...new Set([].concat(e,t))]:t}function Ge(e,t){return e?rt(Object.create(null),e,t):t}function qs(e,t){return e?P(e)&&P(t)?[...new Set([...e,...t])]:rt(Object.create(null),js(e),js(t??{})):t}function Xo(e,t){if(!e)return t;if(!t)return e;const i=rt(Object.create(null),e);for(const s in t)i[s]=pt(e[s],t[s]);return i}function el(){return{app:null,config:{isNativeTag:Pl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zo=0;function Yo(e,t){return function(s,n=null){H(s)||(s=rt({},s)),n!=null&&!it(n)&&(n=null);const l=el(),o=new WeakSet,r=[];let a=!1;const c=l.app={_uid:zo++,_component:s,_props:n,_container:null,_context:l,_instance:null,version:Mr,get config(){return l.config},set config(d){},use(d,...h){return o.has(d)||(d&&H(d.install)?(o.add(d),d.install(c,...h)):H(d)&&(o.add(d),d(c,...h))),c},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),c},component(d,h){return h?(l.components[d]=h,c):l.components[d]},directive(d,h){return h?(l.directives[d]=h,c):l.directives[d]},mount(d,h,g){if(!a){const m=c._ceVNode||Rt(s,n);return m.appContext=l,g===!0?g="svg":g===!1&&(g=void 0),h&&t?t(m,d):e(m,d,g),a=!0,c._container=d,d.__vue_app__=c,xs(m.component)}},onUnmount(d){r.push(d)},unmount(){a&&(Wt(r,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(d,h){return l.provides[d]=h,c},runWithContext(d){const h=Ie;Ie=c;try{return d()}finally{Ie=h}}};return c}}let Ie=null;function Jo(e,t){if(dt){let i=dt.provides;const s=dt.parent&&dt.parent.provides;s===i&&(i=dt.provides=Object.create(s)),i[e]=t}}function me(e,t,i=!1){const s=dt||At;if(s||Ie){const n=Ie?Ie._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return i&&H(t)?t.call(s&&s.proxy):t}}const il={},sl=()=>Object.create(il),nl=e=>Object.getPrototypeOf(e)===il;function Zo(e,t,i,s=!1){const n={},l=sl();e.propsDefaults=Object.create(null),ll(e,t,n,l);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);i?e.props=s?n:go(n):e.type.props?e.props=n:e.props=l,e.attrs=l}function Qo(e,t,i,s){const{props:n,attrs:l,vnode:{patchFlag:o}}=e,r=B(n),[a]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let h=0;h<d.length;h++){let g=d[h];if(Li(e.emitsOptions,g))continue;const m=t[g];if(a)if(j(l,g))m!==l[g]&&(l[g]=m,c=!0);else{const E=ee(g);n[E]=ts(a,r,E,m,e,!1)}else m!==l[g]&&(l[g]=m,c=!0)}}}else{ll(e,t,n,l)&&(c=!0);let d;for(const h in r)(!t||!j(t,h)&&((d=ye(h))===h||!j(t,d)))&&(a?i&&(i[h]!==void 0||i[d]!==void 0)&&(n[h]=ts(a,r,h,void 0,e,!0)):delete n[h]);if(l!==r)for(const h in l)(!t||!j(t,h))&&(delete l[h],c=!0)}c&&Ut(e.attrs,"set","")}function ll(e,t,i,s){const[n,l]=e.propsOptions;let o=!1,r;if(t)for(let a in t){if(Fe(a))continue;const c=t[a];let d;n&&j(n,d=ee(a))?!l||!l.includes(d)?i[d]=c:(r||(r={}))[d]=c:Li(e.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(l){const a=B(i),c=r||z;for(let d=0;d<l.length;d++){const h=l[d];i[h]=ts(n,a,h,c[h],e,!j(c,h))}}return o}function ts(e,t,i,s,n,l){const o=e[i];if(o!=null){const r=j(o,"default");if(r&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&H(a)){const{propsDefaults:c}=n;if(i in c)s=c[i];else{const d=ti(n);s=c[i]=a.call(null,t),d()}}else s=a;n.ce&&n.ce._setProp(i,s)}o[0]&&(l&&!r?s=!1:o[1]&&(s===""||s===ye(i))&&(s=!0))}return s}const tr=new WeakMap;function ol(e,t,i=!1){const s=i?tr:t.propsCache,n=s.get(e);if(n)return n;const l=e.props,o={},r=[];let a=!1;if(!H(e)){const d=h=>{a=!0;const[g,m]=ol(h,t,!0);rt(o,g),m&&r.push(...m)};!i&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!l&&!a)return it(e)&&s.set(e,Ce),Ce;if(P(l))for(let d=0;d<l.length;d++){const h=ee(l[d]);Ks(h)&&(o[h]=z)}else if(l)for(const d in l){const h=ee(d);if(Ks(h)){const g=l[d],m=o[h]=P(g)||H(g)?{type:g}:rt({},g),E=m.type;let x=!1,G=!0;if(P(E))for(let O=0;O<E.length;++O){const M=E[O],I=H(M)&&M.name;if(I==="Boolean"){x=!0;break}else I==="String"&&(G=!1)}else x=H(E)&&E.name==="Boolean";m[0]=x,m[1]=G,(x||j(m,"default"))&&r.push(h)}}const c=[o,r];return it(e)&&s.set(e,c),c}function Ks(e){return e[0]!=="$"&&!Fe(e)}const rl=e=>e[0]==="_"||e==="$stable",ws=e=>P(e)?e.map(Ht):[Ht(e)],er=(e,t,i)=>{if(t._n)return t;const s=Do((...n)=>ws(t(...n)),i);return s._c=!1,s},al=(e,t,i)=>{const s=e._ctx;for(const n in e){if(rl(n))continue;const l=e[n];if(H(l))t[n]=er(n,l,s);else if(l!=null){const o=ws(l);t[n]=()=>o}}},cl=(e,t)=>{const i=ws(t);e.slots.default=()=>i},ul=(e,t,i)=>{for(const s in t)(i||s!=="_")&&(e[s]=t[s])},ir=(e,t,i)=>{const s=e.slots=sl();if(e.vnode.shapeFlag&32){const n=t._;n?(ul(s,t,i),i&&wn(s,"_",n,!0)):al(t,s)}else t&&cl(e,t)},sr=(e,t,i)=>{const{vnode:s,slots:n}=e;let l=!0,o=z;if(s.shapeFlag&32){const r=t._;r?i&&r===1?l=!1:ul(n,t,i):(l=!t.$stable,al(t,n)),o=t}else t&&(cl(e,t),o={default:1});if(l)for(const r in n)!rl(r)&&o[r]==null&&delete n[r]},wt=vr;function nr(e){return lr(e)}function lr(e,t){const i=Si();i.__VUE__=!0;const{insert:s,remove:n,patchProp:l,createElement:o,createText:r,createComment:a,setText:c,setElementText:d,parentNode:h,nextSibling:g,setScopeId:m=Gt,insertStaticContent:E}=e,x=(u,f,p,b=null,v=null,_=null,C=void 0,S=null,T=!!f.dynamicChildren)=>{if(u===f)return;u&&!Pe(u,f)&&(b=ii(u),Nt(u,v,_,!0),u=null),f.patchFlag===-2&&(T=!1,f.dynamicChildren=null);const{type:y,ref:R,shapeFlag:D}=f;switch(y){case Di:G(u,f,p,b);break;case _e:O(u,f,p,b);break;case ci:u==null&&M(f,p,b,C);break;case lt:Xt(u,f,p,b,v,_,C,S,T);break;default:D&1?k(u,f,p,b,v,_,C,S,T):D&6?we(u,f,p,b,v,_,C,S,T):(D&64||D&128)&&y.process(u,f,p,b,v,_,C,S,T,Ne)}R!=null&&v&&gi(R,u&&u.ref,_,f||u,!f)},G=(u,f,p,b)=>{if(u==null)s(f.el=r(f.children),p,b);else{const v=f.el=u.el;f.children!==u.children&&c(v,f.children)}},O=(u,f,p,b)=>{u==null?s(f.el=a(f.children||""),p,b):f.el=u.el},M=(u,f,p,b)=>{[u.el,u.anchor]=E(u.children,f,p,b,u.el,u.anchor)},I=({el:u,anchor:f},p,b)=>{let v;for(;u&&u!==f;)v=g(u),s(u,p,b),u=v;s(f,p,b)},w=({el:u,anchor:f})=>{let p;for(;u&&u!==f;)p=g(u),n(u),u=p;n(f)},k=(u,f,p,b,v,_,C,S,T)=>{f.type==="svg"?C="svg":f.type==="math"&&(C="mathml"),u==null?F(f,p,b,v,_,C,S,T):Y(u,f,v,_,C,S,T)},F=(u,f,p,b,v,_,C,S)=>{let T,y;const{props:R,shapeFlag:D,transition:A,dirs:N}=u;if(T=u.el=o(u.type,_,R&&R.is,R),D&8?d(T,u.children):D&16&&X(u.children,T,null,b,v,Fi(u,_),C,S),N&&ue(u,null,b,"created"),K(T,u,u.scopeId,C,b),R){for(const Z in R)Z!=="value"&&!Fe(Z)&&l(T,Z,null,R[Z],_,b);"value"in R&&l(T,"value",null,R.value,_),(y=R.onVnodeBeforeMount)&&kt(y,b,u)}N&&ue(u,null,b,"beforeMount");const W=or(v,A);W&&A.beforeEnter(T),s(T,f,p),((y=R&&R.onVnodeMounted)||W||N)&&wt(()=>{y&&kt(y,b,u),W&&A.enter(T),N&&ue(u,null,b,"mounted")},v)},K=(u,f,p,b,v)=>{if(p&&m(u,p),b)for(let _=0;_<b.length;_++)m(u,b[_]);if(v){let _=v.subTree;if(f===_||gl(_.type)&&(_.ssContent===f||_.ssFallback===f)){const C=v.vnode;K(u,C,C.scopeId,C.slotScopeIds,v.parent)}}},X=(u,f,p,b,v,_,C,S,T=0)=>{for(let y=T;y<u.length;y++){const R=u[y]=S?Yt(u[y]):Ht(u[y]);x(null,R,f,p,b,v,_,C,S)}},Y=(u,f,p,b,v,_,C)=>{const S=f.el=u.el;let{patchFlag:T,dynamicChildren:y,dirs:R}=f;T|=u.patchFlag&16;const D=u.props||z,A=f.props||z;let N;if(p&&de(p,!1),(N=A.onVnodeBeforeUpdate)&&kt(N,p,f,u),R&&ue(f,u,p,"beforeUpdate"),p&&de(p,!0),(D.innerHTML&&A.innerHTML==null||D.textContent&&A.textContent==null)&&d(S,""),y?vt(u.dynamicChildren,y,S,p,b,Fi(f,v),_):C||J(u,f,S,null,p,b,Fi(f,v),_,!1),T>0){if(T&16)Lt(S,D,A,p,v);else if(T&2&&D.class!==A.class&&l(S,"class",null,A.class,v),T&4&&l(S,"style",D.style,A.style,v),T&8){const W=f.dynamicProps;for(let Z=0;Z<W.length;Z++){const V=W[Z],bt=D[V],at=A[V];(at!==bt||V==="value")&&l(S,V,bt,at,v,p)}}T&1&&u.children!==f.children&&d(S,f.children)}else!C&&y==null&&Lt(S,D,A,p,v);((N=A.onVnodeUpdated)||R)&&wt(()=>{N&&kt(N,p,f,u),R&&ue(f,u,p,"updated")},b)},vt=(u,f,p,b,v,_,C)=>{for(let S=0;S<f.length;S++){const T=u[S],y=f[S],R=T.el&&(T.type===lt||!Pe(T,y)||T.shapeFlag&70)?h(T.el):p;x(T,y,R,null,b,v,_,C,!0)}},Lt=(u,f,p,b,v)=>{if(f!==p){if(f!==z)for(const _ in f)!Fe(_)&&!(_ in p)&&l(u,_,f[_],null,v,b);for(const _ in p){if(Fe(_))continue;const C=p[_],S=f[_];C!==S&&_!=="value"&&l(u,_,S,C,v,b)}"value"in p&&l(u,"value",f.value,p.value,v)}},Xt=(u,f,p,b,v,_,C,S,T)=>{const y=f.el=u?u.el:r(""),R=f.anchor=u?u.anchor:r("");let{patchFlag:D,dynamicChildren:A,slotScopeIds:N}=f;N&&(S=S?S.concat(N):N),u==null?(s(y,p,b),s(R,p,b),X(f.children||[],p,R,v,_,C,S,T)):D>0&&D&64&&A&&u.dynamicChildren?(vt(u.dynamicChildren,A,p,v,_,C,S),(f.key!=null||v&&f===v.subTree)&&dl(u,f,!0)):J(u,f,p,R,v,_,C,S,T)},we=(u,f,p,b,v,_,C,S,T)=>{f.slotScopeIds=S,u==null?f.shapeFlag&512?v.ctx.activate(f,p,b,C,T):Mi(f,p,b,v,_,C,T):Ms(u,f,T)},Mi=(u,f,p,b,v,_,C)=>{const S=u.component=Sr(u,b,v);if(Jn(u)&&(S.ctx.renderer=Ne),Cr(S,!1,C),S.asyncDep){if(v&&v.registerDep(S,ht,C),!u.el){const T=S.subTree=Rt(_e);O(null,T,f,p)}}else ht(S,u,f,p,v,_,C)},Ms=(u,f,p)=>{const b=f.component=u.component;if(mr(u,f,p))if(b.asyncDep&&!b.asyncResolved){et(b,f,p);return}else b.next=f,b.update();else f.el=u.el,b.vnode=f},ht=(u,f,p,b,v,_,C)=>{const S=()=>{if(u.isMounted){let{next:D,bu:A,u:N,parent:W,vnode:Z}=u;{const yt=fl(u);if(yt){D&&(D.el=Z.el,et(u,D,C)),yt.asyncDep.then(()=>{u.isUnmounted||S()});return}}let V=D,bt;de(u,!1),D?(D.el=Z.el,et(u,D,C)):D=Z,A&&$i(A),(bt=D.props&&D.props.onVnodeBeforeUpdate)&&kt(bt,W,D,Z),de(u,!0);const at=ji(u),Dt=u.subTree;u.subTree=at,x(Dt,at,h(Dt.el),ii(Dt),u,v,_),D.el=at.el,V===null&&gr(u,at.el),N&&wt(N,v),(bt=D.props&&D.props.onVnodeUpdated)&&wt(()=>kt(bt,W,D,Z),v)}else{let D;const{el:A,props:N}=f,{bm:W,m:Z,parent:V,root:bt,type:at}=u,Dt=Ue(f);if(de(u,!1),W&&$i(W),!Dt&&(D=N&&N.onVnodeBeforeMount)&&kt(D,V,f),de(u,!0),A&&ks){const yt=()=>{u.subTree=ji(u),ks(A,u.subTree,u,v,null)};Dt&&at.__asyncHydrate?at.__asyncHydrate(A,u,yt):yt()}else{bt.ce&&bt.ce._injectChildStyle(at);const yt=u.subTree=ji(u);x(null,yt,p,b,u,v,_),f.el=yt.el}if(Z&&wt(Z,v),!Dt&&(D=N&&N.onVnodeMounted)){const yt=f;wt(()=>kt(D,V,yt),v)}(f.shapeFlag&256||V&&Ue(V.vnode)&&V.vnode.shapeFlag&256)&&u.a&&wt(u.a,v),u.isMounted=!0,f=p=b=null}};u.scope.on();const T=u.effect=new Cn(S);u.scope.off();const y=u.update=T.run.bind(T),R=u.job=T.runIfDirty.bind(T);R.i=u,R.id=u.uid,T.scheduler=()=>bs(R),de(u,!0),y()},et=(u,f,p)=>{f.component=u;const b=u.vnode.props;u.vnode=f,u.next=null,Qo(u,f.props,b,p),sr(u,f.children,p),se(),Bs(u),ne()},J=(u,f,p,b,v,_,C,S,T=!1)=>{const y=u&&u.children,R=u?u.shapeFlag:0,D=f.children,{patchFlag:A,shapeFlag:N}=f;if(A>0){if(A&128){ei(y,D,p,b,v,_,C,S,T);return}else if(A&256){ae(y,D,p,b,v,_,C,S,T);return}}N&8?(R&16&&Re(y,v,_),D!==y&&d(p,D)):R&16?N&16?ei(y,D,p,b,v,_,C,S,T):Re(y,v,_,!0):(R&8&&d(p,""),N&16&&X(D,p,b,v,_,C,S,T))},ae=(u,f,p,b,v,_,C,S,T)=>{u=u||Ce,f=f||Ce;const y=u.length,R=f.length,D=Math.min(y,R);let A;for(A=0;A<D;A++){const N=f[A]=T?Yt(f[A]):Ht(f[A]);x(u[A],N,p,null,v,_,C,S,T)}y>R?Re(u,v,_,!0,!1,D):X(f,p,b,v,_,C,S,T,D)},ei=(u,f,p,b,v,_,C,S,T)=>{let y=0;const R=f.length;let D=u.length-1,A=R-1;for(;y<=D&&y<=A;){const N=u[y],W=f[y]=T?Yt(f[y]):Ht(f[y]);if(Pe(N,W))x(N,W,p,null,v,_,C,S,T);else break;y++}for(;y<=D&&y<=A;){const N=u[D],W=f[A]=T?Yt(f[A]):Ht(f[A]);if(Pe(N,W))x(N,W,p,null,v,_,C,S,T);else break;D--,A--}if(y>D){if(y<=A){const N=A+1,W=N<R?f[N].el:b;for(;y<=A;)x(null,f[y]=T?Yt(f[y]):Ht(f[y]),p,W,v,_,C,S,T),y++}}else if(y>A)for(;y<=D;)Nt(u[y],v,_,!0),y++;else{const N=y,W=y,Z=new Map;for(y=W;y<=A;y++){const Et=f[y]=T?Yt(f[y]):Ht(f[y]);Et.key!=null&&Z.set(Et.key,y)}let V,bt=0;const at=A-W+1;let Dt=!1,yt=0;const $e=new Array(at);for(y=0;y<at;y++)$e[y]=0;for(y=N;y<=D;y++){const Et=u[y];if(bt>=at){Nt(Et,v,_,!0);continue}let $t;if(Et.key!=null)$t=Z.get(Et.key);else for(V=W;V<=A;V++)if($e[V-W]===0&&Pe(Et,f[V])){$t=V;break}$t===void 0?Nt(Et,v,_,!0):($e[$t-W]=y+1,$t>=yt?yt=$t:Dt=!0,x(Et,f[$t],p,null,v,_,C,S,T),bt++)}const Ps=Dt?rr($e):Ce;for(V=Ps.length-1,y=at-1;y>=0;y--){const Et=W+y,$t=f[Et],Hs=Et+1<R?f[Et+1].el:b;$e[y]===0?x(null,$t,p,Hs,v,_,C,S,T):Dt&&(V<0||y!==Ps[V]?ce($t,p,Hs,2):V--)}}},ce=(u,f,p,b,v=null)=>{const{el:_,type:C,transition:S,children:T,shapeFlag:y}=u;if(y&6){ce(u.component.subTree,f,p,b);return}if(y&128){u.suspense.move(f,p,b);return}if(y&64){C.move(u,f,p,Ne);return}if(C===lt){s(_,f,p);for(let D=0;D<T.length;D++)ce(T[D],f,p,b);s(u.anchor,f,p);return}if(C===ci){I(u,f,p);return}if(b!==2&&y&1&&S)if(b===0)S.beforeEnter(_),s(_,f,p),wt(()=>S.enter(_),v);else{const{leave:D,delayLeave:A,afterLeave:N}=S,W=()=>s(_,f,p),Z=()=>{D(_,()=>{W(),N&&N()})};A?A(_,W,Z):Z()}else s(_,f,p)},Nt=(u,f,p,b=!1,v=!1)=>{const{type:_,props:C,ref:S,children:T,dynamicChildren:y,shapeFlag:R,patchFlag:D,dirs:A,cacheIndex:N}=u;if(D===-2&&(v=!1),S!=null&&gi(S,null,p,u,!0),N!=null&&(f.renderCache[N]=void 0),R&256){f.ctx.deactivate(u);return}const W=R&1&&A,Z=!Ue(u);let V;if(Z&&(V=C&&C.onVnodeBeforeUnmount)&&kt(V,f,u),R&6)Nl(u.component,p,b);else{if(R&128){u.suspense.unmount(p,b);return}W&&ue(u,null,f,"beforeUnmount"),R&64?u.type.remove(u,f,p,Ne,b):y&&!y.hasOnce&&(_!==lt||D>0&&D&64)?Re(y,f,p,!1,!0):(_===lt&&D&384||!v&&R&16)&&Re(T,f,p),b&&Rs(u)}(Z&&(V=C&&C.onVnodeUnmounted)||W)&&wt(()=>{V&&kt(V,f,u),W&&ue(u,null,f,"unmounted")},p)},Rs=u=>{const{type:f,el:p,anchor:b,transition:v}=u;if(f===lt){Rl(p,b);return}if(f===ci){w(u);return}const _=()=>{n(p),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(u.shapeFlag&1&&v&&!v.persisted){const{leave:C,delayLeave:S}=v,T=()=>C(p,_);S?S(u.el,_,T):T()}else _()},Rl=(u,f)=>{let p;for(;u!==f;)p=g(u),n(u),u=p;n(f)},Nl=(u,f,p)=>{const{bum:b,scope:v,job:_,subTree:C,um:S,m:T,a:y}=u;Xs(T),Xs(y),b&&$i(b),v.stop(),_&&(_.flags|=8,Nt(C,u,f,p)),S&&wt(S,f),wt(()=>{u.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Re=(u,f,p,b=!1,v=!1,_=0)=>{for(let C=_;C<u.length;C++)Nt(u[C],f,p,b,v)},ii=u=>{if(u.shapeFlag&6)return ii(u.component.subTree);if(u.shapeFlag&128)return u.suspense.next();const f=g(u.anchor||u.el),p=f&&f[Io];return p?g(p):f};let Ri=!1;const Ns=(u,f,p)=>{u==null?f._vnode&&Nt(f._vnode,null,null,!0):x(f._vnode||null,u,f,null,null,null,p),f._vnode=u,Ri||(Ri=!0,Bs(),qn(),Ri=!1)},Ne={p:x,um:Nt,m:ce,r:Rs,mt:Mi,mc:X,pc:J,pbc:vt,n:ii,o:e};let $s,ks;return{render:Ns,hydrate:$s,createApp:Yo(Ns,$s)}}function Fi({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function de({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function or(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function dl(e,t,i=!1){const s=e.children,n=t.children;if(P(s)&&P(n))for(let l=0;l<s.length;l++){const o=s[l];let r=n[l];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=n[l]=Yt(n[l]),r.el=o.el),!i&&r.patchFlag!==-2&&dl(o,r)),r.type===Di&&(r.el=o.el)}}function rr(e){const t=e.slice(),i=[0];let s,n,l,o,r;const a=e.length;for(s=0;s<a;s++){const c=e[s];if(c!==0){if(n=i[i.length-1],e[n]<c){t[s]=n,i.push(s);continue}for(l=0,o=i.length-1;l<o;)r=l+o>>1,e[i[r]]<c?l=r+1:o=r;c<e[i[l]]&&(l>0&&(t[s]=i[l-1]),i[l]=s)}}for(l=i.length,o=i[l-1];l-- >0;)i[l]=o,o=t[o];return i}function fl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:fl(t)}function Xs(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ar=Symbol.for("v-scx"),cr=()=>me(ar);function Bi(e,t,i){return hl(e,t,i)}function hl(e,t,i=z){const{immediate:s,deep:n,flush:l,once:o}=i,r=rt({},i),a=t&&s||!t&&l!=="post";let c;if(Je){if(l==="sync"){const m=cr();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!a){const m=()=>{};return m.stop=Gt,m.resume=Gt,m.pause=Gt,m}}const d=dt;r.call=(m,E,x)=>Wt(m,d,E,x);let h=!1;l==="post"?r.scheduler=m=>{wt(m,d&&d.suspense)}:l!=="sync"&&(h=!0,r.scheduler=(m,E)=>{E?m():bs(m)}),r.augmentJob=m=>{t&&(m.flags|=4),h&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const g=So(e,t,r);return Je&&(c?c.push(g):a&&g()),g}function ur(e,t,i){const s=this.proxy,n=nt(e)?e.includes(".")?pl(s,e):()=>s[e]:e.bind(s,s);let l;H(t)?l=t:(l=t.handler,i=t);const o=ti(this),r=hl(n,l.bind(s),i);return o(),r}function pl(e,t){const i=t.split(".");return()=>{let s=e;for(let n=0;n<i.length&&s;n++)s=s[i[n]];return s}}const dr=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ee(t)}Modifiers`]||e[`${ye(t)}Modifiers`];function fr(e,t,...i){if(e.isUnmounted)return;const s=e.vnode.props||z;let n=i;const l=t.startsWith("update:"),o=l&&dr(s,t.slice(7));o&&(o.trim&&(n=i.map(d=>nt(d)?d.trim():d)),o.number&&(n=i.map(Bl)));let r,a=s[r=Ni(t)]||s[r=Ni(ee(t))];!a&&l&&(a=s[r=Ni(ye(t))]),a&&Wt(a,e,6,n);const c=s[r+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,Wt(c,e,6,n)}}function ml(e,t,i=!1){const s=t.emitsCache,n=s.get(e);if(n!==void 0)return n;const l=e.emits;let o={},r=!1;if(!H(e)){const a=c=>{const d=ml(c,t,!0);d&&(r=!0,rt(o,d))};!i&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!l&&!r?(it(e)&&s.set(e,null),null):(P(l)?l.forEach(a=>o[a]=null):rt(o,l),it(e)&&s.set(e,o),o)}function Li(e,t){return!e||!Ei(t)?!1:(t=t.slice(2).replace(/Once$/,""),j(e,t[0].toLowerCase()+t.slice(1))||j(e,ye(t))||j(e,t))}function ji(e){const{type:t,vnode:i,proxy:s,withProxy:n,propsOptions:[l],slots:o,attrs:r,emit:a,render:c,renderCache:d,props:h,data:g,setupState:m,ctx:E,inheritAttrs:x}=e,G=mi(e);let O,M;try{if(i.shapeFlag&4){const w=n||s,k=w;O=Ht(c.call(k,w,d,h,m,g,E)),M=r}else{const w=t;O=Ht(w.length>1?w(h,{attrs:r,slots:o,emit:a}):w(h,null)),M=t.props?r:hr(r)}}catch(w){qe.length=0,Ci(w,e,1),O=Rt(_e)}let I=O;if(M&&x!==!1){const w=Object.keys(M),{shapeFlag:k}=I;w.length&&k&7&&(l&&w.some(os)&&(M=pr(M,l)),I=Me(I,M,!1,!0))}return i.dirs&&(I=Me(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(i.dirs):i.dirs),i.transition&&ys(I,i.transition),O=I,mi(G),O}const hr=e=>{let t;for(const i in e)(i==="class"||i==="style"||Ei(i))&&((t||(t={}))[i]=e[i]);return t},pr=(e,t)=>{const i={};for(const s in e)(!os(s)||!(s.slice(9)in t))&&(i[s]=e[s]);return i};function mr(e,t,i){const{props:s,children:n,component:l}=e,{props:o,children:r,patchFlag:a}=t,c=l.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&a>=0){if(a&1024)return!0;if(a&16)return s?zs(s,o,c):!!o;if(a&8){const d=t.dynamicProps;for(let h=0;h<d.length;h++){const g=d[h];if(o[g]!==s[g]&&!Li(c,g))return!0}}}else return(n||r)&&(!r||!r.$stable)?!0:s===o?!1:s?o?zs(s,o,c):!0:!!o;return!1}function zs(e,t,i){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const l=s[n];if(t[l]!==e[l]&&!Li(i,l))return!0}return!1}function gr({vnode:e,parent:t},i){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=i,t=t.parent;else break}}const gl=e=>e.__isSuspense;function vr(e,t){t&&t.pendingBranch?P(e)?t.effects.push(...e):t.effects.push(e):Lo(e)}const lt=Symbol.for("v-fgt"),Di=Symbol.for("v-txt"),_e=Symbol.for("v-cmt"),ci=Symbol.for("v-stc"),qe=[];let St=null;function U(e=!1){qe.push(St=e?null:[])}function _r(){qe.pop(),St=qe[qe.length-1]||null}let Ye=1;function Ys(e,t=!1){Ye+=e,e<0&&St&&t&&(St.hasOnce=!0)}function vl(e){return e.dynamicChildren=Ye>0?St||Ce:null,_r(),Ye>0&&St&&St.push(e),e}function q(e,t,i,s,n,l){return vl(L(e,t,i,s,n,l,!0))}function _l(e,t,i,s,n){return vl(Rt(e,t,i,s,n,!0))}function bl(e){return e?e.__v_isVNode===!0:!1}function Pe(e,t){return e.type===t.type&&e.key===t.key}const yl=({key:e})=>e??null,ui=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?nt(e)||ft(e)||H(e)?{i:At,r:e,k:t,f:!!i}:e:null);function L(e,t=null,i=null,s=0,n=null,l=e===lt?0:1,o=!1,r=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&yl(t),ref:t&&ui(t),scopeId:Xn,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:At};return r?(Ss(a,i),l&128&&e.normalize(a)):i&&(a.shapeFlag|=nt(i)?8:16),Ye>0&&!o&&St&&(a.patchFlag>0||l&6)&&a.patchFlag!==32&&St.push(a),a}const Rt=br;function br(e,t=null,i=null,s=0,n=null,l=!1){if((!e||e===Bo)&&(e=_e),bl(e)){const r=Me(e,t,!0);return i&&Ss(r,i),Ye>0&&!l&&St&&(r.shapeFlag&6?St[St.indexOf(e)]=r:St.push(r)),r.patchFlag=-2,r}if(Ir(e)&&(e=e.__vccOpts),t){t=yr(t);let{class:r,style:a}=t;r&&!nt(r)&&(t.class=us(r)),it(a)&&(_s(a)&&!P(a)&&(a=rt({},a)),t.style=cs(a))}const o=nt(e)?1:gl(e)?128:Ao(e)?64:it(e)?4:H(e)?2:0;return L(e,t,i,s,n,o,l,!0)}function yr(e){return e?_s(e)||nl(e)?rt({},e):e:null}function Me(e,t,i=!1,s=!1){const{props:n,ref:l,patchFlag:o,children:r,transition:a}=e,c=t?Er(n||{},t):n,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&yl(c),ref:t&&t.ref?i&&l?P(l)?l.concat(ui(t)):[l,ui(t)]:ui(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==lt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Me(e.ssContent),ssFallback:e.ssFallback&&Me(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&s&&ys(d,a.clone(d)),d}function Ts(e=" ",t=0){return Rt(Di,null,e,t)}function es(e,t){const i=Rt(ci,null,e);return i.staticCount=t,i}function El(e="",t=!1){return t?(U(),_l(_e,null,e)):Rt(_e,null,e)}function Ht(e){return e==null||typeof e=="boolean"?Rt(_e):P(e)?Rt(lt,null,e.slice()):bl(e)?Yt(e):Rt(Di,null,String(e))}function Yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Me(e)}function Ss(e,t){let i=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(P(t))i=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),Ss(e,n()),n._c&&(n._d=!0));return}else{i=32;const n=t._;!n&&!nl(t)?t._ctx=At:n===3&&At&&(At.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else H(t)?(t={default:t,_ctx:At},i=32):(t=String(t),s&64?(i=16,t=[Ts(t)]):i=8);e.children=t,e.shapeFlag|=i}function Er(...e){const t={};for(let i=0;i<e.length;i++){const s=e[i];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=us([t.class,s.class]));else if(n==="style")t.style=cs([t.style,s.style]);else if(Ei(n)){const l=t[n],o=s[n];o&&l!==o&&!(P(l)&&l.includes(o))&&(t[n]=l?[].concat(l,o):o)}else n!==""&&(t[n]=s[n])}return t}function kt(e,t,i,s=null){Wt(e,t,7,[i,s])}const wr=el();let Tr=0;function Sr(e,t,i){const s=e.type,n=(t?t.appContext:e.appContext)||wr,l={uid:Tr++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new zl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ol(s,n),emitsOptions:ml(s,n),emit:null,emitted:null,propsDefaults:z,inheritAttrs:s.inheritAttrs,ctx:z,data:z,props:z,attrs:z,slots:z,refs:z,setupState:z,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=fr.bind(null,l),e.ce&&e.ce(l),l}let dt=null;const xr=()=>dt||At;let _i,is;{const e=Si(),t=(i,s)=>{let n;return(n=e[i])||(n=e[i]=[]),n.push(s),l=>{n.length>1?n.forEach(o=>o(l)):n[0](l)}};_i=t("__VUE_INSTANCE_SETTERS__",i=>dt=i),is=t("__VUE_SSR_SETTERS__",i=>Je=i)}const ti=e=>{const t=dt;return _i(e),e.scope.on(),()=>{e.scope.off(),_i(t)}},Js=()=>{dt&&dt.scope.off(),_i(null)};function wl(e){return e.vnode.shapeFlag&4}let Je=!1;function Cr(e,t=!1,i=!1){t&&is(t);const{props:s,children:n}=e.vnode,l=wl(e);Zo(e,s,l,t),ir(e,n,i);const o=l?Or(e,t):void 0;return t&&is(!1),o}function Or(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,jo);const{setup:s}=i;if(s){se();const n=e.setupContext=s.length>1?Dr(e):null,l=ti(e),o=Qe(s,e,0,[e.props,n]),r=_n(o);if(ne(),l(),(r||e.sp)&&!Ue(e)&&zn(e),r){if(o.then(Js,Js),t)return o.then(a=>{Zs(e,a,t)}).catch(a=>{Ci(a,e,0)});e.asyncDep=o}else Zs(e,o,t)}else Tl(e,t)}function Zs(e,t,i){H(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:it(t)&&(e.setupState=jn(t)),Tl(e,i)}let Qs;function Tl(e,t,i){const s=e.type;if(!e.render){if(!t&&Qs&&!s.render){const n=s.template||Es(e).template;if(n){const{isCustomElement:l,compilerOptions:o}=e.appContext.config,{delimiters:r,compilerOptions:a}=s,c=rt(rt({isCustomElement:l,delimiters:r},o),a);s.render=Qs(n,c)}}e.render=s.render||Gt}{const n=ti(e);se();try{Uo(e)}finally{ne(),n()}}}const Lr={get(e,t){return ct(e,"get",""),e[t]}};function Dr(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,Lr),slots:e.slots,emit:e.emit,expose:t}}function xs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(jn(vo(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Ve)return Ve[i](e)},has(t,i){return i in t||i in Ve}})):e.proxy}function Ir(e){return H(e)&&"__vccOpts"in e}const Ar=(e,t)=>wo(e,t,Je),Mr="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ss;const tn=typeof window<"u"&&window.trustedTypes;if(tn)try{ss=tn.createPolicy("vue",{createHTML:e=>e})}catch{}const Sl=ss?e=>ss.createHTML(e):e=>e,Rr="http://www.w3.org/2000/svg",Nr="http://www.w3.org/1998/Math/MathML",jt=typeof document<"u"?document:null,en=jt&&jt.createElement("template"),$r={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,s)=>{const n=t==="svg"?jt.createElementNS(Rr,e):t==="mathml"?jt.createElementNS(Nr,e):i?jt.createElement(e,{is:i}):jt.createElement(e);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>jt.createTextNode(e),createComment:e=>jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,s,n,l){const o=i?i.previousSibling:t.lastChild;if(n&&(n===l||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),i),!(n===l||!(n=n.nextSibling)););else{en.innerHTML=Sl(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const r=en.content;if(s==="svg"||s==="mathml"){const a=r.firstChild;for(;a.firstChild;)r.appendChild(a.firstChild);r.removeChild(a)}t.insertBefore(r,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},kr=Symbol("_vtc");function Pr(e,t,i){const s=e[kr];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const sn=Symbol("_vod"),Hr=Symbol("_vsh"),Gr=Symbol(""),Wr=/(^|;)\s*display\s*:/;function Fr(e,t,i){const s=e.style,n=nt(i);let l=!1;if(i&&!n){if(t)if(nt(t))for(const o of t.split(";")){const r=o.slice(0,o.indexOf(":")).trim();i[r]==null&&di(s,r,"")}else for(const o in t)i[o]==null&&di(s,o,"");for(const o in i)o==="display"&&(l=!0),di(s,o,i[o])}else if(n){if(t!==i){const o=s[Gr];o&&(i+=";"+o),s.cssText=i,l=Wr.test(i)}}else t&&e.removeAttribute("style");sn in e&&(e[sn]=l?s.display:"",e[Hr]&&(s.display="none"))}const nn=/\s*!important$/;function di(e,t,i){if(P(i))i.forEach(s=>di(e,t,s));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const s=Br(e,t);nn.test(i)?e.setProperty(ye(s),i.replace(nn,""),"important"):e[s]=i}}const ln=["Webkit","Moz","ms"],Ui={};function Br(e,t){const i=Ui[t];if(i)return i;let s=ee(t);if(s!=="filter"&&s in e)return Ui[t]=s;s=En(s);for(let n=0;n<ln.length;n++){const l=ln[n]+s;if(l in e)return Ui[t]=l}return t}const on="http://www.w3.org/1999/xlink";function rn(e,t,i,s,n,l=Xl(t)){s&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(on,t.slice(6,t.length)):e.setAttributeNS(on,t,i):i==null||l&&!Tn(i)?e.removeAttribute(t):e.setAttribute(t,l?"":ie(i)?String(i):i)}function an(e,t,i,s,n){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?Sl(i):i);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const r=l==="OPTION"?e.getAttribute("value")||"":e.value,a=i==null?e.type==="checkbox"?"on":"":String(i);(r!==a||!("_value"in e))&&(e.value=a),i==null&&e.removeAttribute(t),e._value=i;return}let o=!1;if(i===""||i==null){const r=typeof e[t];r==="boolean"?i=Tn(i):i==null&&r==="string"?(i="",o=!0):r==="number"&&(i=0,o=!0)}try{e[t]=i}catch{}o&&e.removeAttribute(n||t)}function jr(e,t,i,s){e.addEventListener(t,i,s)}function Ur(e,t,i,s){e.removeEventListener(t,i,s)}const cn=Symbol("_vei");function Vr(e,t,i,s,n=null){const l=e[cn]||(e[cn]={}),o=l[t];if(s&&o)o.value=s;else{const[r,a]=qr(t);if(s){const c=l[t]=zr(s,n);jr(e,r,c,a)}else o&&(Ur(e,r,o,a),l[t]=void 0)}}const un=/(?:Once|Passive|Capture)$/;function qr(e){let t;if(un.test(e)){t={};let s;for(;s=e.match(un);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ye(e.slice(2)),t]}let Vi=0;const Kr=Promise.resolve(),Xr=()=>Vi||(Kr.then(()=>Vi=0),Vi=Date.now());function zr(e,t){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;Wt(Yr(s,i.value),t,5,[s])};return i.value=e,i.attached=Xr(),i}function Yr(e,t){if(P(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const dn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Jr=(e,t,i,s,n,l)=>{const o=n==="svg";t==="class"?Pr(e,s,o):t==="style"?Fr(e,i,s):Ei(t)?os(t)||Vr(e,t,i,s,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Zr(e,t,s,o))?(an(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&rn(e,t,s,o,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!nt(s))?an(e,ee(t),s,l,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),rn(e,t,s,o))};function Zr(e,t,i,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&dn(t)&&H(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return dn(t)&&nt(i)?!1:t in e}const Qr=["ctrl","shift","alt","meta"],ta={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Qr.some(i=>e[`${i}Key`]&&!t.includes(i))},fn=(e,t)=>{const i=e._withMods||(e._withMods={}),s=t.join(".");return i[s]||(i[s]=(n,...l)=>{for(let o=0;o<t.length;o++){const r=ta[t[o]];if(r&&r(n,t))return}return e(n,...l)})},ea=rt({patchProp:Jr},$r);let hn;function ia(){return hn||(hn=nr(ea))}const ns=(...e)=>{const t=ia().createApp(...e),{mount:i}=t;return t.mount=s=>{const n=na(s);if(!n)return;const l=t._component;!H(l)&&!l.render&&!l.template&&(l.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=i(n,!1,sa(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function sa(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function na(e){return nt(e)?document.querySelector(e):e}class la{constructor(){this.events={}}subscribe(t,i){this.events[t]||(this.events[t]=[]),this.events[t].push(i)}publish(t,i){!this.events[t]||this.events[t].length<1||this.events[t].forEach(s=>s(i))}unsubscribe(t,i){this.events[t]&&(this.events[t]=this.events[t].filter(s=>s!==i))}once(t,i,s){let n=l=>{s&&!s(l)||(i(l),this.unsubscribe(t,n))};this.subscribe(t,n)}onceMulti(t,i,s){let n=l=>{s&&!s(l)||(i(l),t.forEach(o=>this.unsubscribe(o,n)))};t.forEach(l=>this.subscribe(l,n))}async wait(t,i){return new Promise((s,n)=>{this.once(t,s,i)})}}const st=e=>new Promise(t=>setTimeout(t,e)),Cs=e=>{le(()=>{console.log("onMounted"),window.addEventListener("popstate",e,!1)}),Ee(()=>{console.log("onBeforeUnmount"),window.removeEventListener("popstate",e,!1)})},oa=async e=>{e.mount("#app"),setTimeout(()=>{ca()},250)},ra=async e=>{let t=new Promise(i=>{e.onUnmount(i)});e.unmount(),await t},xl=250;let oi=null,bi=$("#app")[0],Cl=null;bi.style.opacity=0;bi.style.transition="opacity "+xl+"ms";const ot=async(e,t)=>{oi&&(bi.style.opacity=0,await st(xl),await ra(oi)),Cl=t,oi=ns(e),await oa(oi),bi.style.opacity=1},aa=()=>Cl;class Os{constructor(t){this.timer=Date.now(),this.delay=t,this.pending,this.callback}run(t){if(this.callback=t,this.pending)return;let s=Date.now()-this.timer,n=this.delay-s;n<=0?(this.callback(),this.timer=Date.now()):this.pending=setTimeout(()=>{this.callback(),this.timer=Date.now(),this.pending=void 0},n)}}function ca(){var e=document.querySelector('meta[name="viewport"]');e&&(e.content="initial-scale=0.1",e.content="width=500")}function ri(e){let t=Math.floor(e/60),i=Math.floor(e%60);return`${t}:${i.toString().padStart(2,"0")}`}const Ii="/logic-gate-game-vue/logowhite.png",ua="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-play'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M10.804%208%205%204.633v6.734zm.792-.696a.802.802%200%200%201%200%201.392l-6.363%203.692C4.713%2012.69%204%2012.345%204%2011.692V4.308c0-.653.713-.998%201.233-.696z'%20fill='%23ffffff'/%3e%3c/svg%3e",Ol="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-star-fill'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M3.612%2015.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173%206.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927%200l2.184%204.327%204.898.696c.441.062.612.636.282.95l-3.522%203.356.83%204.73c.078.443-.36.79-.746.592L8%2013.187l-4.389%202.256z'%20fill='%23ffffff'/%3e%3c/svg%3e",Ll="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-star'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M2.866%2014.85c-.078.444.36.791.746.593l4.39-2.256%204.389%202.256c.386.198.824-.149.746-.592l-.83-4.73%203.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513%200%200%200-.927%200L5.354%205.12l-4.898.696c-.441.062-.612.636-.283.95l3.523%203.356-.83%204.73zm4.905-2.767-3.686%201.894.694-3.957a.56.56%200%200%200-.163-.505L1.71%206.745l4.052-.576a.53.53%200%200%200%20.393-.288L8%202.223l1.847%203.658a.53.53%200%200%200%20.393.288l4.052.575-2.906%202.77a.56.56%200%200%200-.163.506l.694%203.957-3.686-1.894a.5.5%200%200%200-.461%200z'%20fill='%23ffffff'/%3e%3c/svg%3e",oe=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i},da={class:"module-container"},fa={__name:"smarthomevitual",setup(e,{expose:t}){let i=!1;async function s(a){let c=document.getElementById("living-room-person-1");const d=100;for(let h=0;h<1;h+=1/d){if(await st(1e3/40),await new Promise(I=>requestAnimationFrame(I)),i)return;let g=document.getElementById("living-room-1"),m=$(g).width(),E=$(g).height(),x=Math.sin(h*Math.PI*2)*150+m/2,G=Math.cos(h*Math.PI*2)*100+E/2;c.style.left=x+"px",c.style.top=G+"px";let O=document.getElementsByClassName("living-room-motion-sensor"),M=[];for(let I=0;I<O.length;I++){let w=O[I],k={left:parseFloat(w.style.left),top:parseFloat(w.style.top)},F={left:parseFloat(c.style.left),top:parseFloat(c.style.top)},K=k.left-F.left,X=k.top-F.top,Y=Math.sqrt(K*K+X*X);Y<450/2?w.classList.remove("sensor-deactivated"):w.classList.add("sensor-deactivated"),M.push(Y)}if(a&&a({person:{x,y:G},distances:M}))return}}function n(){document.querySelector(".living-room").classList.remove("light-off")}function l(){document.querySelector(".living-room").classList.add("light-off")}function o(a,c){let d=document.querySelector(".living-room"),h=document.createElement("div");a<0&&(a+=$(d).width(),a-=30),c<0&&(c+=$(d).height(),c-=30),h.style.left=a+"px",h.style.top=c+"px",h.classList.add("living-room-motion-sensor"),d.appendChild(h)}function r(a){let c=document.querySelector(".switch-container"),d=document.createElement("div");d.classList.add("labeled-switch"),d.innerHTML=`
    <label>${a}</label>
    <label class="switch">
      <input type="checkbox" checked>
      <span class="slider round"></span>
    </label>
  `,c.appendChild(d)}return Ee(()=>{i=!0}),t({personCycleTest:s,lightOn:n,lightOff:l,addMotionSensor:o,addSwitch:r}),(a,c)=>(U(),q("div",da,c[0]||(c[0]=[L("div",{class:"living-room-container",id:"living-room-1"},[L("div",{class:"living-room"},[Ts("LIVING ROOM "),L("div",{class:"living-room-person",id:"living-room-person-1"},"P")])],-1),L("div",{class:"switch-container"},null,-1)])))}},ha=oe(fa,[["__scopeId","data-v-5584e43e"]]),pa={class:"challenge"},ma={class:"mobile-scale"},pn={name:"Smart Home Dev",description:"For Testing Smart Home Levels",availableGates:["NOT","AND","OR","XOR","NAND","NOR","XNOR"],hideSubmit:!1},ga={...pn,data(){return{...pn}}},va=Object.assign(ga,{__name:"smarthome1",setup(e,{expose:t}){let i=me("logicCanvas"),s=Yn("smvitual");const n=o=>{let r=i.world;o==r.outputs[0].in(0)&&(o.getState()?s.value.lightOn():s.value.lightOff())};return le(async()=>{let o=s.value;o.addMotionSensor(10,10),o.addMotionSensor(10,-10),o.addSwitch("Test1"),o.addSwitch("Test2"),i.createInput().setLabel("M1"),i.createInput().setLabel("M2"),i.createOutput().setLabel("Light"),i.createGate("AND",100,100),i.eventManager.subscribe("TERMINAL_STATE_CHANGED",n)}),Ee(()=>{i.eventManager.unsubscribe("TERMINAL_STATE_CHANGED",n)}),t({onSubmit:async()=>{$("#submit-btn").prop("disabled",!0),await s.value.personCycleTest(o=>{o.distances.forEach((r,a)=>{r<450/2?i.world.inputs[a].out(0).setState(!0):i.world.inputs[a].out(0).setState(!1)})}),$("#submit-btn").prop("disabled",!1)}}),(o,r)=>(U(),q("div",pa,[r[0]||(r[0]=L("p",{class:"challenge-description"},"Description",-1)),L("div",ma,[Rt(ha,{ref_key:"smvitual",ref:s},null,512)])]))}}),_a=oe(va,[["__scopeId","data-v-89765206"]]);class gt{}xt(gt,"ON",!0),xt(gt,"OFF",!1);class mn{constructor(t,i,s){this.isSource=s,this.state=gt.OFF,this.parent=i,this.index=-1,this.relatedTerminals=[],this.world=t,t.terminals.push(this),this.world.eventManager.publish("TERMINAL_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("TERMINAL_DOM_SET",this)}setState(t){this.state!==t&&(this.state=t,this.world.eventManager.publish("TERMINAL_STATE_CHANGED",this))}getState(){return this.state}toggle(){this.setState(!this.state)}remove(){this.parent=null,this.relatedTerminals=null,this.domElement&&(this.domElement.remove(),this.domElement=null),this.world.terminals=this.world.terminals.filter(t=>t!==this),this.world.eventManager.publish("TERMINAL_REMOVED",this),this.world=null}}class ba{constructor(t,i,s){if(i===s){console.error("Cannot connect terminal to itself");return}if(i.isSource&&s.isSource){console.error("Wire cannot connect two sources");return}if(!i.isSource&&!s.isSource){console.error("Wire cannot connect two sinks");return}this.world=t,t.wires.push(this),i.isSource?(this.terminalSrc=i,this.terminalSink=s):(this.terminalSrc=s,this.terminalSink=i),this.state=gt.OFF,this.terminalSrc.relatedTerminals.push(this.terminalSink),this.terminalSink.relatedTerminals.push(this.terminalSrc),this.world.eventManager.publish("WIRE_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("WIRE_DOM_SET",this)}update(){this.state!==this.terminalSrc.state&&(this.world.eventManager.publish("WIRE_STATE_CHANGED",this),this.state=this.terminalSrc.state),this.terminalSink.setState(this.state)}remove(){this.terminalSrc.relatedTerminals=this.terminalSrc.relatedTerminals.filter(t=>t!==this.terminalSink),this.terminalSink.relatedTerminals=this.terminalSink.relatedTerminals.filter(t=>t!==this.terminalSrc),this.terminalSink.setState(gt.OFF),this.world.wires=this.world.wires.filter(t=>t!==this),this.world.eventManager.publish("WIRE_REMOVED",this),this.world=null,this.terminalSrc=null,this.terminalSink=null,this.domElement&&(this.domElement.remove(),this.domElement=null),delete this}getState(){return this.state?gt.ON:gt.OFF}setState(t){t!==this.state&&(this.state=t,this.world.eventManager.publish("WIRE_STATE_CHANGED",this))}}class ya{constructor(t,i){this.world=t,t.gates.push(this),this.funcSpec=i,this.inputTerminals=[],this.outputTerminals=[];for(let s=0;s<i.inputCount;s++)this.inputTerminals.push(new mn(t,this,!1));for(let s=0;s<i.outputCount;s++)this.outputTerminals.push(new mn(t,this,!0));this.terminals().forEach((s,n)=>{s.index=n}),this.world.eventManager.publish("GATE_CREATED",this)}setDomElement(t){this.domElement=t,this.world.eventManager.publish("GATE_DOM_SET",this)}update(){if(this.inputTerminals.length===0||this.outputTerminals.length===0)return;let t=this.inputTerminals.map(s=>s.state),i=this.funcSpec.func(...t);i!==void 0&&(i instanceof Array?i.forEach((s,n)=>{this.outputTerminals[n].setState(s)}):this.outputTerminals[0].setState(i))}terminals(){return this.inputTerminals.concat(this.outputTerminals)}getTerminalIndex(t){return this.terminals().indexOf(t)}setTerminalStateByIndex(t,i){this.terminals()[t].state=i}getState(){return this.terminals().map(t=>t.state?gt.ON:gt.OFF)}setState(t){t.forEach((i,s)=>{this.terminals()[s].state=i?gt.ON:gt.OFF})}getTerminalStateByIndex(t){return this.terminals()[t].state}unlinkAll(){this.terminals().forEach(t=>{this.world.getWiresByTerminal(t).forEach(i=>i.remove())})}remove(){this.terminals().some(t=>t===this.world.previousTerminal)&&(this.world.previousTerminal=null),this.unlinkAll(),this.world.inputs=this.world.inputs.filter(t=>t!==this),this.world.outputs=this.world.outputs.filter(t=>t!==this),this.world.gates=this.world.gates.filter(t=>t!==this),this.world.eventManager.publish("GATE_REMOVED",this),this.world=null,this.inputTerminals.forEach(t=>t.remove()),this.outputTerminals.forEach(t=>t.remove()),this.domElement&&(this.domElement.remove(),this.domElement=null),delete this}isFundamental(){return ge.isSpecFundamental(this.funcSpec)}in(t){return this.inputTerminals[t]}out(t){return this.outputTerminals[t]}}class Ft{constructor(t,i,s,n){this.name=t,this.func=i,this.inputCount=s,this.outputCount=n}}class Ae{constructor(t){this.eventManager=t===void 0?new la:t,this.terminals=[],this.wires=[],this.gates=[],this.inputs=[],this.outputs=[],this.previousState="",this.stableCount=0,this.instableCount=0,this.tickCount=0,this.eventManager.publish("WORLD_CREATED",this)}get numGate(){return this.nonIOGates.length}get nonIOGates(){return this.gates.filter(t=>!this.inputs.includes(t)&&!this.outputs.includes(t))}get in(){return this.inputs}get out(){return this.outputs}setDomElement(t){this.domElement=t,this.eventManager.publish("WORLD_DOM_SET",this)}setParent(t){this.parent=t,this.eventManager.publish("WORLD_PARENT_SET",this)}setInputsState(t){t=t.map(i=>i?gt.ON:gt.OFF),this.inputs.forEach((i,s)=>{i.out(0).setState(t[s])})}async evaluate(t,i){if(t&&this.setInputsState(t),i)for(this.notifyInstability();!this.isStable();)this.tick();else await this.waitStable();let s=this.outputs.map(n=>n.in(0).state);return this.eventManager.publish("WORLD_RESULT",{inputs:t,results:s}),s}evaluateSync(t){for(this.setInputsState(t),this.notifyInstability();!this.isStable();)this.tick();let i=this.outputs.map(s=>s.in(0).state);return this.eventManager.publish("WORLD_RESULT",{inputs:t,results:i}),i}notifyInstability(){this.instableCount++,this.stableCount=0}getStateSignature(){let t="";return this.terminals.forEach(i=>{t+=i.state?"1":"0"}),t}checkFinished(){let t=this.getStateSignature();t===this.previousState?(this.stableCount++,this.instableCount=0):(this.stableCount=0,this.instableCount++,this.previousState=t),this.stableCount===3&&this.eventManager.publish("WORLD_STABLE",this),this.instableCount===1&&this.eventManager.publish("WORLD_INSTABLE",this)}isStable(){return this.stableCount>3}async waitStable(){return this.notifyInstability(),new Promise((t,i)=>{this.eventManager.subscribe("WORLD_STABLE",()=>{t()})})}enableAutoSleep(){this.autoSleep=!0,this.sleepSince=Date.now()}tick(){if(this.autoSleep){let t=Date.now(),i=t-this.sleepSince;if(this.stableCount>10){if(i<100)return;this.sleepSince=t}}this.gates.forEach(t=>t.update()),this.wires.forEach(t=>t.update()),this.checkFinished(),this.tickCount++,this.eventManager.publish("WORLD_TICK",this)}makeConnection(t){let i=!1;if(!this.previousTerminal)this.previousTerminal=t,this.eventManager.publish("WORLD_TERMINAL_SELECTED",{from:this.previousTerminal,world:this});else{let s=this.getWiresBetween(this.previousTerminal,t);if(s.length>0)s.forEach(n=>n.remove()),this.eventManager.publish("WORLD_TERMINAL_DISCONNECTED",{from:this.previousTerminal,to:t,world:this});else{let n=t.isSource?this.previousTerminal:t;this.getWiresByTerminal(n).length==0&&(i=new ba(this,this.previousTerminal,t),this.eventManager.publish("WORLD_TERMINAL_CONNECTED",{from:this.previousTerminal,to:t,world:this}))}this.previousTerminal=null}return i}clearSelction(){this.previousTerminal=null}createLogicGate(t){return new ya(this,t)}addInputGate(t){this.inputs.push(t),this.eventManager.publish("GATE_INPUT_ADDED",t)}removeInputGate(t){this.inputs=this.inputs.filter(i=>i!==t),this.eventManager.publish("GATE_INPUT_REMOVED",t)}addOutputGate(t){this.outputs.push(t),this.eventManager.publish("GATE_OUTPUT_ADDED",t)}removeOutputGate(t){this.outputs=this.outputs.filter(i=>i!==t),this.eventManager.publish("GATE_OUTPUT_REMOVED",t)}getWiresByTerminal(t){return this.wires.filter(i=>i.terminalSrc===t||i.terminalSink===t)}getWiresBetween(t,i){return this.wires.filter(s=>s.terminalSrc===t&&s.terminalSink===i||s.terminalSrc===i&&s.terminalSink===t)}export(){return{inputs:this.inputs,outputs:this.outputs,gates:this.gates,wires:this.wires}}clearNonIO(){this.wires.forEach(t=>t.remove()),this.nonIOGates.forEach(t=>t.remove())}clear(){this.gates.forEach(t=>t.remove()),this.wires.forEach(t=>t.remove()),this.terminals.forEach(t=>t.remove()),this.inputs=[],this.outputs=[]}remove(){this.clear(),this.domElement=null,this.eventManager=null,this.parent=null,delete this}}let Ea=new Ft("NOT",e=>!e,1,1),wa=new Ft("AND",(e,t)=>e&&t,2,1),Ta=new Ft("NAND",(e,t)=>!(e&&t),2,1),Sa=new Ft("OR",(e,t)=>e||t,2,1),xa=new Ft("NOR",(e,t)=>!(e||t),2,1),Ca=new Ft("XOR",(e,t)=>(e||t)&&!(e&&t),2,1),Oa=new Ft("XNOR",(e,t)=>!((e||t)&&!(e&&t)),2,1),Dl=new Ft("IN",()=>{},0,1),Il=new Ft("OUT",()=>{},1,0);const Ct=class Ct{static isSpecFundamental(t){return Object.values(Ct).some(s=>{var n;return((n=s==null?void 0:s.functionSpec)==null?void 0:n.name)===(t==null?void 0:t.name)})}};xt(Ct,"AND",{name:"AND",functionSpec:wa}),xt(Ct,"OR",{name:"OR",functionSpec:Sa}),xt(Ct,"NOT",{name:"NOT",functionSpec:Ea}),xt(Ct,"NAND",{name:"NAND",functionSpec:Ta}),xt(Ct,"NOR",{name:"NOR",functionSpec:xa}),xt(Ct,"XOR",{name:"XOR",functionSpec:Ca}),xt(Ct,"XNOR",{name:"XNOR",functionSpec:Oa}),xt(Ct,"IN",{name:"IN",functionSpec:Dl}),xt(Ct,"OUT",{name:"OUT",functionSpec:Il});let ge=Ct;console.log("logicgate_back.js loaded");let La=`
<div id="logic-gate-templates" class="">
  <h3>Logic Gates Preview</h3>
  <div class="logic-gate-div-relative logic-gate logic-and-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-and.png" alt="AND Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
    <div class="logic-gate-terminal"></div>
    <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
    <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-or-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-or.png" alt="OR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-not-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-not.png" alt="NOT Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-xor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-xor.png" alt="XOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-nand-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-nand.png" alt="NAND Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-nor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-nor.png" alt="NOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-gate-long logic-xnor-template">
    <span class="logic-gate-label"></span>
    <img class="logic-gate-image" src="gate-xnor.png" alt="XNOR Gate" />
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-in-template">
    <span class="logic-gate-label">IN</span>
    <div class="logic-gate-output-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-out-template">
    <span class="logic-gate-label">OUT</span>
    <div class="logic-gate-input-terminal logic-gate-terminal-container">
      <div class="logic-gate-terminal"></div>
    </div>
    <div class="logic-gate-body"></div>
  </div>

  <div class="logic-gate-div-relative logic-gate logic-world-template">
    <span class="logic-gate-label">USER</span>
    <div class="logic-gate-input-terminal logic-gate-terminal-container"></div>
    <div class="logic-gate-output-terminal logic-gate-terminal-container"></div>
    <div class="logic-gate-body"></div>
  </div>
</div>
`;const Da=()=>{let e=document.createElement("div");e.id="logic-gate-default-template",e.style.display="none",document.body.appendChild(e),e.innerHTML=La};Da();const he=(e,t)=>{let i={top:0,left:0};return!e||(i.top+=$(e).offset().top,i.left+=$(e).offset().left,!t)||(i.top-=$(t).offset().top,i.left-=$(t).offset().left),i};function Al(e,t){let i=e.getBoundingClientRect(),s=t.getBoundingClientRect();return i.top>=s.top&&i.left>=s.left&&i.bottom<=s.bottom&&i.right<=s.right}let fi=0;const Ia=(e,t,i)=>{let s=0;const n=l=>{if(l.preventDefault(),l.stopPropagation(),l.type.includes("touch")&&(fi=3),l.type.includes("mouse")&&fi){fi--;return}let o=Date.now();o-s<100||(s=o,t(l))};["mousedown","touchstart"].forEach(l=>{e.addEventListener(l,n,i)})};class Qt{constructor(t,i,s,n){n=n===void 0?!0:n,t.setDomElement(i),t.setParent(this),this.world=t,this.domElement=i,this.eventManager=this.world.eventManager,this.loadTemplate(s||"logic-gate-templates"),$(i).addClass("logic-gate-div"),this.canvas=document.createElement("canvas"),this.domElement.appendChild(this.canvas),this.updateCanvas(!0),this.clearCanvas(),this.drawGrid();let l=new Os(100);this.onResize=()=>{l.run(()=>{this.updateCanvas(),this.visualTick()})},window.addEventListener("resize",this.onResize),this.mousePos={x:0,y:0},this.onMouseMove=o=>{let r=this.domElement.getBoundingClientRect();this.mousePos={x:o.clientX-r.left,y:o.clientY-r.top}},this.domElement.addEventListener("mousemove",this.onMouseMove,!0),this.canvas.addEventListener("contextmenu",o=>{console.log(JSON.stringify(this.export()))}),this.slowVisualTick=setInterval(()=>{this.visualTick()},100),this.eventManager.subscribe("TERMINAL_STATE_CHANGED",o=>{o.state===gt.ON?$(o.domElement).addClass("logic-gate-terminal-on"):$(o.domElement).removeClass("logic-gate-terminal-on")}),n&&this.createEditModeButton(),this.scaleX=1,this.scaleY=1,this.scaleTrackerInterval=setInterval(()=>{let o=this.canvas.getBoundingClientRect(),r=this.canvas.width/o.width,a=this.canvas.height/o.height;this.scaleX=r,this.scaleY=a},1e3/15),this.domElement.addEventListener("dragover",o=>{let r=this.domElement.getBoundingClientRect();this.mousePos={x:o.clientX-r.left,y:o.clientY-r.top}})}createEditModeButton(){let t=document.createElement("div");t.classList.add("logic-gate-edit-mode-button"),t.innerHTML="Edit Mode: Wiring",this.domElement.appendChild(t),this.moveMode=!1,t.addEventListener("click",()=>{this.moveMode=!this.moveMode,this.moveMode?(t.innerHTML="Edit Mode: Moving",$(this.domElement).addClass("logic-gate-move-mode"),this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING")):(t.innerHTML="Edit Mode: Wiring",$(this.domElement).removeClass("logic-gate-move-mode"),this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","WIRING"))})}showingModeSelector(){return!matchMedia("(pointer:fine)").matches}updateCanvas(t){if(!t){let i=this.domElement.clientWidth/this.canvas.width,s=this.domElement.clientHeight/this.canvas.height;(i!==1||s!==1)&&this.world.gates.forEach(n=>{let l=parseInt(n.domElement.style.left)*i,o=parseInt(n.domElement.style.top)*s;n.domElement.style.left=l+"px",n.domElement.style.top=o+"px"})}this.canvas.width=this.domElement.clientWidth,this.canvas.height=this.domElement.clientHeight,this.canvas.style.width=this.domElement.clientWidth+"px",this.canvas.style.height=this.domElement.clientHeight+"px",$(this.canvas).addClass("logic-gate-canvas"),this.ctx=this.canvas.getContext("2d"),this.arrangeIOGates()}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawGrid(){let t=this.ctx;t.strokeStyle="rgba(0, 0, 0, 0.1)",t.lineWidth=1,t.beginPath();let i=0;for(;i<this.canvas.width;)t.moveTo(i,0),t.lineTo(i,this.canvas.height),i+=20;let s=0;for(;s<this.canvas.height;)t.moveTo(0,s),t.lineTo(this.canvas.width,s),s+=20;t.stroke()}drawWires(){let t=this.ctx,i=this.world.terminals.map(s=>s);if(this.world.wires.forEach(s=>{let n=s.terminalSrc,l=s.terminalSink;i=i.filter(O=>O!==n&&O!==l);let o=$(n.domElement),r=$(l.domElement),a=he(n.domElement,this.domElement),c=he(l.domElement,this.domElement);a.top+=o.height()/2/this.scaleY,a.left+=o.width()/2/this.scaleX,c.top+=r.height()/2/this.scaleY,c.left+=r.width()/2/this.scaleX;let d=(a.left+c.left)/2;(a.top+c.top)/2;let h=Math.abs(a.left-c.left);t.beginPath(),t.strokeStyle=s.state===gt.ON?"white":"#0096d2",t.lineWidth=2/this.scaleX;const g={"self-connecting":()=>{let O=50/this.scaleY,M=30/this.scaleX,I;c.top>a.top?I=a.top-O:I=a.top+O,t.moveTo(a.left,a.top),t.lineTo(a.left+M,a.top),t.lineTo(a.left+M,I),t.lineTo(c.left-M,I),t.lineTo(c.left-M,c.top),t.lineTo(c.left,c.top)},"src-right-of-sink":()=>{let O=30/this.scaleY,M=30/this.scaleX;t.moveTo(a.left,a.top),t.lineTo(a.left+M,a.top),a.top<c.top?(t.lineTo(a.left+M,a.top+O),t.lineTo(c.left-M,c.top-O),t.lineTo(c.left-M,c.top),t.lineTo(c.left,c.top)):(t.lineTo(a.left+M,a.top-O),t.lineTo(c.left-M,c.top+O),t.lineTo(c.left-M,c.top),t.lineTo(c.left,c.top))},"default-grid":()=>{t.moveTo(a.left,a.top),t.lineTo(d,a.top),t.lineTo(d,c.top),t.lineTo(c.left,c.top)},"default-steep":()=>{t.moveTo(a.left,a.top),t.lineTo(a.left+h*.3,a.top),t.lineTo(c.left-h*.3,c.top),t.lineTo(c.left,c.top)},default:()=>{t.moveTo(a.left,a.top),t.lineTo(c.left,c.top)}};let m=c.left-a.left,E=Math.abs(a.top-c.top);m*=this.scaleX,E*=this.scaleY;let x=a.left>c.left;if(n.parent===l.parent||x&&E<70)g["self-connecting"]();else if(m<50&&E>70)g["src-right-of-sink"]();else{let O;m==0?O=999:O=Math.abs(E/m),O>.5,g["default-steep"]()}t.stroke()}),!fi&&this.world.previousTerminal){let s=this.world.previousTerminal,n=he(s.domElement,this.domElement),l=$(s.domElement);n.top+=l.height()/2,n.left+=l.width()/2,t.beginPath(),t.strokeStyle="red",t.moveTo(n.left,n.top),t.lineTo(this.mousePos.x,this.mousePos.y),t.stroke()}i.forEach(s=>{let n=he(s.domElement,this.domElement),l=$(s.domElement);n.top+=l.height()/2/this.scaleY,n.left+=l.width()/2/this.scaleX,t.beginPath(),t.strokeStyle=s.state?"white":"#0096d2",t.lineWidth=3/this.scaleX,t.moveTo(n.left,n.top);let o=15/this.scaleX;s.isSource?t.lineTo(n.left+o,n.top):t.lineTo(n.left-o,n.top),t.stroke()})}drawIndicators(){let t=this.indicatorSize||10,i=this.ctx;i.fillStyle=this.world.isStable()?"#4f4":"#f44",i.fillRect(0,t,t,t),i.fillStyle=this.world.tickCount%2===0?"#fff":"#ccc",i.fillRect(t,0,t,t)}createGateElement(t,i,s,n,l,o){s=s||100,n=n||100,l=l===void 0?!0:l,o=o===void 0?!0:o;let r=t.cloneNode(!0);$(r).removeClass("logic-gate-div-relative"),$(r).addClass("logic-gate-div-absolute"),r.style.left=`${s}px`,r.style.top=`${n}px`,this.domElement.appendChild(r);let a=this.world.createLogicGate(i);a.setDomElement(r),a._removeable=o,a._draggable=l;function c(){a.domElement.style.transition="all 0.1s",a.domElement.style.left=s+"px",a.domElement.style.top=n+"px",setTimeout(()=>{a.domElement.style.transition=""},500)}l&&($(r).draggable({handle:".logic-gate-body",distance:15,start:()=>{this.eventManager.publish("CANVAS_GATE_MOVE_START",a)},stop:()=>{this.eventManager.publish("CANVAS_GATE_MOVE_END",a);let E=Al(a.domElement,this.domElement),x=a._removeable;E||(x?a.remove():c())}}),$(r).find(".logic-gate-body").addClass("logic-gate-body-active")),o&&a.domElement.addEventListener("contextmenu",E=>{a._removeable&&(this.eventManager.publish("CANVAS_GATE_REMOVED",a),E.preventDefault(),a.remove())});let d=$(r).find(".logic-gate-input-terminal")[0],h=$(r).find(".logic-gate-output-terminal")[0],g=$(d).children(),m=$(h).children();if(g.length!==i.inputCount)throw new Error("Input count does not match");if(m.length!==i.outputCount)throw new Error("Output count does not match");return a.setLabel=E=>{let x=a.domElement,G=$(x).find(".logic-gate-label")[0];G.innerHTML=E},a.inputTerminals.forEach((E,x)=>{E.setDomElement(g[x])}),a.outputTerminals.forEach((E,x)=>{E.setDomElement(m[x])}),a.terminals().forEach(E=>{E.domElement.addEventListener("click",x=>{x.stopPropagation(),this.world.makeConnection(E),this.showConnectableTerminals()}),E.domElement.draggable=!0,E.domElement.addEventListener("dragstart",x=>{x.dataTransfer.dropEffect="link",x.dataTransfer.setData("text","terminal"),this.world.clearSelction(),this.world.makeConnection(E),this.showConnectableTerminals()}),E.domElement.addEventListener("dragend",x=>{this.world.clearSelction(),this.showConnectableTerminals()}),E.domElement.addEventListener("dragover",x=>{this.mousePos={x:x.clientX,y:x.clientY},x.preventDefault()}),E.domElement.addEventListener("drop",x=>{x.dataTransfer.getData("text")==="terminal"&&(this.world.makeConnection(E),this.world.clearSelction(),this.showConnectableTerminals())})}),this.eventManager.publish("CANVAS_GATE_CREATED",a),a}showConnectableTerminals(){let t=this.world.previousTerminal,i=t==null?void 0:t.isSource;if(t){if(t.domElement.classList.add("logic-gate-terminal-selected"),t.relatedTerminals.forEach(s=>{$(s.domElement).addClass("logic-gate-terminal-removeable")}),!i&&t.relatedTerminals.length>0)return;this.world.terminals.forEach(s=>{i!==s.isSource&&$(s.domElement).addClass("logic-gate-terminal-connectable")}),this.world.wires.forEach(s=>{$(s.terminalSink.domElement).removeClass("logic-gate-terminal-connectable")})}else this.world.terminals.forEach(s=>{let n=$(s.domElement);n.removeClass("logic-gate-terminal-connectable"),n.removeClass("logic-gate-terminal-removeable"),n.removeClass("logic-gate-terminal-selected")})}createInput(t){t=t||this.templates.IN;let i=this.createGateElement(t,Dl,0,100,!1,!1);this.world.addInputGate(i);let s=$(i.domElement).find(".logic-gate-body")[0];return Ia(s,()=>{i.out(0).toggle()}),this.arrangeIOGates(),i}createOutput(t){t=t||this.templates.OUT;let i=this.createGateElement(t,Il,500,100,!1,!1);return this.world.addOutputGate(i),this.arrangeIOGates(),i}removeInput(){this.world.inputs.pop().remove(),this.arrangeIOGates()}removeOutput(){this.world.outputs.pop().remove(),this.arrangeIOGates()}arrangeIOGates(){let t=this.world.inputs,i=this.world.outputs;{let s=this.canvas.height/(t.length+1),n=s-25;t.forEach(l=>{l.domElement.style.left="0px",l.domElement.style.right="",l.domElement.style.top=`${n}px`,n+=s})}{let s=this.canvas.height/(i.length+1),n=s-25;i.forEach(l=>{l.domElement.style.right="0px",l.domElement.style.left="",l.domElement.style.top=`${n}px`,n+=s})}}connect(t,i){return this.world.clearSelction(),this.world.makeConnection(t),this.world.makeConnection(i)}linkWorld(t,i,s){let n=this.templates.WORLD.cloneNode(!0),l=$(n).find(".logic-gate-input-terminal")[0],o=$(n).find(".logic-gate-output-terminal")[0],r=document.createElement("div");r.classList.add("logic-gate-terminal"),t.inputs.forEach(m=>{l.appendChild(r.cloneNode(!0))}),t.outputs.forEach(m=>{o.appendChild(r.cloneNode(!0))});let c=(Math.max(t.inputs.length,t.outputs.length)-3)*15;if(c>0){let m=$(n).height();$(n).height(m+c)}r.remove(),r=null;let d=new Ft("WORLD",()=>{},t.inputs.length,t.outputs.length),h=this.createGateElement(n,d,i,s,!0,!1);h._linkedWorld=t;let g=()=>{t.inputs.forEach((m,E)=>{m.outputTerminals[0].setState(h.inputTerminals[E].state)}),t.outputs.forEach((m,E)=>{h.outputTerminals[E].setState(m.inputTerminals[0].state)}),t.tick(),t.isStable()||this.world.notifyInstability()};return d.func=g,h.domElement.addEventListener("contextmenu",m=>{m.preventDefault(),h._linkedWorld.parent.remove(),h.remove()}),l=null,o=null,h}worldTick(){this.world.tick()}visualTick(){this.clearCanvas(),this.drawGrid(),this.drawIndicators(),this.ctx.scale(this.scaleX,this.scaleY),this.drawWires(),this.ctx.setTransform(1,0,0,1,0,0)}startVisualTick(){clearInterval(this.slowVisualTick),this.visualTickRunning=!0;const t=()=>{this.visualTickRunning&&(this.visualTick(),requestAnimationFrame(t))};requestAnimationFrame(t)}stopVisualTick(){this.slowVisualTick=setInterval(()=>{},100),this.visualTickRunning=!1}startWorldTick(t){t=t||60,this.worldTickInterval&&clearInterval(this.worldTickInterval),this.worldTickInterval=setInterval(()=>{this.worldTick()},1e3/t)}stopWorldTick(){clearInterval(this.worldTickInterval)}loadTemplate(t){let i=$(`#${t}`)[0],s={NOT:"logic-not-template",AND:"logic-and-template",NAND:"logic-nand-template",OR:"logic-or-template",NOR:"logic-nor-template",XOR:"logic-xor-template",XNOR:"logic-xnor-template",IN:"logic-in-template",OUT:"logic-out-template",WORLD:"logic-world-template"},n={};for(const[l,o]of Object.entries(s))n[l]=$(i).find(`.${o}`)[0];return this.templates=n,n}getGateTemplate(t){return this.templates[t]}createGate(t,i,s,n,l){if(this.world.clearSelction(),this.showConnectableTerminals(),i>=0&&i<=1&&(i=i*this.domElement.clientWidth),s>=0&&s<=1&&(s=s*this.domElement.clientHeight),i===void 0&&(i=this.domElement.clientWidth/2-25),s===void 0&&(s=this.domElement.clientHeight/2-25),ge[t]===void 0){console.error("Invalid fundamental gate type");return}let o=this.templates[t],r=ge[t].functionSpec;return this.createGateElement(o,r,i,s,n,l)}showWireFrame(t){t=t===void 0?this.domElement:t;let i=$(t).children();for(let s=0;s<i.length;s++){let n=i[s];$(n).addClass("show-wireframe"),this.showWireFrame(n)}}hideWireFrame(t){t=t===void 0?this.domElement:t;let i=$(t).find(".show-wireframe");for(let s=0;s<i.length;s++){let n=i[s];$(n).removeClass("show-wireframe")}}async evaluate(t){return await this.world.evaluate(t)}export(){let t=this.world.export(),i=[];t.gates.forEach((l,o)=>{if(l._exportID=o,l.funcSpec.name==="WORLD")i.push({type:l.funcSpec.name,x:l.domElement.style.left,y:l.domElement.style.top,id:l._exportID,state:l.getState(),worldExport:l._linkedWorld.parent.export(),canvasSize:{width:l._linkedWorld.domElement.clientWidth,height:l._linkedWorld.domElement.clientHeight}});else if(l.isFundamental())i.push({type:l.funcSpec.name,x:l.domElement.style.left,y:l.domElement.style.top,id:l._exportID,state:l.getState(),isWorldInput:this.world.inputs.includes(l),isWorldOutput:this.world.outputs.includes(l)});else{console.error("Unknown gate type");return}});let s=[];return t.wires.forEach(l=>{let o=l.terminalSrc,r=l.terminalSink,a=o.parent,c=r.parent,d=a.terminals().indexOf(o),h=c.terminals().indexOf(r);s.push({t1:{gateID:a._exportID,terminalID:d},t2:{gateID:c._exportID,terminalID:h},state:l.state})}),{gates:i,wires:s,canvasSize:{width:this.domElement.clientWidth,height:this.domElement.clientHeight}}}load(t){this.updateCanvas();let i=this.domElement.clientWidth/t.canvasSize.width,s=this.domElement.clientHeight/t.canvasSize.height;this.clear();let n={};t.gates.forEach(l=>{if(l.type==="WORLD"){let o=new Ae,r=document.createElement("div");r.style.width=l.canvasSize.width+"px",r.style.height=l.canvasSize.height+"px",document.body.appendChild(r),new Qt(o,r).load(l.worldExport);let c=parseInt(l.x),d=parseInt(l.y),h=this.linkWorld(o,c,d);n[l.id]=h,n[l.id].setState(l.state)}else if(ge[l.type]!==void 0){let o=parseInt(l.x)*i,r=parseInt(l.y)*s;l.isWorldInput?n[l.id]=this.createInput():l.isWorldOutput?n[l.id]=this.createOutput():n[l.id]=this.createGate(l.type,o,r),n[l.id].setState(l.state)}else{console.error("Unknown gate type",l);return}}),t.wires.forEach(l=>{let o=n[l.t1.gateID].terminals()[l.t1.terminalID],r=n[l.t2.gateID].terminals()[l.t2.terminalID];this.connect(o,r).setState(l.state)}),this.visualTick()}clone(){let t=this.export(),i=this.domElement.cloneNode(!1),s=new Qt(new Ae,i);return s.load(t),s}clear(t){this.world.gates.forEach(i=>{i.funcSpec.name==="WORLD"&&i._linkedWorld.parent.remove()}),t?(this.world.gates.forEach(i=>{let s=this.world.inputs.includes(i),n=this.world.outputs.includes(i);s||n||i.remove()}),this.world.wires.forEach(i=>{i.remove()})):this.world.clear()}remove(){this.clear(),window.removeEventListener("resize",this.onResize),clearInterval(this.slowVisualTick),this.stopVisualTick(),this.stopWorldTick(),this.domElement.remove(),this.domElement=null,this.world.remove(),this.world=null}importAsGate(t,i,s){t instanceof Qt&&(t=t.export());let n=document.createElement("div");n.style.width=`${t.canvasSize.width}px`,n.style.height=`${t.canvasSize.height}px`,document.body.appendChild(n);let l=new Ae,o=new Qt(l,n);return o.load(t),i=i||100,s=s||100,this.linkWorld(o.world,i,s)}}console.log("logicgate_front.js loaded");const Aa="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-info-circle'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M8%2015A7%207%200%201%201%208%201a7%207%200%200%201%200%2014m0%201A8%208%200%201%200%208%200a8%208%200%200%200%200%2016'%20fill='%23ffffff'/%3e%3cpath%20d='m8.93%206.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738%203.468c-.194.897.105%201.319.808%201.319.545%200%201.178-.252%201.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275%200-.375-.193-.304-.533zM9%204.5a1%201%200%201%201-2%200%201%201%200%200%201%202%200'%20fill='%23ffffff'/%3e%3c/svg%3e";class Ma{constructor(t){if(this.name=t.name,this.description=t.description,this.availableGates=t.availableGates,this.maxGateCount=t.maxGateCount,this.timeLimit=t.timeLimit,this.onCreated=t.onCreated,this.onSubmit=t.onSubmit,!t.name)throw new Error("Level must have a name");if(!t.description)throw new Error("Level must have a description");if(!t.availableGates)throw new Error("Level must have availableGates")}onCreated(){}async onSubmit(){return!0}}class Ls extends Ma{constructor(t){super(t),this.inputs=t.inputs,this.outputs=t.outputs,this.truthTableFn=t.truthTable,typeof this.truthTableFn!="function"?this.truthTableFn=()=>t.truthTable:this.truthTableFn=this.truthTableFn}get truthTable(){return console.log(this.truthTableFn()),this.truthTableFn()}}const Ra={class:"test-case-table-container"},Na={class:"table table-dark table-hover text-center table-striped table-test-case"},$a={class:"col-1"},ka=["onClick"],Pa={__name:"truthtableleveltemplate",setup(e,{expose:t}){const i=me("logicCanvas"),s=i.world,n=me("truthTableLevelData"),l=n.inputs,o=n.outputs,r=[...l,...o],a=Fn(n.truthTable.map(m=>[...m.outputs]));le(()=>{i.clear(),n.inputs.forEach(m=>{i.createInput().setLabel(m)}),n.outputs.forEach(m=>{i.createOutput().setLabel(m)})});const c=async m=>{let E=n.truthTable[m],x=E.inputs,G=E.outputs,O=await s.evaluate(x);O=O.map(I=>I?1:0);let M=!0;return O.forEach((I,w)=>{let k=G[w];I==k?a.value[m][w]=k:(a.value[m][w]=`${k} (got: ${I})`,M=!1)}),M?$(".table-test-case").find("tbody tr").eq(m).addClass("table-success"):$(".table-test-case").find("tbody tr").eq(m).addClass("table-danger"),console.log("result",x,G,O),M},d=async()=>{h();let m=!0;for(let E=0;E<n.truthTable.length;E++)await c(E)||(m=!1);return m},h=()=>{$(".table-test-case").find("tr").removeClass("table-primary"),$(".table-test-case").find("tr").removeClass("table-success"),$(".table-test-case").find("tr").removeClass("table-danger")},g=async(m,E)=>{let x=E.target.parentElement;h(),n.truthTable.forEach((G,O)=>{G.outputs.forEach((M,I)=>{a.value[O][I]=M})}),x.classList.toggle("table-primary"),await c(m)};return t({onSubmit:d,onCreated:n.onCreated}),(m,E)=>(U(),q(lt,null,[L("p",null,It(_t(n).description),1),_t(n).template?(U(),_l(_t(n).template,{key:0})):El("",!0),L("div",Ra,[L("table",Na,[L("thead",null,[L("tr",null,[(U(),q(lt,null,Zt(r,x=>L("th",$a,It(x),1)),64))])]),L("tbody",null,[(U(!0),q(lt,null,Zt(_t(n).truthTable,(x,G)=>(U(),q("tr",{class:"table-test-case-row",onClick:O=>{g(G,O)}},[(U(!0),q(lt,null,Zt(x.inputs,O=>(U(),q("td",null,It(O),1))),256)),(U(!0),q(lt,null,Zt(a.value[G],O=>(U(),q("td",null,It(O),1))),256))],8,ka))),256))])])])],64))}},Ha=oe(Pa,[["__scopeId","data-v-dd96040e"]]);class Ga{constructor(){this.data={},this.loadFromLocalStorage()}loadFromLocalStorage(){try{if(this.data=JSON.parse(localStorage.getItem("userData")),console.log("Loaded user data from local storage",this.data),typeof this.data!="object"||this.data===null)throw new Error("Invalid data in local storage")}catch{console.error("Error loading user data from local storage"),this.data={},this.saveToLocalStorage()}}saveToLocalStorage(){localStorage.setItem("userData",JSON.stringify(this.data))}set(t,i){this.data[t]=i,this.saveToLocalStorage()}get(t){return this.data[t]}clear(){localStorage.removeItem("userData"),this.data={}}hasAttempted(t){var i,s;return(s=(i=this.data)==null?void 0:i.attempts)==null?void 0:s.hasOwnProperty(t)}getAttempt(t,i){var s,n;if((s=this.data)!=null&&s.attempts&&(n=this.data)!=null&&n.attempts[t])return this.data.attempts[t][i]}setAttempt(t,i,s){this.data.attempts||(this.data.attempts={}),this.data.attempts[t]||(this.data.attempts[t]={}),this.data.attempts[t][i]=s,this.saveToLocalStorage()}}const Vt=new Ga,Wa={class:"app-container"},Fa={class:"back-button"},Ba={class:"app-outer"},ja={class:"w-100 text-center"},Ua={class:"app-inner"},Va={class:"d-flex justify-content-center m-1 logic-canvas-container"},qa={class:"logic-gate-deck"},Ka={class:"d-flex deck-btns flex-column justify-content-around"},Xa={class:"challenge-container"},za={class:"modal fade",tabindex:"-1","data-bs-backdrop":"static",id:"reviewPopup","data-bs-theme":"dark"},Ya={class:"modal-dialog modal-dialog-centered"},Ja={class:"modal-content"},Za={class:"modal-body d-flex justify-content-around"},Qa={class:"d-flex flex-column align-items-center"},tc={key:0,src:Ol,alt:"star",class:"star result-star result-star-fill"},ec={key:1,src:Ll,alt:"star",class:"star result-star"},ic={class:"mt-3"},Ml=(e,t)=>{let i=document.querySelector(".logic-gate-deck");t.forEach(s=>{let l=e.getGateTemplate(s).cloneNode(!0);l.classList.add("gate-deck-item"),l.classList.add(`add-${s.toLowerCase()}-btn`);let o=document.createElement("div");o.classList.add("gate-deck-item-container"),o.appendChild(l);let r=document.createElement("span");r.classList.add("gate-deck-item-title"),r.innerText=s,o.appendChild(r),i.appendChild(o),l.addEventListener("click",async a=>{let c=e.createGate(s),d=$(c.domElement).offset(),h=$(l).offset(),g=c.domElement.style.transition,m=c.domElement.style.zIndex,E=c.domElement.style.pointerEvents;c.domElement.style.zIndex=1e3,c.domElement.style.pointerEvents="none",$(c.domElement).offset(h),await st(30),c.domElement.style.transition="top 0.2s, left 0.2s, transform 0.2s, opacity 0.2s",await st(30),$(c.domElement).offset(d),await st(200),c.domElement.style.transition=g,c.domElement.style.zIndex=m,c.domElement.style.pointerEvents=E}),l.draggable=!0,l.ondragstart=a=>{a.dataTransfer.setData("gate",s)}}),e.domElement.ondragover=s=>{s.preventDefault()},e.domElement.ondrop=s=>{if(!s.dataTransfer.getData("gate"))return;let n=s.dataTransfer.getData("gate"),l=e.domElement.getBoundingClientRect(),o=s.clientX-l.left,r=s.clientY-l.top;o-=25,r-=25,e.createGate(n,o,r)}},sc={__name:"Play",setup(e){const t=()=>{console.log("back"),tt.clear(),ot(be)};Cs(t);const i=()=>{let I=window.location.hash.split("?")[1];I=I?decodeURI(I):void 0;let w=aa(),F=Ze[I||w];if(!F){ot(be);return}return F};let s,n,l=i(),o,r,a,c,d=Fn([{star:!0,text:"Level Solved!"},{star:!0,text:"Time"},{star:!1,text:"# of Gates"}]);const h=()=>{c=void 0,clearInterval(r),a=Date.now(),r=setInterval(()=>{let I=(Date.now()-a)/1e3,w=ri(I),k=l.timeLimit?ri(l.timeLimit):"",F=document.querySelector(".level-timer");F.innerText=`${w} / ${k}`},1e3)};le(async()=>{if(!l)return;let w=window.location.href.split("#")[0]+`#play?${l.id}`;if(window.history.pushState({},"",w),!l.hideCanvas){let K=document.querySelector(".logic-canvas-here"),X=new Ae;s=new Qt(X,K),s.startVisualTick(),s.startWorldTick(20),s.world.enableAutoSleep(),Ml(s,l.availableGates||["AND","OR","NOT","NAND","NOR","XOR","XNOR"]);const Y=document.querySelector(".logic-canvas-container"),vt=.95,Lt=new IntersectionObserver(([Xt])=>{let we=Xt.intersectionRatio<vt&&Xt.boundingClientRect.y<=10;Xt.target.classList.toggle("is-pinned",we)},{threshold:[vt]});Lt.observe(Y),o=Lt,Y.getBoundingClientRect().top<=10&&Y.classList.add("is-pinned"),$('[data-toggle="tooltip"]').tooltip()}l instanceof Ls?(console.log(l),n=ns(Ha),n.provide("logicCanvas",s),n.provide("truthTableLevelData",l),n.mount("#challenge")):(n=ns(l),n.provide("logicCanvas",s),n.mount("#challenge")),h(),l.onCreated&&setTimeout(()=>{l.onCreated(s)},200);let k=Vt.getAttempt(l.id,"canvas"),F=Vt.getAttempt(l.id,"time");k&&setTimeout(()=>{s.load(k),a=Date.now()-F*1e3,clearInterval(r)},500)}),Ee(()=>{$("#reviewPopup").modal("hide"),clearInterval(r),o==null||o.disconnect(),s==null||s.remove(),console.log("logic canvas removed"),n==null||n.unmount()});let g=null;const m=async()=>{if(!g)return;s.load(g),g=null;let I=document.querySelector(".undo-btn");I.style.display="none"},E=async I=>{let w=document.querySelector(".clear-btn"),k=document.querySelector(".undo-btn");w.disabled=!0,g=s.export(),s.world.nonIOGates.forEach(F=>{F.domElement.animate([{opacity:1},{opacity:0}],{duration:200}).onfinish=()=>{F.remove()}}),await st(200),s.world.wires.forEach(F=>{F.remove()}),await st(300),w.disabled=!1,k.style.display="block",s.eventManager.onceMulti(["GATE_CREATED","WIRE_CREATED","TERMINAL_STATE_CHANGED"],()=>{let F=document.querySelector(".undo-btn");F.style.display="none"})},x=Yn("test"),G=async()=>{if(await x.value._vnode.component.exposed.onSubmit()){c||(c=Date.now()),clearInterval(r),d.value[0].star=!1,d.value[1].star=!1,d.value[2].star=!1;let k=Math.floor((c-a)/1e3),F=ri(k),K=l.timeLimit?ri(l.timeLimit):"";d.value[1].text=`Time: ${F} / ${K}`;let X=l.timeLimit?k<=l.timeLimit:!0,Y=s.world.nonIOGates.length,vt=l.maxGateCount||"";d.value[2].text=`# of Gates: ${Y} / ${vt}`;let Lt=l.maxGateCount?Y<=l.maxGateCount:!0;Vt.setAttempt(l.id,"stars",[!0,X,Lt]),Vt.setAttempt(l.id,"time",k),Vt.setAttempt(l.id,"canvas",s.export()),$("#reviewPopup").modal("show"),await st(200),d.value[0].star=!0,await st(200),d.value[1].star=X,await st(200),d.value[2].star=Lt}},O=()=>{$("#reviewPopup").modal("hide"),s.world.clearNonIO(),h()},M=async()=>{let I=l.next;await st(500),t(),await st(500),ot(Ai,I.id)};return(I,w)=>{var k,F,K,X;return U(),q("div",Wa,[w[4]||(w[4]=L("img",{class:"logo",src:Ii},null,-1)),L("div",Fa,[L("button",{class:"btn btn-outline-secondary",onClick:w[0]||(w[0]=Y=>t())},"Back")]),L("div",Ba,[L("h1",ja,It((F=(k=_t(l))==null?void 0:k.world)==null?void 0:F.name)+" - "+It((K=_t(l))==null?void 0:K.name),1),L("div",Ua,[L("div",Va,[w[1]||(w[1]=es('<div class="logic-canvas-scale" data-v-1f3fbed1><div class="logic-canvas-here" data-v-1f3fbed1><div class="level-timer" data-v-1f3fbed1></div><img src="'+Aa+'" class="canvas-info-icon position-absolute top-0 end-0 m-3 z-3" alt="info" data-v-1f3fbed1><div class="canvas-info-tooltip position-absolute top-50 start-50 translate-middle" data-v-1f3fbed1><p data-v-1f3fbed1><b data-v-1f3fbed1>Add Gate:</b> Click / Tap the gate you want to add from the gate deck. You can also drag the gate from the gate deck</p><div class="logic-canvas-and-demo" data-v-1f3fbed1></div><p data-v-1f3fbed1><b data-v-1f3fbed1>Remove Gate:</b> Right-click or drag the gate outside the canvas</p><p data-v-1f3fbed1><b data-v-1f3fbed1>Move Gate:</b> Drag the gate.</p><p data-v-1f3fbed1><b data-v-1f3fbed1>Connect Gates:</b> Click / Tap on the terminal of one gate, then on the terminal of another gate. Or drag one of the terminal to another terminal</p></div></div></div>',1)),L("div",qa,[L("div",Ka,[L("button",{class:"btn btn-secondary clear-btn m-1",onClick:fn(E,["prevent"])},"Clear"),L("button",{class:"btn btn-secondary undo-btn m-1",onClick:fn(m,["prevent"])},"Undo")])]),(X=_t(l))!=null&&X.hideSubmit?El("",!0):(U(),q("button",{key:0,class:"btn btn-primary mt-0 mb-2",id:"submit-btn",onClick:G},"Submit"))]),L("div",Xa,[L("div",{id:"challenge",ref_key:"test",ref:x},null,512),w[2]||(w[2]=L("div",{class:"testdummy"},null,-1))])])]),L("div",za,[L("div",Ya,[L("div",Ja,[w[3]||(w[3]=L("div",{class:"modal-header"},[L("h5",{class:"modal-title"},"Result"),L("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),L("div",Za,[(U(!0),q(lt,null,Zt(_t(d),Y=>(U(),q("div",Qa,[Y.star?(U(),q("img",tc)):(U(),q("img",ec)),L("p",ic,It(Y.text),1)]))),256))]),L("div",{class:"modal-footer"},[L("button",{type:"button",class:"btn btn-primary",onClick:t},"World Selection"),L("button",{type:"button",class:"btn btn-primary",onClick:O},"Restart"),L("button",{type:"button",class:"btn btn-primary",onClick:M},"Next Level")])])])])])}}},Ai=oe(sc,[["__scopeId","data-v-1f3fbed1"]]),nc={class:"app-container"},lc={class:"back-button"},oc={class:"app-outer"},rc={class:"app-inner"},ac={class:"challenge"},cc={class:"mech-current-step"},uc={__name:"Tutorial",setup(e){const t=()=>{console.log("back"),$("html, body").animate({scrollTop:0},10),ot(be)};let i;Object.keys(Ze).forEach(r=>{let a=Ze[r];a.goToPage==Ds&&(i=a)}),console.log("level",i),Cs(t);let s=[],n=null,l=null,o=null;return le(async()=>{console.log("mounted");let a=window.location.href.split("#")[0]+"#tutorial";window.history.pushState({},"",a);let c=["AND","OR","XOR","NOT","NAND","NOR","XNOR"];for(let d of c){let h=document.querySelector(`.${d.toLowerCase()}-demo`),g=new Ae,m=new Qt(g,h,null,!1);s.push(m),m.startVisualTick(),m.startWorldTick(10),m.indicatorSize=5,m.world.enableAutoSleep();let E=ge[d].functionSpec;for(let O=0;O<E.inputCount;O++)m.createInput().setLabel(["A","B","C","D"][O]);m.createOutput().setLabel("OUT");let x=m.createGate(d);for(let O=0;O<E.inputCount;O++){let M=m.world.in[O];m.world.makeConnection(M.out(0)),m.world.makeConnection(x.in(O))}let G=m.world.out[0];m.world.makeConnection(x.out(0)),m.world.makeConnection(G.in(0))}{let d=s[0];tt.clear(),tt.setCanvas(d),l=setInterval(()=>{let h=d.world.in[0].domElement.getBoundingClientRect();h.y+h.height<0&&(clearInterval(l),tt.skip())},100),o=setInterval(()=>{let h=d.world.in[1].domElement.getBoundingClientRect();h.y+h.height<0&&(clearInterval(o),tt.skip())},100),await tt.toggleInput(d.world.in[0]),clearInterval(l),await tt.toggleInput(d.world.in[1]),clearInterval(o)}{let d=document.querySelector(".main-logic-canvas"),h=new Ae,g=new Qt(h,d);s.push(g),g.startVisualTick(),g.startWorldTick(10),g.createInput().setLabel("A"),g.createInput().setLabel("B"),g.createInput().setLabel("C"),g.createOutput().setLabel("OUT"),Ml(g,["AND","OR","XOR","NOT","NAND","NOR","XNOR"]);let m=document.querySelector(".mech-add"),E=document.querySelector(".mech-remove"),x=document.querySelector(".mech-move"),G=document.querySelector(".mech-conneect"),O=document.querySelector(".mech-toggle"),M=document.querySelector(".mech-complete-text"),I=document.querySelector(".skip-btn"),w=null,k=new Os(100);const F=()=>{k.run(()=>{let Y=document.querySelector(".mech-current-step");if(w){let vt=$(w).offset();$(Y).offset(vt),Y.style.display="block",Y.style.width=$(w).outerWidth()+"px",Y.style.height=$(w).outerHeight()+"px"}else Y.style.display="none"})},K=Y=>{w&&w.classList.add("mech-complete"),w=Y,F()};n=setInterval(F,100),tt.setCanvas(g),K(E);let X=g.createGate("AND");await tt.removeGate(X),K(m),X=await tt.addGate("AND"),await st(100),setTimeout(async()=>{tt.skip()},100),await tt.moveGate(X,.5,.8),K(x),await tt.moveGate(X,.33,.33),K(G),await tt.addWire(g.world.in[0].out(0),X.in(0)),await tt.addWire(g.world.in[1].out(0),X.in(1)),await tt.addWire(X.out(0),g.world.out[0].in(0)),K(O),await tt.toggleInput(g.world.in[0]),await tt.toggleInput(g.world.in[1]),K(M),M.style.opacity=1,I.style.display="none",Vt.setAttempt(i.id,"stars",[!0,!0,!0])}}),Ee(()=>{tt.clear(),clearInterval(n),clearInterval(l),clearInterval(o),s.forEach(r=>r.remove())}),(r,a)=>(U(),q("div",nc,[a[6]||(a[6]=L("img",{class:"logo",src:Ii},null,-1)),L("div",lc,[L("button",{class:"btn btn-outline-secondary",onClick:a[0]||(a[0]=c=>t())},"Back")]),L("div",oc,[L("div",rc,[L("div",ac,[a[4]||(a[4]=es('<h1 data-v-28be0d83>What is a Logic Gate?</h1><p data-v-28be0d83> A <strong data-v-28be0d83>logic gate</strong> is a fundamental building block of digital circuits. It is an electronic device or circuit that performs a basic logical operation on one or more input signals and produces a single output signal. Logic gates are based on <strong data-v-28be0d83>Boolean algebra</strong>, a mathematical system of logic used in computing and electronics. </p><h2 data-v-28be0d83>Common Types of Logic Gates:</h2><ul data-v-28be0d83><li data-v-28be0d83><strong data-v-28be0d83>AND Gate:</strong> Outputs <code data-v-28be0d83>1</code> (true) only if <em data-v-28be0d83>all</em> inputs are <code data-v-28be0d83>1</code>. </li><div class="and-demo gate-demo" data-v-28be0d83></div><li data-v-28be0d83><strong data-v-28be0d83>OR Gate:</strong> Outputs <code data-v-28be0d83>1</code> if <em data-v-28be0d83>at least one</em> input is <code data-v-28be0d83>1</code>. </li><div class="or-demo gate-demo" data-v-28be0d83></div><li data-v-28be0d83><strong data-v-28be0d83>XOR Gate:</strong> Outputs <code data-v-28be0d83>1</code> if <em data-v-28be0d83>only one</em> of the inputs is <code data-v-28be0d83>1</code>. </li><div class="xor-demo gate-demo" data-v-28be0d83></div><li data-v-28be0d83><strong data-v-28be0d83>NOT Gate:</strong> Inverts the input signal </li><div class="not-demo gate-demo" data-v-28be0d83></div><li data-v-28be0d83><strong data-v-28be0d83>NAND Gate:</strong> Outputs the opposite of an AND gate.</li><div class="nand-demo gate-demo" data-v-28be0d83></div><li data-v-28be0d83><strong data-v-28be0d83>NOR Gate:</strong> Outputs the opposite of an OR gate.</li><div class="nor-demo gate-demo" data-v-28be0d83></div><li data-v-28be0d83><strong data-v-28be0d83>XNOR Gate:</strong> Outputs the opposite of an XOR gate.</li><div class="xnor-demo gate-demo" data-v-28be0d83></div></ul><h2 data-v-28be0d83>Why Are Logic Gates Important?</h2><ol data-v-28be0d83><li data-v-28be0d83><strong data-v-28be0d83>Foundation of Digital Electronics:</strong><p data-v-28be0d83>Logic gates are the basic components of digital circuits. They are used in designing microprocessors, memory devices, and control systems.</p></li><li data-v-28be0d83><strong data-v-28be0d83>Decision Making:</strong><p data-v-28be0d83>Logic gates enable devices to make logical decisions by processing binary data (1s and 0s).</p></li><li data-v-28be0d83><strong data-v-28be0d83>Binary Operations:</strong><p data-v-28be0d83>Since computers work in binary (0s and 1s), logic gates are essential for enabling computers to execute instructions.</p></li></ol><p data-v-28be0d83> Logic gates serve as the &quot;brain&quot; of digital systems, making them a cornerstone of modern technology. </p><h2 data-v-28be0d83>Game Mechanics</h2><div class="main-logic-canvas" data-v-28be0d83></div><div class="logic-gate-deck" data-v-28be0d83></div>',10)),L("div",cc,[a[3]||(a[3]=L("div",{class:"mech-current-step-highlighter"},null,-1)),L("button",{class:"btn btn-primary skip-btn",onClick:a[1]||(a[1]=c=>_t(tt).skip())},"Skip")]),a[5]||(a[5]=es('<p class="mech-remove mech-demo" data-v-28be0d83><b data-v-28be0d83>Remove Gate:</b> Right-click or drag the gate outside the canvas </p><p class="mech-add mech-demo" data-v-28be0d83><b data-v-28be0d83>Add Gate:</b> Click / Tap the gate you want to add from the gate deck. You can also drag the gate from the gate deck</p><p class="mech-move mech-demo" data-v-28be0d83><b data-v-28be0d83>Move Gate:</b> Drag the gate.</p><p class="mech-conneect mech-demo" data-v-28be0d83><b data-v-28be0d83>Connect Gates:</b> Click / Tap on the terminal of one gate, then on the terminal of another gate. Or drag one of the terminal to another terminal</p><p class="mech-toggle mech-demo" data-v-28be0d83><b data-v-28be0d83>Toggle Input:</b> Click / Tap on the input gate to toggle it on or off</p><p class="mech-complete-text mech-demo" data-v-28be0d83><b data-v-28be0d83>Congratulations!</b> You&#39;ve completed the tutorial. Feel free to experiment with the circuit now.</p>',6)),L("button",{class:"btn btn-secondary",onClick:a[2]||(a[2]=c=>t())},"Go Back To World Selector")])])])]))}},Ds=oe(uc,[["__scopeId","data-v-28be0d83"]]),dc=new Ls({name:"Lets Make NAND 1",description:"Create a NAND gate using AND and NOT gates",inputs:["A","B"],outputs:["OUT"],availableGates:["AND","NOT"],truthTable:[{inputs:[0,0],outputs:[1]},{inputs:[0,1],outputs:[1]},{inputs:[1,0],outputs:[1]},{inputs:[1,1],outputs:[0]}],maxGateCount:2,timeLimit:3*60}),fc={};function hc(e,t){return U(),q("div",null,t[0]||(t[0]=[L("h1",null,"Test Template",-1),L("p",null,"This is a test template",-1)]))}const pc=oe(fc,[["render",hc]]),mc=new Ls({name:"Nothing",description:"Just connect the input to the output",inputs:["IN"],outputs:["OUT"],availableGates:["AND","NOT"],truthTable:[{inputs:[0],outputs:[0]},{inputs:[1],outputs:[1]}],maxGateCount:2,timeLimit:3*60,onCreated:e=>{let t=e.world,i=t.inputs[0],s=t.outputs[0];console.log(i,s),t.makeConnection(i.out(0)),t.makeConnection(s.in(0))},template:pc}),Is=[{name:"Basic",description:"Basic level",levels:[{name:"Tutorial",description:"Learn the basics of logic gates and game mechanics",goToPage:Ds},dc,mc]},{name:"Intermediate",description:"Intermediate level",levels:[_a]},{name:"Advanced",description:"Advanced level",levels:[{name:"Level 4",description:"Level 4Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 5",description:"Level 5Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 6",description:"Level 6Level 3Level 3Level 3Level 3Level 3Level 3"}]},{name:"Expert",description:"Expert level",levels:[{name:"Level 7",description:"Level 7Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 8",description:"Level 8Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 9",description:"Level 9Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 7",description:"Level 7Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 8",description:"Level 8Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 9",description:"Level 9Level 3Level 3Level 3Level 3Level 3Level 3"},{name:"Level 7",description:"Level 7Level 1Level 1Level 1Level 1Level 1Level 1"},{name:"Level 8",description:"Level 8Level 2Level 2Level 2Level 2Level 2Level 2"},{name:"Level 9",description:"Level 9Level 3Level 3Level 3Level 3Level 3Level 3"}]}],Ze={};let ai;Is.forEach(e=>{e.levels.forEach(t=>{let i=`${e.name}.${t.name}`;t.world=e,t.id=i,Ze[i]=t,ai&&(ai.next=t,t.previous=ai),ai=t})});Object.keys(Ze).forEach(e=>{});const gc={class:"app-container"},vc={class:"back-button"},_c={class:"app-inner"},bc={id:"world-selection",class:"world-selection-container","data-bs-theme":"dark"},yc={class:"world"},Ec={class:"world-title"},wc={class:"level-container"},Tc={class:"level"},Sc={class:"card",style:{width:"18rem"}},xc={class:"card-body"},Cc={class:"card-title"},Oc={class:"star-container"},Lc={key:0,src:Ol,alt:"star",class:"star result-star result-star-fill"},Dc={key:1,src:Ll,alt:"star",class:"star result-star"},Ic={class:"card-text"},Ac=["onClick"],Mc={__name:"WorldSelection",setup(e){Cs(()=>{ot(yi)}),le(()=>{let s=window.location.href.split("#")[0]+"#world-selection";if(window.history.pushState({},"",s),!Vt.getAttempt("Basic.Tutorial","stars")){const n=$(".go-to-play")[0];tt.clear(),tt.add({element:n,animation:"click"})}}),Ee(()=>{tt.clear()});const t=i=>{i.goToPage?ot(i.goToPage):($("html, body").animate({scrollTop:0},10),ot(Ai,i.id))};return(i,s)=>(U(),q("div",gc,[L("div",vc,[L("button",{class:"btn btn-outline-secondary",onClick:s[0]||(s[0]=n=>_t(ot)(yi))},"Back")]),L("div",_c,[s[1]||(s[1]=L("img",{class:"logo wsimg",src:Ii},null,-1)),L("div",bc,[(U(!0),q(lt,null,Zt(_t(Is),n=>(U(),q("div",yc,[L("h1",Ec,It(n.name),1),L("div",wc,[(U(!0),q(lt,null,Zt(n.levels,l=>(U(),q("div",Tc,[L("div",Sc,[L("div",xc,[L("h5",Cc,[Ts(It(l.name)+" ",1),L("div",Oc,[(U(!0),q(lt,null,Zt(_t(Vt).getAttempt(l.id,"stars")||[!1,!1,!1],o=>(U(),q("div",null,[o?(U(),q("img",Lc)):(U(),q("img",Dc))]))),256))])]),L("p",Ic,It(l.description),1),L("button",{class:"btn btn-primary go-to-play float-right",onClick:o=>t(l)},"Start",8,Ac)])])]))),256))])]))),256))])])]))}},be=oe(Mc,[["__scopeId","data-v-c3ca8f6d"]]),Rc={class:"app-inner"},Nc={class:"d-flex justify-content-center"},$c={__name:"MainMenu",setup(e){return le(()=>{console.log("mounted");let i=window.location.href.split("#")[0]+"#main-menu";window.history.pushState({},"",i);const s=$(".start-btn")[0];tt.clear(),tt.add({element:s,animation:"click"})}),(t,i)=>(U(),q("div",Rc,[i[2]||(i[2]=L("img",{alt:"Vue logo",class:"logo",src:Ii},null,-1)),L("div",Nc,[L("a",{class:"start-btn",id:"start-btn",onClick:i[0]||(i[0]=s=>_t(ot)(be))},i[1]||(i[1]=[L("img",{src:ua,class:"start-btn-img",viewBox:"0 0 16 16"},null,-1)]))])]))}},yi=oe($c,[["__scopeId","data-v-659addd0"]]);function Se(e,t){let i=document.createElement("div");i.style.position=e.style.position,i.style.top=e.style.top,i.style.left=e.style.left,i.style.width=e.style.width,i.style.height=e.style.height,i.style.zIndex=e.style.zIndex,i.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",i.classList.add(t),i.classList.add("hintcursor-animation-stacked"),e.replaceWith(i),i.appendChild(e)}function We(e){let t=e.parentElement;t.classList.contains("hintcursor-animation-stacked")&&(e.style.top=t.style.top,e.style.left=t.style.left,t.parentElement.appendChild(e),t.remove(),We(e))}function As(e){let t=e==null?void 0:e.parentElement;return t==null?e:t.classList.contains("hintcursor-animation-stacked")?As(t):e}function kc(e,t,i){let s=As(e);s.style.top=`${i}px`,s.style.left=`${t}px`}class Pc{constructor(t,i,s){this.transitionDuration=i||500,this.target={},this.hintElement=null,this.creatDomElement(s),this.currentAnimation=null,this.animations={click:()=>{We(this.hintElement),Se(this.hintElement,"hintcursor-animation-fadeinfromright"),Se(this.hintElement,"hintcursor-animation-jiggle"),Se(this.hintElement,"hintcursor-animation-blink"),this.setTransitionDuration(this.transitionDuration)},drag:()=>{We(this.hintElement),Se(this.hintElement,"hintcursor-animation-drag"),this.setTransitionDuration(this.transitionDuration)},point:()=>{We(this.hintElement),Se(this.hintElement,"hintcursor-animation-fadeinfromright"),Se(this.hintElement,"hintcursor-animation-point"),this.setTransitionDuration(this.transitionDuration)}},this.setAnimation("click"),this.moveTo(t,i);let n=new Os(100);this._onWindowResizeProxy=()=>{n.run(()=>{this.moveToTarget()})},window.addEventListener("resize",this._onWindowResizeProxy),this.followInterval=setInterval(()=>{n.run(()=>{this.moveToTarget()})},200)}creatDomElement(t){let i=document.createElement("img");i.src="hintcursor_click.png",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.width="40px",i.style.height="40px",i.style.zIndex=3e3,i.style.pointerEvents="none",this.hintElement=i,t=t||document.documentElement,t.appendChild(i)}setAnimation(t,i){(i||t!=this.currentAnimation)&&(this.currentAnimation=t,this.animations[t]())}setTarget(t){this.target=t}moveToTarget(){let t=this.target;if(this.hidden)return;let i=he(t,document.documentElement),s=i.left,n=i.top;s+=$(t).outerWidth()*.6,n+=$(t).outerHeight()*.6,kc(this.hintElement,s,n)}moveTo(t,i){this.setTransitionDuration(i),this.setTarget(t),this.moveToTarget()}setTransitionDuration(t){if(t==null)return;this.transitionDuration=t;let i=As(this.hintElement);i.style.transition=`top ${t}ms, left ${t}ms`,i.style.transitionTimingFunction="ease-in-out"}hide(){this.hintElement.style.transition="opacity 0.5s",this.hintElement.style.opacity=0,this.hidden=!0}unhide(){this.hintElement.style.transition="opacity 0.5s",this.hintElement.style.opacity=1,this.hidden=!1}remove(){this.hide(),setTimeout(()=>{this._remove()},500)}_remove(){clearInterval(this.followInterval),window.removeEventListener("resize",this._onWindowResizeProxy),We(this.hintElement),this.hintElement.remove(),this.hintElement=null,this.target=null}}class Hc{constructor(t,i,s){this.elements=t||[],this.cursorHint=new Pc(void 0,void 0,s),this._finished=!1,this.next()}next(){if(this.current=this.elements.splice(0,1)[0],!this.current){this.cursorHint.hide(),this._finished=!0;return}this.current.animation&&this.cursorHint.setAnimation(this.current.animation),this.current.element&&this.cursorHint.moveTo(this.current.element)}add(t){this.elements.push(t),this._finished&&(this._finished=!1,this.cursorHint.unhide(),this.next())}clear(){this.elements=[],this.next()}}class Gc{constructor(t,i){this.logicCanvas=t,this.world=t==null?void 0:t.world,this.eventManager=t==null?void 0:t.eventManager,this.cursorHintSeries=new Hc([],500,i),this.currentHintSolution=null}setCanvas(t){this.cursorHintSeries.clear(),this.logicCanvas=t,this.world=t==null?void 0:t.world,this.eventManager=t==null?void 0:t.eventManager}next(){this.cursorHintSeries.next()}add(t){this.cursorHintSeries.add(t)}clear(){this.cursorHintSeries.clear()}async addGate(t,i){i=i||$(`.add-${t.toLowerCase()}-btn`)[0],this.setSolution("addGate",{gateType:t}),this.add({element:i,animation:"click"});let s=await this.eventManager.wait("CANVAS_GATE_CREATED",n=>n.funcSpec.name===t);return this.next(),s}async removeGate(t){if(this.setSolution("removeGate",{gate:t}),this.logicCanvas.showingModeSelector()){let i=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(i),this.logicCanvas.moveMode||(this.add({element:i,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",s=>s==="MOVING"),this.next())}this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("GATE_REMOVED",i=>i===t),this.next(),this.currentHintSolution=null}async addWire(t,i,s){if(this.setSolution("addWire",{terminal1:t,terminal2:i}),this.logicCanvas.showingModeSelector()){let n=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(n),this.logicCanvas.moveMode&&(this.add({element:n,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",l=>l==="WIRING"),this.next())}this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("WORLD_TERMINAL_SELECTED",n=>{if(n.from===i){this.cursorHintSeries.cursorHint.setAnimation("click",!0);let o=t;t=i,i=o}let l=n.from===t||n.from===i;return l||setTimeout(()=>{this.world.clearSelction(),this.logicCanvas.showConnectableTerminals(),this.cursorHintSeries.cursorHint.setAnimation("click",!0)},500),l}),this.next(),this.add({element:i.domElement,animation:"click"}),await this.eventManager.wait(s||"WORLD_TERMINAL_CONNECTED",n=>{let l=n.from===t&&n.to===i,o=n.from===i&&n.to===t;return l||o}),this.next()}async removeWire(t,i){await this.addWire(t,i,"WORLD_TERMINAL_DISCONNECTED")}async toggleInput(t){this.setSolution("toggleInput",{gate:t}),this.add({element:t.domElement,animation:"click"}),await this.eventManager.wait("TERMINAL_STATE_CHANGED",i=>i===t.out(0)),this.next()}async moveGate(t,i,s,n,l,o){n=n??100,l=l??100;const r=$(this.logicCanvas.domElement).width(),a=$(this.logicCanvas.domElement).height();console.log(a,r),i>=0&&i<=1&&(i=i*r-n/2),s>=0&&s<=1&&(s=s*a-l/2),this.setSolution("moveGate",{gate:t,x:i,y:s,width:n,height:l});let c=document.createElement("div");if(c.style.position="absolute",c.style.top=`${s/a*100}%`,c.style.left=`${i/r*100}%`,c.style.width=`${n}px`,c.style.height=`${l}px`,c.style.pointerEvents="none",c.style.zIndex=1e3,c.style.border="2px solid rgba(0,0,0,0.5)",c.style.borderRadius="5px",c.style.backgroundColor="rgba(100,0,0,0.1)",c.style.opacity=0,c.style.transition="opacity 0.5s",requestAnimationFrame(()=>{c.style.opacity=.5}),this.logicCanvas.domElement.appendChild(c),this.logicCanvas.showingModeSelector()){let d=this.logicCanvas.domElement.querySelector(".logic-gate-edit-mode-button");console.log(d),this.logicCanvas.moveMode||(this.add({element:d,animation:"click"}),await this.eventManager.wait("CANVAS_EDIT_MODE_CHANGED",h=>h==="MOVING"),this.next())}this.add({element:t.domElement,animation:"drag"}),await this.eventManager.wait("CANVAS_GATE_MOVE_START",d=>d===t),o=o||$(t.domElement).offset(),c.style.opacity=1,this.next(),this.add({element:c,animation:"point"}),await this.eventManager.wait("CANVAS_GATE_MOVE_END",d=>d===t),this.next(),c.style.opacity=0,setTimeout(()=>{c.remove()},500),Al(t.domElement,c)||($(t.domElement)[0].style.transition="top 0.5s, left 0.5s",$(t.domElement).offset(o),setTimeout(()=>{$(t.domElement)[0].style.transition=""},500),await this.moveGate(t,i,s,n,l,o))}setSolution(t,i){({addGate:()=>{let n=i.gateType;this.currentHintSolution=()=>{this.logicCanvas.createGate(n)}},removeGate:()=>{let n=i.gate;this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING"),await st(100),n.remove()}},addWire:()=>{let n=i.terminal1,l=i.terminal2,o=he(n.domElement,this.logicCanvas.domElement),r=he(l.domElement,this.logicCanvas.domElement);this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","WIRING"),await st(100),this.world.clearSelction(),this.world.makeConnection(n),this.logicCanvas.mousePos={x:(o.left+r.left)/2,y:(o.top+r.top)/2},await st(100),this.world.makeConnection(l)}},toggleInput:()=>{let n=i.gate;this.currentHintSolution=()=>{n.out(0).toggle()}},moveGate:()=>{let n=i.gate,l=i.x,o=i.y,r=i.width-$(n.domElement).outerWidth(),a=i.height-$(n.domElement).outerHeight();this.currentHintSolution=async()=>{this.eventManager.publish("CANVAS_EDIT_MODE_CHANGED","MOVING"),await st(100),this.eventManager.publish("CANVAS_GATE_MOVE_START",n),n.domElement.style.transition="top 0.1s, left 0.1s",n.domElement.style.top=`${o+r/2}px`,n.domElement.style.left=`${l+a/2}px`,await st(100),n.domElement.style.transition="",this.eventManager.publish("CANVAS_GATE_MOVE_END",n)}}})[t]()}skip(){this.currentHintSolution&&(this.currentHintSolution(),this.currentHintSolution=null)}}console.log("HintCursor loaded");/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */(function(e){function t(o,r){if(!(o.originalEvent.touches.length>1)){o.preventDefault();var a=o.originalEvent.changedTouches[0],c=document.createEvent("MouseEvents");c.initMouseEvent(r,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(c)}}if(e.support.touch="ontouchend"in document,e.support.touch){var i,s=e.ui.mouse.prototype,n=s._mouseInit,l=s._mouseDestroy;s._touchStart=function(o){var r=this;!i&&r._mouseCapture(o.originalEvent.changedTouches[0])&&(i=!0,r._touchMoved=!1,t(o,"mouseover"),t(o,"mousemove"),t(o,"mousedown"))},s._touchMove=function(o){i&&(this._touchMoved=!0,t(o,"mousemove"))},s._touchEnd=function(o){i&&(t(o,"mouseup"),t(o,"mouseout"),this._touchMoved||t(o,"click"),i=!1)},s._mouseInit=function(){var o=this;o.element.bind({touchstart:e.proxy(o,"_touchStart"),touchmove:e.proxy(o,"_touchMove"),touchend:e.proxy(o,"_touchEnd")}),n.call(o)},s._mouseDestroy=function(){var o=this;o.element.unbind({touchstart:e.proxy(o,"_touchStart"),touchmove:e.proxy(o,"_touchMove"),touchend:e.proxy(o,"_touchEnd")}),l.call(o)}}})(jQuery);var gn;(function(e){var t=function(){function s(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(s.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(n){this._dropEffect=n},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(n){this._effectAllowed=n},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),s.prototype.clearData=function(n){n!=null?delete this._data[n]:this._data=null},s.prototype.getData=function(n){return this._data[n]||""},s.prototype.setData=function(n,l){this._data[n]=l},s.prototype.setDragImage=function(n,l,o){var r=i._instance;r._imgCustom=n,r._imgOffset={x:l,y:o}},s}();e.DataTransfer=t;var i=function(){function s(){if(this._lastClick=0,s._instance)throw"DragDropTouch instance already created.";var n=!1;if(document.addEventListener("test",function(){},{get passive(){return n=!0,!0}}),"ontouchstart"in document){var l=document,o=this._touchstart.bind(this),r=this._touchmove.bind(this),a=this._touchend.bind(this),c=n?{passive:!1,capture:!1}:!1;l.addEventListener("touchstart",o,c),l.addEventListener("touchmove",r,c),l.addEventListener("touchend",a),l.addEventListener("touchcancel",a)}}return s.getInstance=function(){return s._instance},s.prototype._touchstart=function(n){var l=this;if(this._shouldHandle(n)){if(Date.now()-this._lastClick<s._DBLCLICK&&this._dispatchEvent(n,"dblclick",n.target)){n.cancelable&&n.preventDefault(),this._reset();return}this._reset();var o=this._closestDraggable(n.target);o&&!this._dispatchEvent(n,"mousemove",n.target)&&!this._dispatchEvent(n,"mousedown",n.target)&&(this._dragSource=o,this._ptDown=this._getPoint(n),this._lastTouch=n,n.cancelable&&n.preventDefault(),setTimeout(function(){l._dragSource==o&&l._img==null&&l._dispatchEvent(n,"contextmenu",o)&&l._reset()},s._CTXMENU),s._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){l._isDragEnabled=!0,l._touchmove(n)},s._PRESSHOLDAWAIT)))}},s.prototype._touchmove=function(n){if(this._shouldCancelPressHoldMove(n)){this._reset();return}if(this._shouldHandleMove(n)||this._shouldHandlePressHoldMove(n)){var l=this._getTarget(n);if(this._dispatchEvent(n,"mousemove",l)){this._lastTouch=n,n.cancelable&&n.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(n)&&(this._dispatchEvent(n,"dragstart",this._dragSource),this._createImage(n),this._dispatchEvent(n,"dragenter",l)),this._img&&(this._lastTouch=n,n.cancelable&&n.preventDefault(),l!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(n,"dragenter",l),this._lastTarget=l),this._moveImage(n),this._isDropZone=this._dispatchEvent(n,"dragover",l))}},s.prototype._touchend=function(n){if(this._shouldHandle(n)){if(this._dispatchEvent(this._lastTouch,"mouseup",n.target)){n.cancelable&&n.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",n.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(n.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},s.prototype._shouldHandle=function(n){return n&&!n.defaultPrevented&&n.touches&&n.touches.length<2},s.prototype._shouldHandleMove=function(n){return!s._ISPRESSHOLDMODE&&this._shouldHandle(n)},s.prototype._shouldHandlePressHoldMove=function(n){return s._ISPRESSHOLDMODE&&this._isDragEnabled&&n&&n.touches&&n.touches.length},s.prototype._shouldCancelPressHoldMove=function(n){return s._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(n)>s._PRESSHOLDMARGIN},s.prototype._shouldStartDragging=function(n){var l=this._getDelta(n);return l>s._THRESHOLD||s._ISPRESSHOLDMODE&&l>=s._PRESSHOLDTHRESHOLD},s.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new t,clearInterval(this._pressHoldInterval)},s.prototype._getPoint=function(n,l){return n&&n.touches&&(n=n.touches[0]),{x:l?n.pageX:n.clientX,y:l?n.pageY:n.clientY}},s.prototype._getDelta=function(n){if(s._ISPRESSHOLDMODE&&!this._ptDown)return 0;var l=this._getPoint(n);return Math.abs(l.x-this._ptDown.x)+Math.abs(l.y-this._ptDown.y)},s.prototype._getTarget=function(n){for(var l=this._getPoint(n),o=document.elementFromPoint(l.x,l.y);o&&getComputedStyle(o).pointerEvents=="none";)o=o.parentElement;return o},s.prototype._createImage=function(n){this._img&&this._destroyImage();var l=this._imgCustom||this._dragSource;if(this._img=l.cloneNode(!0),this._copyStyle(l,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var o=l.getBoundingClientRect(),r=this._getPoint(n);this._imgOffset={x:r.x-o.left,y:r.y-o.top},this._img.style.opacity=s._OPACITY.toString()}this._moveImage(n),document.body.appendChild(this._img)},s.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},s.prototype._moveImage=function(n){var l=this;requestAnimationFrame(function(){if(l._img){var o=l._getPoint(n,!0),r=l._img.style;r.position="absolute",r.pointerEvents="none",r.zIndex="999999",r.left=Math.round(o.x-l._imgOffset.x)+"px",r.top=Math.round(o.y-l._imgOffset.y)+"px"}})},s.prototype._copyProps=function(n,l,o){for(var r=0;r<o.length;r++){var a=o[r];n[a]=l[a]}},s.prototype._copyStyle=function(n,l){if(s._rmvAtts.forEach(function(h){l.removeAttribute(h)}),n instanceof HTMLCanvasElement){var o=n,r=l;r.width=o.width,r.height=o.height,r.getContext("2d").drawImage(o,0,0)}for(var a=getComputedStyle(n),c=0;c<a.length;c++){var d=a[c];d.indexOf("transition")<0&&(l.style[d]=a[d])}l.style.pointerEvents="none";for(var c=0;c<n.children.length;c++)this._copyStyle(n.children[c],l.children[c])},s.prototype._dispatchEvent=function(n,l,o){if(n&&o){var r=document.createEvent("Event"),a=n.touches?n.touches[0]:n;return r.initEvent(l,!0,!0),r.button=0,r.which=r.buttons=1,this._copyProps(r,n,s._kbdProps),this._copyProps(r,a,s._ptProps),r.dataTransfer=this._dataTransfer,o.dispatchEvent(r),r.defaultPrevented}return!1},s.prototype._closestDraggable=function(n){for(;n;n=n.parentElement)if(n.hasAttribute("draggable")&&n.draggable)return n;return null},s}();i._instance=new i,i._THRESHOLD=5,i._OPACITY=.5,i._DBLCLICK=500,i._CTXMENU=900,i._ISPRESSHOLDMODE=!1,i._PRESSHOLDAWAIT=400,i._PRESSHOLDMARGIN=25,i._PRESSHOLDTHRESHOLD=0,i._rmvAtts="id,class,style,draggable".split(","),i._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),i._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),e.DragDropTouch=i})(gn||(gn={}));const tt=new Gc(void 0);console.log(location);const Wc=()=>{for(let e=0;e<20;e++){let t=document.createElement("div");t.innerHTML="dummy leak",document.body.appendChild(t),t.remove()}},Fc=async()=>{Wc();for(let e=0;e<10;e++)await ot(yi),await st(100),await ot(be),await st(100),await ot(Ai,Is[1].levels[0].id),await st(100)};let He=document.location.hash;He.startsWith("#play")?ot(Ai):He.startsWith("#world-selection")||He.startsWith("#smart-home-debug")?ot(be):He.startsWith("#tutorial")?ot(Ds):He.startsWith("#mem-leak-test")?Fc():ot(yi);let qt=document.createElement("button");qt.innerHTML="Show Wireframe";qt.style.position="fixed";qt.style.bottom="10px";qt.style.right="10px";qt.style.zIndex="100";qt.style.opacity="0.1";qt.addEventListener("click",()=>{let e=document.createElement("style");e.innerHTML=`
    * {
      outline: rgba(255,0,0,0.3) dotted 1px;
    }
  `,document.documentElement.appendChild(e),qt.remove()});document.body.appendChild(qt);let re=document.createElement("button");re.innerHTML="Clear User Data";re.style.position="fixed";re.style.bottom="10px";re.style.left="10px";re.style.zIndex="100";re.style.opacity="0.1";re.addEventListener("click",()=>{Vt.clear()});document.body.appendChild(re);
